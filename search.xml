<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>LeetCode 题目分类汇总</title>
      <link href="posts/ac5e58f0/"/>
      <url>posts/ac5e58f0/</url>
      
        <content type="html"><![CDATA[<h1 id="汇总"><a class="markdownIt-Anchor" href="#汇总"></a> 汇总</h1><table><thead><tr><th>题目</th><th>解题记录</th><th>难度</th><th>关键字</th></tr></thead><tbody><tr><td><a href="https://leetcode.com/problems/median-of-two-sorted-arrays/">4</a></td><td><a href="/posts/1f34f97d/" title="Median of Two Sorted Arrays">Median of Two Sorted Arrays</a></td><td>困难</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/search-in-rotated-sorted-array/">33</a></td><td><a href="/posts/84c602fe/" title="Search in Rotated Sorted Array">Search in Rotated Sorted Array</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/">34</a></td><td><a href="/posts/39bf3160/" title="Find First and Last Position of Element in Sorted Array">Find First and Last Position of Element in Sorted Array</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/merge-intervals">52</a></td><td><a href="/posts/7cb44be5/" title="Merge Intervals">Merge Intervals</a></td><td>中等</td><td>排序</td></tr><tr><td><a href="https://leetcode.com/problems/sqrtx/">69</a></td><td><a href="/posts/340c2b50/" title="Sqrt(x)">Sqrt(x)</a></td><td>简单</td><td>二分，牛顿迭代法</td></tr><tr><td><a href="https://leetcode.com/problems/search-a-2d-matrix/">74</a></td><td><a href="/posts/90d1a8b3/" title="Search a 2D Matrix">Search a 2D Matrix</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/minimum-window-substring">76</a></td><td><a href="/posts/4a667ae0/" title="Minimum Window Substring">Minimum Window Substring</a></td><td>困难</td><td>双指针</td></tr><tr><td><a href="https://leetcode.com/problems/search-in-rotated-sorted-array-ii/">81</a></td><td><a href="/posts/f66a2f54/" title="Search in Rotated Sorted Array II">Search in Rotated Sorted Array II</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/merge-sorted-array">88</a></td><td><a href="/posts/9648cc77/" title="Merge Sorted Array">Merge Sorted Array</a></td><td>简单</td><td>双指针</td></tr><tr><td><a href="https://leetcode.com/problems/reverse-linked-list-ii">92</a></td><td><a href="/posts/aee51397/" title="Reverse Linked List II">Reverse Linked List II</a></td><td>中等</td><td>链表</td></tr><tr><td><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii">122</a></td><td><a href="/posts/e513e7dc/" title="Best Time to Buy and Sell Stock II">Best Time to Buy and Sell Stock II</a></td><td>简单</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/candy">135</a></td><td><a href="/posts/86fcf368/" title="Candy">Candy</a></td><td>困难</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/linked-list-cycle">141</a></td><td><a href="/posts/7bfc535b/" title="Linked List Cycle">Linked List Cycle</a></td><td>简单</td><td>链表</td></tr><tr><td><a href="https://leetcode.com/problems/linked-list-cycle-ii">142</a></td><td><a href="/posts/cc8b51d9/" title="Linked List Cycle II">Linked List Cycle II</a></td><td>中等</td><td>链表</td></tr><tr><td><a href="https://leetcode.com/problems/insertion-sort-list">147</a></td><td><a href="/posts/6a9dec7e/" title="Insertion Sort List">Insertion Sort List</a></td><td>中等</td><td>排序</td></tr><tr><td><a href="https://leetcode.com/problems/find-minimum-in-rotated-sorted-array-ii">154</a></td><td><a href="/posts/dc05f3e5/" title="Find Minimum in Rotated Sorted Array II">Find Minimum in Rotated Sorted Array II</a></td><td>困难</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/intersection-of-two-linked-lists">160</a></td><td><a href="/posts/50f23bee/" title="Intersection of Two Linked Lists">Intersection of Two Linked Lists</a></td><td>简单</td><td>链表</td></tr><tr><td><a href="https://leetcode.com/problems/find-peak-element">162</a></td><td><a href="/posts/46ffc75b/" title="Find Peak Element">Find Peak Element</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/two-sum-ii-input-array-is-sorted">167</a></td><td><a href="/posts/92ab2227/" title="Two Sum II - Input array is sorted">Two Sum II - Input array is sorted</a></td><td>简单</td><td>双指针</td></tr><tr><td><a href="https://leetcode.com/problems/largest-number">179</a></td><td><a href="/posts/bf39723/" title="Largest Number">Largest Number</a></td><td>中等</td><td>排序</td></tr><tr><td><a href="https://leetcode.com/problems/reverse-linked-list">206</a></td><td><a href="/posts/c7fc6e60/" title="Reverse Linked List">Reverse Linked List</a></td><td>简单</td><td>链表</td></tr><tr><td><a href="https://leetcode.com/problems/kth-largest-element-in-an-array">215</a></td><td><a href="/posts/9a60758/" title="Kth Largest Element in an Array">Kth Largest Element in an Array</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/implement-stack-using-queues">225</a></td><td><a href="/posts/c93a51f1/" title="Implement Stack using Queues">Implement Stack using Queues</a></td><td>简单</td><td>队列</td></tr><tr><td><a href="https://leetcode.com/problems/search-a-2d-matrix-ii">240</a></td><td><a href="/posts/c7bcd071/" title="Search a 2D Matrix II">Search a 2D Matrix II</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/first-bad-version">278</a></td><td><a href="/posts/d2fc0325/" title="First Bad Version">First Bad Version</a></td><td>简单</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/odd-even-linked-list">328</a></td><td><a href="/posts/86356f80/" title="Odd Even Linked List">Odd Even Linked List</a></td><td>中等</td><td>链表</td></tr><tr><td><a href="https://leetcode.com/problems/moving-average-from-data-stream/">346</a></td><td><a href="/posts/f4a86a0d/" title="Moving Average from Data Stream">Moving Average from Data Stream</a></td><td>简单</td><td>队列，滑动窗口</td></tr><tr><td><a href="https://leetcode.com/problems/queue-reconstruction-by-height">406</a></td><td><a href="/posts/1d2ecea5/" title="Queue Reconstruction by Height">Queue Reconstruction by Height</a></td><td>中等</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/non-overlapping-intervals">435</a></td><td><a href="/posts/1ab92857/" title="Non-overlapping Intervals">Non-overlapping Intervals</a></td><td>中等</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/minimum-number-of-arrows-to-burst-balloons/">452</a></td><td><a href="/posts/71cefafc/" title="Minimum Number of Arrows to Burst Balloons">Minimum Number of Arrows to Burst Balloons</a></td><td>中等</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/assign-cookies">455</a></td><td><a href="/posts/19a161a/" title="Assign Cookies">Assign Cookies</a></td><td>简单</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/longest-word-in-dictionary-through-deleting/">524</a></td><td><a href="/posts/f46d7949/" title="Longest Word in Dictionary through Deleting">Longest Word in Dictionary through Deleting</a></td><td>中等</td><td>双指针</td></tr><tr><td><a href="https://leetcode.com/problems/single-element-in-a-sorted-array">540</a></td><td><a href="/posts/d78f4506/" title="Single Element in a Sorted Array">Single Element in a Sorted Array</a></td><td>中等</td><td>二分</td></tr><tr><td><a href="https://leetcode.com/problems/can-place-flowers">605</a></td><td><a href="/posts/ef5a23d/" title="Can Place Flowers">Can Place Flowers</a></td><td>简单</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/sum-of-square-numbers">633</a></td><td><a href="/posts/66d12b72/" title="Sum of Square Numbers">Sum of Square Numbers</a></td><td>简单</td><td>双指针</td></tr><tr><td><a href="https://leetcode.com/problems/non-decreasing-array">665</a></td><td><a href="/posts/a460efb0/" title="Non-decreasing Array">Non-decreasing Array</a></td><td>中等</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/valid-palindrome-ii">680</a></td><td><a href="/posts/6a28d588/" title="Valid Palindrome II">Valid Palindrome II</a></td><td>简单</td><td>双指针</td></tr><tr><td><a href="https://leetcode.com/problems/partition-labels">763</a></td><td><a href="/posts/c336fcb2/" title="Partition Labels">Partition Labels</a></td><td>中等</td><td>贪心</td></tr><tr><td><a href="https://leetcode.com/problems/find-and-replace-in-string">833</a></td><td><a href="/posts/8bc10515/" title="Find And Replace in String">Find And Replace in String</a></td><td>中等</td><td>字符串</td></tr><tr><td><a href="https://leetcode.com/problems/middle-of-the-linked-list">876</a></td><td><a href="/posts/a52b91a6/" title="Middle of the Linked List">Middle of the Linked List</a></td><td>简单</td><td>链表</td></tr><tr><td><a href="https://leetcode.com/problems/sort-an-array">912</a></td><td><a href="/posts/6854315/" title="Sort an Array">Sort an Array</a></td><td>中等</td><td>排序</td></tr><tr><td><a href="https://leetcode.com/problems/find-in-mountain-array">1095</a></td><td><a href="/posts/24e5a86/" title="Find in Mountain Array">Find in Mountain Array</a></td><td>困难</td><td>二分</td></tr></tbody></table><h1 id="知识类型"><a class="markdownIt-Anchor" href="#知识类型"></a> 知识类型</h1><h2 id="排序类"><a class="markdownIt-Anchor" href="#排序类"></a> 排序类</h2><a href="/posts/7cb44be5/" title="【LeetCode】56. Merge Intervals 解题记录">【LeetCode】56. Merge Intervals 解题记录</a> <br/><a href="/posts/6a9dec7e/" title="【LeetCode】147. Insertion Sort List 解题记录">【LeetCode】147. Insertion Sort List 解题记录</a> <br/><a href="/posts/bf39723/" title="【LeetCode】179. Largest Number 解题记录">【LeetCode】179. Largest Number 解题记录</a> <br/><a href="/posts/6854315/" title="【LeetCode】912. Sort an Array 解题记录">【LeetCode】912. Sort an Array 解题记录</a> <br/><h2 id="链表类"><a class="markdownIt-Anchor" href="#链表类"></a> 链表类</h2><a href="/posts/aee51397/" title="【LeetCode】92. Reverse Linked List II 解题记录">【LeetCode】92. Reverse Linked List II 解题记录</a> <br/><a href="/posts/7bfc535b/" title="【LeetCode】141. Linked List Cycle 解题记录">【LeetCode】141. Linked List Cycle 解题记录</a> <br/><a href="/posts/cc8b51d9/" title="【LeetCode】142. Linked List Cycle II 解题记录">【LeetCode】142. Linked List Cycle II 解题记录</a> <br/><a href="/posts/50f23bee/" title="【LeetCode】160. Intersection of Two Linked Lists 解题记录">【LeetCode】160. Intersection of Two Linked Lists 解题记录</a> <br/><a href="/posts/c7fc6e60/" title="【LeetCode】206. Reverse Linked List 解题记录">【LeetCode】206. Reverse Linked List 解题记录</a> <br/><a href="/posts/86356f80/" title="【LeetCode】328. Odd Even Linked List 解题记录">【LeetCode】328. Odd Even Linked List 解题记录</a> <br/><a href="/posts/a52b91a6/" title="【LeetCode】876. Middle of the Linked List 解题记录">【LeetCode】876. Middle of the Linked List 解题记录</a> <br/><h2 id="二分法"><a class="markdownIt-Anchor" href="#二分法"></a> 二分法</h2><a href="/posts/1f34f97d/" title="【LeetCode】4. Median of Two Sorted Arrays 解题记录">【LeetCode】4. Median of Two Sorted Arrays 解题记录</a> <br/><a href="/posts/84c602fe/" title="【LeetCode】33. Search in Rotated Sorted Array 解题记录">【LeetCode】33. Search in Rotated Sorted Array 解题记录</a> <br/><a href="/posts/39bf3160/" title="【LeetCode】34. Find First and Last Position of Element in Sorted Array 解题记录">【LeetCode】34. Find First and Last Position of Element in Sorted Array 解题记录</a> <br/><a href="/posts/340c2b50/" title="【LeetCode】69. Sqrt(x) 解题记录">【LeetCode】69. Sqrt(x) 解题记录</a> <br/><a href="/posts/90d1a8b3/" title="【LeetCode】74. Search a 2D Matrix 解题记录">【LeetCode】74. Search a 2D Matrix 解题记录</a> <br/><a href="/posts/f66a2f54/" title="【LeetCode】81. Search in Rotated Sorted Array II 解题记录">【LeetCode】81. Search in Rotated Sorted Array II 解题记录</a> <br/><a href="/posts/dc05f3e5/" title="【LeetCode】154. Find Minimum in Rotated Sorted Array II 解题记录">【LeetCode】154. Find Minimum in Rotated Sorted Array II 解题记录</a> <br/><a href="/posts/46ffc75b/" title="【LeetCode】162. Find Peak Element 解题记录">【LeetCode】162. Find Peak Element 解题记录</a> <br/><a href="/posts/9a60758/" title="【LeetCode】215. Kth Largest Element in an Array 解题记录">【LeetCode】215. Kth Largest Element in an Array 解题记录</a> <br/><a href="/posts/c7bcd071/" title="【LeetCode】240. Search a 2D Matrix II 解题记录">【LeetCode】240. Search a 2D Matrix II 解题记录</a> <br/><a href="/posts/d2fc0325/" title="【LeetCode】278. First Bad Version 解题记录">【LeetCode】278. First Bad Version 解题记录</a> <br/><a href="/posts/d78f4506/" title="【LeetCode】540. Single Element in a Sorted Array 解题记录">【LeetCode】540. Single Element in a Sorted Array 解题记录</a> <br/><a href="/posts/24e5a86/" title="【LeetCode】1095. Find in Mountain Array 解题记录">【LeetCode】1095. Find in Mountain Array 解题记录</a> <br/><h2 id="双指针"><a class="markdownIt-Anchor" href="#双指针"></a> 双指针</h2><a href="/posts/4a667ae0/" title="【LeetCode】76. Minimum Window Substring 解题记录">【LeetCode】76. Minimum Window Substring 解题记录</a> <br/><a href="/posts/9648cc77/" title="【LeetCode】88. Merge Sorted Array 解题记录">【LeetCode】88. Merge Sorted Array 解题记录</a> <br/><a href="/posts/92ab2227/" title="【LeetCode】167. Two Sum II - Input array is sorted 解题记录">【LeetCode】167. Two Sum II - Input array is sorted 解题记录</a> <br/><a href="/posts/f46d7949/" title="【LeetCode】524. Longest Word in Dictionary through Deleting 解题记录">【LeetCode】524. Longest Word in Dictionary through Deleting 解题记录</a> <br/><a href="/posts/66d12b72/" title="【LeetCode】633. Sum of Square Numbers 解题记录">【LeetCode】633. Sum of Square Numbers 解题记录</a> <br/><a href="/posts/6a28d588/" title="【LeetCode】680. Valid Palindrome II 解题记录">【LeetCode】680. Valid Palindrome II 解题记录</a> <br/><h2 id="贪心"><a class="markdownIt-Anchor" href="#贪心"></a> 贪心</h2><a href="/posts/e513e7dc/" title="【LeetCode】122. Best Time to Buy and Sell Stock II 解题记录">【LeetCode】122. Best Time to Buy and Sell Stock II 解题记录</a> <br/><a href="/posts/86fcf368/" title="【LeetCode】135. Candy 解题记录">【LeetCode】135. Candy 解题记录</a> <br/><a href="/posts/1d2ecea5/" title="【LeetCode】406. Queue Reconstruction by Height 解题记录">【LeetCode】406. Queue Reconstruction by Height 解题记录</a> <br/><a href="/posts/1ab92857/" title="【LeetCode】435. Non-overlapping Intervals 解题记录">【LeetCode】435. Non-overlapping Intervals 解题记录</a> <br/><a href="/posts/71cefafc/" title="【LeetCode】452. Minimum Number of Arrows to Burst Balloons 解题记录">【LeetCode】452. Minimum Number of Arrows to Burst Balloons 解题记录</a> <br/><a href="/posts/19a161a/" title="【LeetCode】455. Assign Cookies 解题记录">【LeetCode】455. Assign Cookies 解题记录</a> <br/><a href="/posts/a460efb0/" title="【LeetCode】665. Non-decreasing Array 解题记录">【LeetCode】665. Non-decreasing Array 解题记录</a> <br/><a href="/posts/c336fcb2/" title="【LeetCode】763. Partition Labels 解题记录">【LeetCode】763. Partition Labels 解题记录</a> <br/><h2 id="堆-栈-队列-哈希表"><a class="markdownIt-Anchor" href="#堆-栈-队列-哈希表"></a> 堆、栈、队列、哈希表</h2><h3 id="队列"><a class="markdownIt-Anchor" href="#队列"></a> 队列</h3><a href="/posts/c93a51f1/" title="【LeetCode】225. Implement Stack using Queues 解题记录">【LeetCode】225. Implement Stack using Queues 解题记录</a> <br/><a href="/posts/f4a86a0d/" title="【LeetCode】346. Moving Average from Data Stream 解题记录">【LeetCode】346. Moving Average from Data Stream 解题记录</a> <br/>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>禁用Win10截屏快捷键Win+Shift+S，改用Snipaste(转载)</title>
      <link href="posts/aea02211/"/>
      <url>posts/aea02211/</url>
      
        <content type="html"><![CDATA[<p>本文转载自<a href="https://blog.csdn.net/weixin_46201756/article/details/106154786">禁用Win10截屏快捷键Win+Shift+S，改用Snipaste</a></p><h1 id="打开注册表"><a class="markdownIt-Anchor" href="#打开注册表"></a> 打开注册表</h1><p>按下Win+R键，输入regedit，回车即可打开；</p><p><img src="/images/%E7%A6%81%E7%94%A8Win10%E6%88%AA%E5%B1%8F%E5%BF%AB%E6%8D%B7%E9%94%AEWin-Shift-S%EF%BC%8C%E6%94%B9%E7%94%A8Snipaste-%E8%BD%AC%E8%BD%BD/2021-11-24-11-07-43.png" alt="" /></p><h1 id="进入我们要设置的目录"><a class="markdownIt-Anchor" href="#进入我们要设置的目录"></a> 进入我们要设置的目录</h1><p><code>\HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced</code></p><p><img src="/images/%E7%A6%81%E7%94%A8Win10%E6%88%AA%E5%B1%8F%E5%BF%AB%E6%8D%B7%E9%94%AEWin-Shift-S%EF%BC%8C%E6%94%B9%E7%94%A8Snipaste-%E8%BD%AC%E8%BD%BD/2021-11-24-11-08-25.png" alt="" /></p><h1 id="设置具体禁用的键"><a class="markdownIt-Anchor" href="#设置具体禁用的键"></a> 设置具体禁用的键</h1><p>新建一个字符串值，数值名称为 <code>DisabledHotkeys</code>，数值数据为 <code>S</code></p><p><img src="/images/%E7%A6%81%E7%94%A8Win10%E6%88%AA%E5%B1%8F%E5%BF%AB%E6%8D%B7%E9%94%AEWin-Shift-S%EF%BC%8C%E6%94%B9%E7%94%A8Snipaste-%E8%BD%AC%E8%BD%BD/2021-11-24-11-09-04.png" alt="" /></p><h1 id="关闭注册表-重启电脑"><a class="markdownIt-Anchor" href="#关闭注册表-重启电脑"></a> 关闭注册表、重启电脑</h1><p>重启后再试试，Win10自带的截图工具快捷键是不是已经失效了。</p>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 截图工具 </tag>
            
            <tag> Snipaste </tag>
            
            <tag> 快捷键 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 在 Windows 中管理符号链接</title>
      <link href="posts/c866167c/"/>
      <url>posts/c866167c/</url>
      
        <content type="html"><![CDATA[<h1 id="流程"><a class="markdownIt-Anchor" href="#流程"></a> 流程</h1><ol><li>下载最新 <a href="https://git-scm.com/download/win">Git for windows</a></li><li>安装时选中 <code>Enable symbolic links</code><br /><img src="/images/Git-%E5%9C%A8-Windows-%E4%B8%AD%E7%AE%A1%E7%90%86%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5/2021-11-24-10-43-00.png" alt="" /><br />启用符号链接（需要SeCreateSymbolicLink权限）。注意，现有仓库不受此设置的影响。</li><li>克隆仓库并启用符号链接支持 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -c core.symlinks=<span class="literal">true</span> &lt;URL&gt;</span><br></pre></td></tr></table></figure></li><li>创建符号链接<br />符号链接支持指向绝对/相对路径 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mklink /d this-link-points-to c:\that-directory</span><br><span class="line">mklink this-link-points-to c:\that-file</span><br></pre></td></tr></table></figure>目录联结只支持指向绝对路径（命令中的相对路径会被转为绝对路径） <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklink /j this-link-points-to c:\that-directory</span><br></pre></td></tr></table></figure></li><li>赋予相关权限<br />若使用符号链接，需要添加权限，详见<a href="##%E5%85%81%E8%AE%B8%E9%9D%9E%E7%AE%A1%E7%90%86%E5%91%98%E5%88%9B%E5%BB%BA%E7%AC%A6%E5%8F%B7%E9%93%BE%E6%8E%A5">允许非管理员创建符号链接</a><br />完成后重启计算机</li></ol><h1 id="官方说明"><a class="markdownIt-Anchor" href="#官方说明"></a> 官方说明</h1><h2 id="符号链接"><a class="markdownIt-Anchor" href="#符号链接"></a> 符号链接</h2><p>概述：Windows 上没有完全等效的 POSIX 符号链接，默认情况下，非管理员无法使用类似的链接，除非启用开发人员模式并使用相对较新的 Windows 10 版本。 因此，仅在检测到场景能够支持时，符号链接功能才会默认开启。 用户可以通过 <code>core.symlinks=true</code> 配置手动启用。</p><h2 id="背景"><a class="markdownIt-Anchor" href="#背景"></a> 背景</h2><p>从 Windows Vista 开始，添加了对符号链接的支持。但其并不是 Unix 符号链接，它们在很多方面有所不同：</p><ul><li>符号链接仅在 Windows Vista 及更高版本上可用，尤其是在 XP 上不可用</li><li>需要 <code>SeCreateSymbolicLinkPrivilege</code> 权限，默认情况下仅分配给管理员并由 <code>UAC</code> 保护，但可以分配给其他用户或用户组（见下文）。</li><li>默认情况下禁用远程文件系统上的符号链接（调用 fsutil 行为查询 SymlinkEvaluation 查找）</li><li>符号链接仅适用于 NTFS，不适用于 FAT 或 exFAT</li><li>Windows 的符号链接是分类型的：它们需要知道是指向目录还是​​指向文件（因此，Git 发现错误时会更新类型）</li><li>许多程序不支持符号链接<br />由于这些原因，Git for Windows 默认禁用对符号链接的支持（当遇到符号链接时它仍会读取它们）。可以通过 <code>core.symlinks</code> 配置变量启用支持，例如克隆时：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -c core.symlinks=<span class="literal">true</span> &lt;URL&gt;</span><br></pre></td></tr></table></figure><h2 id="创建符号链接"><a class="markdownIt-Anchor" href="#创建符号链接"></a> 创建符号链接</h2><p>默认情况下，Git Bash 中的 <code>ln -s</code> 命令不会创建符号链接。 相反，它会创建副本。</p><p>要创建符号链接（前提是您的帐户有相应权限），使用内置的 mklink 命令，如下所示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mklink /d this-link-points-to c:\that-directory</span><br><span class="line">mklink this-link-points-to c:\that-file</span><br></pre></td></tr></table></figure><h2 id="允许非管理员创建符号链接"><a class="markdownIt-Anchor" href="#允许非管理员创建符号链接"></a> 允许非管理员创建符号链接</h2><p>可以使用本地策略编辑器（或在域帐户的情况下通过 Active Directory 策略）分配创建符号链接的权限。 Windows 家庭版不支持策略编辑器，但可以使用免费的 Polsedit。</p><ul><li><p>本地组策略编辑器：启动 <code>gpedit.msc</code>，导航到 <code>计算机配置 - Windows 设置 - 安全设置 - 本地策略 - 用户权限分配</code> 并将帐户添加到 <code>创建符号链接</code> 选项中。</p></li><li><p>本地安全策略：启动 <code>secpol.msc</code>，导航到 <code>本地策略 - 用户权限分配</code> 并将帐户添加到 <code>创建符号链接</code> 选项中。</p></li><li><p>Polsedit：启动 <code>polseditx32.exe</code> 或 <code>polseditx64.exe</code>（取决于您的 Windows 版本），导航到 <code>安全设置 - 用户权限分配</code> 并将帐户添加到 <code>创建符号链接</code> 选项中。</p></li></ul><p>请注意，无论权限分配如何，管理员组的成员也将需要 UAC 提升。从 Windows 10 版本 1703（创作者更新）开始，启用开发者模式将禁用此限制，并允许在没有 UAC 提升的情况下创建符号链接（尽管 Git for Windows 仍然需要 UAC 提升直到 v2.13.0）。</p><h2 id="创建目录联结"><a class="markdownIt-Anchor" href="#创建目录联结"></a> 创建目录联结</h2><p>默认情况下，非管理员用户可以创建目录联结。可以作为符号链接的替代品。要创建目录连接，请使用带有 <code>/j</code> 参数的 <code>mklink</code> 命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mklink /j this-link-points-to c:\that-directory</span><br></pre></td></tr></table></figure><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://github.com/git-for-windows/git/wiki/Symbolic-Links">Symbolic Links</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Symbol link </tag>
            
            <tag> 符号链接 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code Remote 配置 Windows 为服务器</title>
      <link href="posts/695abada/"/>
      <url>posts/695abada/</url>
      
        <content type="html"><![CDATA[<p>VS Code 远程开发非常方便实用，以下介绍将 Windows 作为 VS Code 远程服务器的方法，完成配置后可以使用其他机器连接到该 Windows 机器进行远程开发。</p><h1 id="在-windows-服务器上安装-ssh-server"><a class="markdownIt-Anchor" href="#在-windows-服务器上安装-ssh-server"></a> 在 Windows 服务器上安装 SSH Server</h1><h2 id="安装-openssh-server"><a class="markdownIt-Anchor" href="#安装-openssh-server"></a> 安装 <code>OpenSSH Server</code></h2><p>以管理员身份运行 <code>Power Shell</code>，执行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Get-WindowsCapability -Online -Name Open*</span><br><span class="line">Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0</span><br></pre></td></tr></table></figure><p>第一条命令查询可安装的 <code>OpenSSH</code> 组件，输出为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Name         : OpenSSH.Client~~~~0.0.1.0</span><br><span class="line">State        : Installed</span><br><span class="line">DisplayName  : OpenSSH 客户端</span><br><span class="line">Description  : 基于 OpenSSH 的安全外壳(SSH)客户端，可用于安全密钥管理和远程计算机访问。</span><br><span class="line">DownloadSize : 1314377</span><br><span class="line">InstallSize  : 10602592</span><br><span class="line"></span><br><span class="line">Name         : OpenSSH.Server~~~~0.0.1.0</span><br><span class="line">State        : NotPresent</span><br><span class="line">DisplayName  : OpenSSH 服务器</span><br><span class="line">Description  : 基于 OpenSSH 的安全外壳(SSH)服务器，可用于安全密钥管理和远程计算机访问。</span><br><span class="line">DownloadSize : 1290075</span><br><span class="line">InstallSize  : 9894430</span><br></pre></td></tr></table></figure><p>第二条命令安装 <code>OpenSSH 服务器</code>，输出为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Path          :</span><br><span class="line">Online        : True</span><br><span class="line">RestartNeeded : False</span><br></pre></td></tr></table></figure><p>验证 <code>SSH 服务</code> 运行状态：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-Service sshd,ssh-agent</span><br></pre></td></tr></table></figure><p>输出为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Status   Name               DisplayName</span><br><span class="line">------   ----               -----------</span><br><span class="line">Stopped  ssh-agent          OpenSSH Authentication Agent</span><br><span class="line">Stopped  sshd               OpenSSH SSH Server</span><br></pre></td></tr></table></figure><p>代表已安装 <code>OpenSSH Agent</code> 和 <code>OpenSSH Server</code>，但未启用。</p><h2 id="设置-openssh-服务-开机自启"><a class="markdownIt-Anchor" href="#设置-openssh-服务-开机自启"></a> 设置 <code>OpenSSH 服务</code> 开机自启</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Set-Service -Name sshd -StartupType Automatic </span><br><span class="line">Set-Service -Name ssh-agent -StartupType Automatic </span><br><span class="line">Start-Service sshd </span><br><span class="line">Start-Service ssh-agent</span><br></pre></td></tr></table></figure><p>再次验证 <code>SSH 服务</code> 运行状态：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-Service sshd,ssh-agent</span><br></pre></td></tr></table></figure><p>输出为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Status   Name               DisplayName</span><br><span class="line">------   ----               -----------</span><br><span class="line">Running  ssh-agent          OpenSSH Authentication Agent</span><br><span class="line">Running  sshd               OpenSSH SSH Server</span><br></pre></td></tr></table></figure><p>代表 <code>OpenSSH Agent</code> 和 <code>OpenSSH Server</code> 已启用。</p><h2 id="尝试连接本机-ssh"><a class="markdownIt-Anchor" href="#尝试连接本机-ssh"></a> 尝试连接本机 <code>ssh</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh &lt;user-name&gt;@cn-zz-bgp-5.natfrp.cloud -p38900</span><br></pre></td></tr></table></figure><p>其中，<code>user-name</code> 为 Windows 登录用户名，若为微软在线账户，在本地查看 <code>C:\Users\&lt;user-name&gt;</code> 路径（通常为在线账户的部分前缀）。</p><h1 id="添加可信主机密钥"><a class="markdownIt-Anchor" href="#添加可信主机密钥"></a> 添加可信主机密钥</h1><p>完成以上步骤后，每次登录都需要输入密码，我们可以将常用主机的 <code>RSA</code> 密钥添加到 <code>Windows</code> 服务器主机中，防止每次输入密码。</p><h2 id="生成密钥"><a class="markdownIt-Anchor" href="#生成密钥"></a> 生成密钥</h2><p>在要进行远程连接的机器上执行以下命令，确认项直接回车确认：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>拷贝文件 <code>C:\Users\&lt;user-name&gt;\.ssh\id_rsa.pub</code> 中的公钥，其中 <code>user-name</code> 是你的用户名。</p><h2 id="在-windows-服务器-中添加可信公钥"><a class="markdownIt-Anchor" href="#在-windows-服务器-中添加可信公钥"></a> 在 <code>Windows 服务器</code> 中添加可信公钥</h2><p>登录 <code>Windows 服务器</code>，进行以下操作：</p><h3 id="若登录用户不属于管理员组"><a class="markdownIt-Anchor" href="#若登录用户不属于管理员组"></a> 若登录用户不属于管理员组</h3><p>进入目录 <code>C:\Users\&lt;user-name&gt;\</code>，若 <code>.ssh</code> 目录不存在，则创建该目录；</p><p>进入该目录，新建文件 <code>authorized_keys</code> 在其中添加第 <a href="#1-%E7%94%9F%E6%88%90%E5%AF%86%E9%92%A5">1 小节</a> 中目标机器的公钥；</p><p>如需添加多台机器公钥，回车分割每行一个即可。</p><h3 id="若登录用户属于管理员组"><a class="markdownIt-Anchor" href="#若登录用户属于管理员组"></a> 若登录用户属于管理员组</h3><p>进入目录 <code>C:\ProgramData\ssh\</code>；</p><p>进入该目录，新建文件 <code>administrators_authorized_keys</code> 在其中添加第 <a href="#1-%E7%94%9F%E6%88%90%E5%AF%86%E9%92%A5">1 小节</a> 中目标机器的公钥；</p><p>如需添加多台机器公钥，回车分割每行一个即可。</p><p>执行以下 <code>Power Shell</code> 脚本，为该文件赋予合适的权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$acl</span> = Get-Acl C:\ProgramData\ssh\administrators_authorized_keys</span><br><span class="line"><span class="variable">$acl</span>.SetAccessRuleProtection(<span class="variable">$true</span>, <span class="variable">$false</span>)</span><br><span class="line"><span class="variable">$administratorsRule</span> = New-Object system.security.accesscontrol.filesystemaccessrule(<span class="string">&quot;Administrators&quot;</span>,<span class="string">&quot;FullControl&quot;</span>,<span class="string">&quot;Allow&quot;</span>)</span><br><span class="line"><span class="variable">$systemRule</span> = New-Object system.security.accesscontrol.filesystemaccessrule(<span class="string">&quot;SYSTEM&quot;</span>,<span class="string">&quot;FullControl&quot;</span>,<span class="string">&quot;Allow&quot;</span>)</span><br><span class="line"><span class="variable">$acl</span>.SetAccessRule(<span class="variable">$administratorsRule</span>)</span><br><span class="line"><span class="variable">$acl</span>.SetAccessRule(<span class="variable">$systemRule</span>)</span><br><span class="line"><span class="variable">$acl</span> | Set-Acl</span><br></pre></td></tr></table></figure><h2 id="重启机器"><a class="markdownIt-Anchor" href="#重启机器"></a> 重启机器</h2><p>重启机器，尝试从远程机器连接到 <code>Windows VS Code</code>，无需输入密码即可连接。</p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://medium.com/@bigoudi/vscode-success-manage-windows-server-2019-core-remotely-64167b9edf3f">VSCode success: manage Windows Server 2019 (Core) remotely</a></p><p><a href="https://www.concurrency.com/blog/may-2019/key-based-authentication-for-openssh-on-windows">Key-based Authentication for OpenSSH on Windows</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> Remote Developement </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】225. Implement Stack using Queues 解题记录</title>
      <link href="posts/c93a51f1/"/>
      <url>posts/c93a51f1/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Implement a last-in-first-out (LIFO) stack using only two queues. The implemented stack should support all the functions of a normal stack (push, top, pop, and empty).</p><p>Implement the MyStack class:</p><ul><li>void push(int x) Pushes element x to the top of the stack.</li><li>int pop() Removes the element on the top of the stack and returns it.</li><li>int top() Returns the element on the top of the stack.</li><li>boolean empty() Returns true if the stack is empty, false otherwise.</li></ul><p>Notes:</p><ul><li>You must use only standard operations of a queue, which means that only push to back, peek/pop from front, size and is empty operations are valid.</li><li>Depending on your language, the queue may not be supported natively. You may simulate a queue using a list or deque (double-ended queue) as long as you use only a queue’s standard operations.</li></ul><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[&quot;MyStack&quot;, &quot;push&quot;, &quot;push&quot;, &quot;top&quot;, &quot;pop&quot;, &quot;empty&quot;]</span><br><span class="line">[[], [1], [2], [], [], []]</span><br><span class="line">Output</span><br><span class="line">[null, null, null, 2, 2, false]</span><br><span class="line"></span><br><span class="line">Explanation</span><br><span class="line">MyStack myStack = new MyStack();</span><br><span class="line">myStack.push(1);</span><br><span class="line">myStack.push(2);</span><br><span class="line">myStack.top(); // return 2</span><br><span class="line">myStack.pop(); // return 2</span><br><span class="line">myStack.empty(); // return False</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= x &lt;= 9</span><br><span class="line">At most 100 calls will be made to push, pop, top, and empty.</span><br><span class="line">All the calls to pop and top are valid.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>只要保证每次 <code>push</code> 后，新元素都处于队头位置即可，<code>pop</code> 和 <code>top</code> 取队头元素即可。</p><p><code>push</code> 新元素：</p><ul><li>将新元素加入队尾</li><li>取队头元素并将其加入队尾，直到队头为新加入的元素</li></ul><p><strong>补充：</strong></p><ol><li>队列</li><li>时间复杂度 <code>push = O(n), pop = O(1)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyStack</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Queue&lt;Integer&gt; queue;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Push element x onto stack. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sz = queue.size();</span><br><span class="line">        queue.offer(x);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(sz-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            queue.add(queue.poll());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the element on top of the stack and returns that element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.poll();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the top element. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns whether the stack is empty. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">empty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MyStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MyStack obj = new MyStack();</span></span><br><span class="line"><span class="comment"> * obj.push(x);</span></span><br><span class="line"><span class="comment"> * int param_2 = obj.pop();</span></span><br><span class="line"><span class="comment"> * int param_3 = obj.top();</span></span><br><span class="line"><span class="comment"> * boolean param_4 = obj.empty();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】346. Moving Average from Data Stream 解题记录</title>
      <link href="posts/f4a86a0d/"/>
      <url>posts/f4a86a0d/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given a stream of integers and a window size, calculate the moving average of all integers in the sliding window.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MovingAverage m = new MovingAverage(3);</span><br><span class="line">m.next(1) = 1</span><br><span class="line">m.next(10) = (1 + 10) / 2</span><br><span class="line">m.next(3) = (1 + 10 + 3) / 3</span><br><span class="line">m.next(5) = (10 + 3 + 5) / 3</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>使用队列来保存窗口数据，保持队列小于等于窗口大小，并记录窗口元素值方便计算平均值。</p><p><strong>补充：</strong></p><ol><li>队列</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MovingAverage</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Queue&lt;Integer&gt; queue;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> window_sz;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> window_sum;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * @param size: An integer</span></span><br><span class="line"><span class="comment">    */</span><span class="function"><span class="keyword">public</span> <span class="title">MovingAverage</span><span class="params">(<span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// do intialization if necessary</span></span><br><span class="line">        queue = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">        window_sz = size;</span><br><span class="line">        window_sum = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * @param val: An integer</span></span><br><span class="line"><span class="comment">     * @return:  </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">next</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 容量满时，弹出队首元素</span></span><br><span class="line">        <span class="keyword">if</span>(queue.size() == window_sz) &#123;</span><br><span class="line">            window_sum -= queue.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 新元素加入队尾</span></span><br><span class="line">        queue.offer(val);</span><br><span class="line">        window_sum += val;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> window_sum / queue.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】240. Search a 2D Matrix II 解题记录</title>
      <link href="posts/c7bcd071/"/>
      <url>posts/c7bcd071/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Write an efficient algorithm that searches for a target value in an m x n integer matrix. The matrix has the following properties:</p><ul><li><p>Integers in each row are sorted in ascending from left to right.</p></li><li><p>Integers in each column are sorted in ascending from top to bottom.</p></li></ul><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91240-Search-a-2D-Matrix-II-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-08-22-53-15.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: matrix = [[1,4,7,11,15],[2,5,8,12,19],[3,6,9,16,22],[10,13,14,17,24],[18,21,23,26,30]], target = 5</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91240-Search-a-2D-Matrix-II-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-08-22-53-31.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: matrix = [[1,4,7,11,15],[2,5,8,12,19],[3,6,9,16,22],[10,13,14,17,24],[18,21,23,26,30]], target = 20</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">m == matrix.length</span><br><span class="line">n == matrix[i].length</span><br><span class="line">1 &lt;= n, m &lt;= 300</span><br><span class="line">-10^9 &lt;= matix[i][j] &lt;= 10^9</span><br><span class="line">All the integers in each row are sorted in ascending order.</span><br><span class="line">All the integers in each column are sorted in ascending order.</span><br><span class="line">-10^9 &lt;= target &lt;= 10^9</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>取最左下方元素为基准 pivot，</p><ul><li><p>若 pivot 值比目标小，则目标在其右侧，横坐标右移一位</p></li><li><p>若 pivot 值比目标大，则目标在其上侧，纵坐标上移一位</p></li></ul><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, bottom = matrix.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(left &lt; matrix[<span class="number">0</span>].length &amp;&amp; bottom &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[bottom][left] == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 在右侧</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(matrix[bottom][left] &lt; target) &#123;</span><br><span class="line">                ++left;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 在上方</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                --bottom;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 没找到</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】74. Search a 2D Matrix 解题记录</title>
      <link href="posts/90d1a8b3/"/>
      <url>posts/90d1a8b3/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Write an efficient algorithm that searches for a value in an m x n matrix. This matrix has the following properties:</p><p>Integers in each row are sorted from left to right.<br />The first integer of each row is greater than the last integer of the previous row.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%9174-Search-a-2D-Matrix-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-08-22-48-45.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%9174-Search-a-2D-Matrix-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-08-22-49-36.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 13</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m == matrix.length</span><br><span class="line">n == matrix[i].length</span><br><span class="line">1 &lt;= m, n &lt;= 100</span><br><span class="line">-10^4 &lt;= matrix[i][j], target &lt;= 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>首先使用二分法判断目标所在行，然后再使用二分法判断该行中目标所在位置。</p><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = locateRaw(matrix, target);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = matrix[<span class="number">0</span>].length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(matrix[row][mid] == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 在左侧</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(matrix[row][mid] &gt; target) &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 在右侧</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 定位目标所在行</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">locateRaw</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> top = <span class="number">0</span>, bottom = matrix.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(top &lt; bottom) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = top + (bottom - top) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 在 mid 行中</span></span><br><span class="line">            <span class="keyword">if</span>(matrix[mid][<span class="number">0</span>] &lt;= target &amp;&amp; target &lt;= matrix[mid][matrix[mid].length - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 在 mid 行之下</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(matrix[mid][<span class="number">0</span>] &lt; target) &#123;</span><br><span class="line">                top = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 在 mid 行之上</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                bottom = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> top;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】278. First Bad Version 解题记录</title>
      <link href="posts/d2fc0325/"/>
      <url>posts/d2fc0325/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>You are a product manager and currently leading a team to develop a new product. Unfortunately, the latest version of your product fails the quality check. Since each version is developed based on the previous version, all the versions after a bad version are also bad.</p><p>Suppose you have n versions [1, 2, …, n] and you want to find out the first bad one, which causes all the following ones to be bad.</p><p>You are given an API bool isBadVersion(version) which returns whether version is bad. Implement a function to find the first bad version. You should minimize the number of calls to the API.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 5, bad = 4</span><br><span class="line">Output: 4</span><br><span class="line">Explanation:</span><br><span class="line">call isBadVersion(3) -&gt; false</span><br><span class="line">call isBadVersion(5) -&gt; true</span><br><span class="line">call isBadVersion(4) -&gt; true</span><br><span class="line">Then 4 is the first bad version.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 1, bad = 1</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= bad &lt;= n &lt;= 2^31 - 1</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>使用二分法即可</p><p><strong>补充：</strong></p><ol><li><p>时间复杂度 <code>O(logn)</code></p></li><li><p>注意计算中值时，最好使用 <code>int mid = l + (r - l) / 2</code>，若使用 <code>mid = (l + r) / 2</code>，当数字非常大时，Integer 溢出，会导致错误！！！</p></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The isBadVersion API is defined in the parent class VersionControl.</span></span><br><span class="line"><span class="comment">      boolean isBadVersion(int version); */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">VersionControl</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstBadVersion</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">1</span>, r = n;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="comment">// 如果使用 mid = (l + r) / 2</span></span><br><span class="line">            <span class="comment">// 数字非常大时，Integer 溢出，会导致错误！！！</span></span><br><span class="line">            <span class="keyword">int</span> mid = l + (r - l) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(isBadVersion(mid)) &#123;</span><br><span class="line">                r = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】162. Find Peak Element 解题记录</title>
      <link href="posts/46ffc75b/"/>
      <url>posts/46ffc75b/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>A peak element is an element that is strictly greater than its neighbors.</p><p>Given an integer array nums, find a peak element, and return its index. If the array contains multiple peaks, return the index to any of the peaks.</p><p>You may imagine that nums[-1] = nums[n] = -∞.</p><p>You must write an algorithm that runs in O(log n) time.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,2,3,1]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: 3 is a peak element and your function should return the index number 2.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,2,1,3,5,6,4]</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: Your function can return either index number 1 where the peak element is 2, or index number 5 where the peak element is 6.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>注意条件中的 <code>nums[i] != nums[i + 1]</code>，即相邻元素不同</p><p>再考虑到 <code>nums[-1] = nums[n] = -∞</code></p><p>则整个数组必有一个峰值，其左右元素均比它小，不管存在多少个波峰，我们寻找该峰值（实际上为最大值）即可</p><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPeakElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 注意条件中的 nums[i] != nums[i + 1]，即相邻元素不同</span></span><br><span class="line">        <span class="comment">// 再考虑到 nums[-1] = nums[n] = -无穷</span></span><br><span class="line">        <span class="comment">// 则整个数组必有一个峰值，寻找该峰值即可</span></span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> value_m_l = mid == <span class="number">0</span> ? Integer.MIN_VALUE : nums[mid - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">int</span> value_m_r = mid == nums.length - <span class="number">1</span> ? Integer.MAX_VALUE : nums[mid + <span class="number">1</span>];</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// peak value</span></span><br><span class="line">            <span class="keyword">if</span>(value_m_l &lt; nums[mid] &amp;&amp; nums[mid] &gt; value_m_r) &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 右侧值更大，区间缩小（包含最大值）</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt; value_m_r) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 左侧值更大，区间缩小（包含最大值）</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】1095. Find in Mountain Array 解题记录</title>
      <link href="posts/24e5a86/"/>
      <url>posts/24e5a86/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>(This problem is an interactive problem.)</p><p>You may recall that an array A is a mountain array if and only if:</p><ul><li>A.length &gt;= 3</li><li>There exists some i with 0 &lt; i &lt; A.length - 1 such that:<ul><li>A[0] &lt; A[1] &lt; … A[i-1] &lt; A[i]</li><li>A[i] &gt; A[i+1] &gt; … &gt; A[A.length - 1]</li></ul></li></ul><p>Given a mountain array mountainArr, return the minimum index such that mountainArr.get(index) == target.  If such an index doesn’t exist, return -1.</p><p>You can’t access the mountain array directly.  You may only access the array using a MountainArray interface:</p><ul><li><p>MountainArray.get(k) returns the element of the array at index k (0-indexed).</p></li><li><p>MountainArray.length() returns the length of the array.</p></li></ul><p>Submissions making more than 100 calls to MountainArray.get will be judged Wrong Answer.  Also, any solutions that attempt to circumvent the judge will result in disqualification.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: array = [1,2,3,4,5,3,1], target = 3</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: 3 exists in the array, at index=2 and index=5. Return the minimum index, which is 2.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: array = [0,1,2,4,2,1], target = 3</span><br><span class="line">Output: -1</span><br><span class="line">Explanation: 3 does not exist in the array, so we return -1.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= nums.length &lt;= 5000</span><br><span class="line">-10^4 &lt;= nums[i] &lt;= 10^4</span><br><span class="line">All values of nums are unique.</span><br><span class="line">nums is guaranteed to be rotated at some pivot.</span><br><span class="line">-10^4 &lt;= target &lt;= 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>如果可以找到峰值，就可以将问题简化为在有序数组中寻找目标值。</p><ul><li><p>使用二分法，确定峰值位置</p></li><li><p>在左侧使用二分法寻找目标</p></li><li><p>若左侧未找到目标，在右侧使用二分法寻找目标</p></li></ul><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * // This is MountainArray&#x27;s API interface.</span></span><br><span class="line"><span class="comment"> * // You should not implement it, or speculate about its implementation</span></span><br><span class="line"><span class="comment"> * interface MountainArray &#123;</span></span><br><span class="line"><span class="comment"> *     public int get(int index) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     public int length() &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findInMountainArray</span><span class="params">(<span class="keyword">int</span> target, MountainArray mountainArr)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> pivot_idx = findPivotIdx(mountainArr);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 在左半部分寻找</span></span><br><span class="line">        <span class="keyword">int</span> idx = findInSortedArray(mountainArr, <span class="number">0</span>, pivot_idx, target, <span class="keyword">true</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 在右半部分寻找</span></span><br><span class="line">        <span class="keyword">if</span>(idx == -<span class="number">1</span>) &#123;</span><br><span class="line">            idx = findInSortedArray(mountainArr, pivot_idx, mountainArr.length() - <span class="number">1</span>, target, <span class="keyword">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 寻找峰值坐标</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPivotIdx</span><span class="params">(MountainArray mountainArr)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = mountainArr.length() - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 当剩余 2 个元素时，退出循环</span></span><br><span class="line">        <span class="comment">// 其中值较大者为目标</span></span><br><span class="line">        <span class="keyword">while</span>(l + <span class="number">1</span> &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">int</span> value_m = mountainArr.get(mid);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// pivot 在右边</span></span><br><span class="line">            <span class="keyword">if</span>(mid == l || value_m &gt; mountainArr.get(mid - <span class="number">1</span>)) &#123;</span><br><span class="line">                l = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// pivot 在左边</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(mid == r || value_m &gt; mountainArr.get(mid + <span class="number">1</span>)) &#123;</span><br><span class="line">                r = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> mountainArr.get(l) &gt; mountainArr.get(r) ? l : r;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 在有序数组中寻找目标值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findInSortedArray</span><span class="params">(MountainArray mountainArr, <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> target, <span class="keyword">boolean</span> ascent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = left, r = right;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">int</span> value_m = mountainArr.get(mid);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(value_m == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 目标在左侧</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((ascent == <span class="keyword">true</span> &amp;&amp; value_m &gt; target) || (ascent == <span class="keyword">false</span> &amp;&amp; value_m &lt; target)) &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 目标在右侧</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Hard </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】33. Search in Rotated Sorted Array 解题记录</title>
      <link href="posts/84c602fe/"/>
      <url>posts/84c602fe/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>There is an integer array nums sorted in ascending order (with distinct values).</p><p>Prior to being passed to your function, nums is rotated at an unknown pivot index k (0 &lt;= k &lt; nums.length) such that the resulting array is [nums[k], nums[k+1], …, nums[n-1], nums[0], nums[1], …, nums[k-1]] (0-indexed). For example, [0,1,2,4,5,6,7] might be rotated at pivot index 3 and become [4,5,6,7,0,1,2].</p><p>Given the array nums after the rotation and an integer target, return the index of target if it is in nums, or -1 if it is not in nums.</p><p>You must write an algorithm with O(log n) runtime complexity.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [4,5,6,7,0,1,2], target = 0</span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [4,5,6,7,0,1,2], target = 3</span><br><span class="line">Output: -1</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1], target = 0</span><br><span class="line">Output: -1</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= nums.length &lt;= 5000</span><br><span class="line">-10^4 &lt;= nums[i] &lt;= 10^4</span><br><span class="line">All values of nums are unique.</span><br><span class="line">nums is guaranteed to be rotated at some pivot.</span><br><span class="line">-10^4 &lt;= target &lt;= 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>使用二分法，重点在于如何确定该向哪一侧递归。</p><p>判断 <code>nums[left]</code> 和 <code>nums[mid]</code> 的相对大小：</p><ul><li><p>若 <code>left</code> 值大于 <code>mid</code> 值，则前半部分非递增，后半部分有序</p><ul><li>根据目标是否在有序一侧，缩小范围（<code>nums[mid] &lt;= target &amp;&amp; target &lt;= nums[r]</code>）</li></ul></li><li><p>若 left 值小于 mid 值，则后半部分非递增，前半部分有序</p><ul><li>根据目标是否在有序一侧，缩小范围（<code>nums[l] &lt;= target &amp;&amp; target &lt;= nums[mid]</code>）</li></ul></li><li><p>若两值相等，则无法判断哪侧有序</p><ul><li>令左边界右移一位（<code>left</code> 值和 <code>mid</code> 值相等，舍弃 <code>left</code> 值还有 <code>mid</code> 值，不影响结果）</li></ul></li></ul><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt;= r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 前半部分非递增，后半部分有序</span></span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt; nums[l]) &#123;</span><br><span class="line">                <span class="comment">// 若目标在有序部分</span></span><br><span class="line">                <span class="keyword">if</span>(nums[mid] &lt;= target &amp;&amp; target &lt;= nums[r]) &#123;</span><br><span class="line">                    l = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    r = mid -<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 后半部分非递增，前半部分有序</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &gt; nums[l]) &#123;</span><br><span class="line">                <span class="comment">// 若目标在有序部分</span></span><br><span class="line">                <span class="keyword">if</span>(nums[l] &lt;= target &amp;&amp; target &lt;= nums[mid]) &#123;</span><br><span class="line">                    r = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    l = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 无法判断哪侧有序</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                ++l;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 未找到</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】34. Find First and Last Position of Element in Sorted Array 解题记录</title>
      <link href="posts/39bf3160/"/>
      <url>posts/39bf3160/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given an array of integers nums sorted in ascending order, find the starting and ending position of a given target value.</p><p>If target is not found in the array, return [-1, -1].</p><p>You must write an algorithm with O(log n) runtime complexity.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [5,7,7,8,8,10], target = 8</span><br><span class="line">Output: [3,4]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [5,7,7,8,8,10], target = 6</span><br><span class="line">Output: [-1,-1]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [], target = 0</span><br><span class="line">Output: [-1,-1]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= nums.length &lt;= 10^5</span><br><span class="line">-10^9 &lt;= nums[i] &lt;= 10^9</span><br><span class="line">nums is a non-decreasing array.</span><br><span class="line">-10^9 &lt;= target &lt;= 10^9</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>根据二分法实现寻找数组中某元素上下界的函数即可，注意处理边界条件。</p><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span> beg = lower_bound(nums, target);</span><br><span class="line">        <span class="keyword">int</span> end = upper_bound(nums, target);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> beg == end ? <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125; : <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;beg, end - <span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 寻找下界，[beg, end)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lower_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt; target) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 寻找上界，[beg, end)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">upper_bound</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &lt;= target) &#123;</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】215. Kth Largest Element in an Array 解题记录</title>
      <link href="posts/9a60758/"/>
      <url>posts/9a60758/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given an integer array nums and an integer k, return the kth largest element in the array.</p><p>Note that it is the kth largest element in the sorted order, not the kth distinct element.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [3,2,1,5,6,4], k = 2</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [3,2,3,1,2,4,5,5,6], k = 4</span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= k &lt;= nums.length &lt;= 10^4</span><br><span class="line">-10^4 &lt;= nums[i] &lt;= 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>寻找第 <code>K</code> 大的数即为寻找递增序的第 <code>length - K</code> 个数。</p><p>使用二分法的思想来解决，那么如何确定基准？</p><p>根据快排的思想，每一步确定一个元素的位置，并使其左侧元素值不大于该元素，右侧元素值不小于该元素。以该元素作为基准。</p><ul><li><p>若目标在基准点右侧，则取右半部分，并更新 k</p></li><li><p>若目标在基准点左侧，则取左半部分</p></li></ul><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 转为坐标</span></span><br><span class="line">        <span class="keyword">int</span> k_remain = nums.length - k;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 基准点坐标</span></span><br><span class="line">            <span class="keyword">int</span> div_idx = partition(nums, l, r);</span><br><span class="line">            <span class="comment">// 基准点相对 l 的位置</span></span><br><span class="line">            <span class="keyword">int</span> div_seq = div_idx - l;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// k 在基准点右侧，更新 k</span></span><br><span class="line">            <span class="keyword">if</span>(div_seq &lt; k_remain) &#123;</span><br><span class="line">                l = div_idx + <span class="number">1</span>;</span><br><span class="line">                k_remain -= ++div_seq;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// k 在基准点左侧</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(div_seq &gt; k_remain) &#123;</span><br><span class="line">                r = div_idx - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// k 恰好为基准点</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> nums[l + k_remain];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 取区间首元素作为基准，划分数组</span></span><br><span class="line"><span class="comment">     * return 基准坐标</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pivot = nums[l];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; r &amp;&amp; nums[r] &gt;= pivot) &#123;</span><br><span class="line">                --r;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[l] = nums[r];</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">while</span>(l &lt; r &amp;&amp; nums[l] &lt; pivot) &#123;</span><br><span class="line">                ++l;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[r] = nums[l];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        nums[l] = pivot;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】179. Largest Number 解题记录</title>
      <link href="posts/bf39723/"/>
      <url>posts/bf39723/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given a list of non-negative integers nums, arrange them such that they form the largest number.</p><p>Note: The result may be very large, so you need to return a string instead of an integer.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [10,2]</span><br><span class="line">Output: &quot;210&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [3,30,34,5,9]</span><br><span class="line">Output: &quot;9534330&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1]</span><br><span class="line">Output: &quot;1&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1]</span><br><span class="line">Output: &quot;1&quot;</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= nums.length &lt;= 100</span><br><span class="line">0 &lt;= nums[i] &lt;= 10^9</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>将数组转换为字符串，并对其进行排序，规则为判断两字符串分别在前时的字母序大小，即 <code>（str1 + str2).compareTo(str2 + str1)</code>，最后将数组中的字符串按顺序连接即可。</p><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li><li>使用 lambda 排序</li><li>注意处理前缀的 <code>0</code> 以及结果为 <code>0</code> 的情况。</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">largestNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// int 数组转 string 列表</span></span><br><span class="line">        List&lt;String&gt; str_nums = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            str_nums.add(Integer.toString(num));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 排序</span></span><br><span class="line">        Collections.sort(str_nums, (a, b) -&gt; (b + a).compareTo(a + b));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 构造结果</span></span><br><span class="line">        String rt = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(String s : str_nums) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(s.equals(<span class="string">&quot;0&quot;</span>) &amp;&amp; rt.equals(<span class="string">&quot;&quot;</span>))) &#123;</span><br><span class="line">                rt += s;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> rt.equals(<span class="string">&quot;&quot;</span>) ? <span class="string">&quot;0&quot;</span> : rt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】56. Merge Intervals 解题记录</title>
      <link href="posts/7cb44be5/"/>
      <url>posts/7cb44be5/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given an array of intervals where intervals[i] = [starti, endi], merge all overlapping intervals, and return an array of the non-overlapping intervals that cover all the intervals in the input.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1,3],[2,6],[8,10],[15,18]]</span><br><span class="line">Output: [[1,6],[8,10],[15,18]]</span><br><span class="line">Explanation: Since intervals [1,3] and [2,6] overlaps, merge them into [1,6].</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1,4],[4,5]]</span><br><span class="line">Output: [[1,5]]</span><br><span class="line">Explanation: Intervals [1,4] and [4,5] are considered overlapping.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1,4],[4,5]]</span><br><span class="line">Output: [[1,5]]</span><br><span class="line">Explanation: Intervals [1,4] and [4,5] are considered overlapping.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>首先，将数组按照 <code>start</code> 排序，遍历数组：</p><ul><li><p>若当前元素为第一个或 <code>start &gt;= 最新 interval 的 end</code>，加入结果</p></li><li><p>若 <code>start &lt; 最新 interval 的 end</code>，且 <code>end &gt; 最新 interval 的 end</code>，调整最新 <code>interval</code> 的 <code>end</code> 为当前元素的 <code>end</code></p></li></ul><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(logn)</code></li><li>注意判断被最新 <code>interval</code> 完全包裹的元素</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] merge(<span class="keyword">int</span>[][] intervals) &#123;</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; results = <span class="keyword">new</span> ArrayList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 按照 start 排序</span></span><br><span class="line">        Arrays.sort(intervals, (a, b) -&gt; a[<span class="number">0</span>] - b[<span class="number">0</span>] );</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] pair : intervals) &#123;</span><br><span class="line">            <span class="keyword">if</span>(results.size() == <span class="number">0</span> || pair[<span class="number">0</span>] &gt; results.get(results.size() - <span class="number">1</span>)[<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// 若为 首个 或 start &gt;= 已有 interval 的 end，加入结果</span></span><br><span class="line">                results.add(pair);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(pair[<span class="number">1</span>] &gt; results.get(results.size() - <span class="number">1</span>)[<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// 若 start &lt; 已有 interval 的 end，</span></span><br><span class="line">                <span class="comment">// 且 end &gt; 已有 interval 的 end，</span></span><br><span class="line">                <span class="comment">// 调整已有 insterval 的 end 为 新的 end</span></span><br><span class="line">                results.get(results.size() - <span class="number">1</span>)[<span class="number">1</span>] = pair[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> results.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[results.size()][]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】328. Odd Even Linked List 解题记录</title>
      <link href="posts/86356f80/"/>
      <url>posts/86356f80/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given the head of a singly linked list, group all the nodes with odd indices together followed by the nodes with even indices, and return the reordered list.</p><p>The first node is considered odd, and the second node is even, and so on.</p><p>Note that the relative order inside both the even and odd groups should remain as it was in the input.</p><p>You must solve the problem in O(1) extra space complexity and O(n) time complexity.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91328-Odd-Even-Linked-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-08-21-51-45.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2,3,4,5]</span><br><span class="line">Output: [1,3,5,2,4]</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91328-Odd-Even-Linked-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-08-21-52-08.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [2,1,3,5,6,4,7]</span><br><span class="line">Output: [2,3,6,7,1,5,4]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n == number of nodes in the linked list</span><br><span class="line">0 &lt;= n &lt;= 10^4</span><br><span class="line">-10^6 &lt;= Node.val &lt;= 10^6</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>分别构造奇数位链表和偶数位链表，步长均为 <code>2</code>，构造完成后将偶数位链表附加到奇数位链表之后。</p><p><strong>补充：</strong></p><ol><li>链表</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><p>法一：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">oddEvenList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 奇数链表，偶数链表</span></span><br><span class="line">        ListNode odd = head, even = head.next;</span><br><span class="line">        <span class="comment">// 偶数链表前驱节点</span></span><br><span class="line">        ListNode evenPre = <span class="keyword">new</span> ListNode(-<span class="number">1</span>, even);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 构造两个新链表，步长均为 2</span></span><br><span class="line">        <span class="keyword">while</span>(odd.next != <span class="keyword">null</span> &amp;&amp; even.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            odd.next = odd.next.next;</span><br><span class="line">            even.next = even.next.next;</span><br><span class="line">            </span><br><span class="line">            odd = odd.next;</span><br><span class="line">            even = even.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 将偶数链表附加到奇数链表后</span></span><br><span class="line">        odd.next = evenPre.next;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】92. Reverse Linked List II 解题记录</title>
      <link href="posts/aee51397/"/>
      <url>posts/aee51397/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given the head of a singly linked list and two integers left and right where left &lt;= right, reverse the nodes of the list from position left to position right, and return the reversed list.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%9192-Reverse-Linked-List-II-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-07-00-12-11.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2,3,4,5], left = 2, right = 4</span><br><span class="line">Output: [1,4,3,2,5]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [5], left = 1, right = 1</span><br><span class="line">Output: [5]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The number of nodes in the list is n.</span><br><span class="line">1 &lt;= n &lt;= 500</span><br><span class="line">-500 &lt;= Node.val &lt;= 500</span><br><span class="line">1 &lt;= left &lt;= right &lt;= n</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>以 <code>1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; 5</code> , <code>left = 2, right = 5</code> 为例：</p><ol><li><p>找到需要逆序的区间头尾节点，以及头前、尾后节点</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1-&gt;|2-&gt;3-&gt;4|-&gt;5</span><br><span class="line">^   ^     ^   ^</span><br><span class="line">|   |     |   |</span><br><span class="line">前  头    尾  后</span><br></pre></td></tr></table></figure></li><li><p>取出区间头</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1-&gt;|3-&gt;4|-&gt;5</span><br><span class="line">^   ^  ^   ^</span><br><span class="line">|   |  |   |</span><br><span class="line">前  2  尾  后</span><br><span class="line">    ^</span><br><span class="line">    |</span><br><span class="line">    头</span><br></pre></td></tr></table></figure></li><li><p>区间头附加到区间尾后</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1-&gt;|3-&gt;4|-&gt;2-&gt;5</span><br><span class="line">^      ^   ^  ^</span><br><span class="line">|      |   |  |</span><br><span class="line">前     尾  头  后</span><br></pre></td></tr></table></figure></li><li><p>更新区间尾后</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1-&gt;|3-&gt;4|-&gt;2-&gt;5</span><br><span class="line">^      ^   ^</span><br><span class="line">|      |   |</span><br><span class="line">前     尾  头</span><br><span class="line">           ^</span><br><span class="line">           |</span><br><span class="line">           后</span><br></pre></td></tr></table></figure></li><li><p>更新区间头</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1-&gt;|3-&gt;4|-&gt;2-&gt;5</span><br><span class="line">^   ^  ^   ^</span><br><span class="line">|   |  |   |</span><br><span class="line">前  头 尾  后</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>循环以上步骤，直到 <code>前 -&gt; 尾</code></p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1-&gt;|4|-&gt;3-&gt;2-&gt;5</span><br><span class="line">^   ^</span><br><span class="line">|   |</span><br><span class="line">前  尾</span><br></pre></td></tr></table></figure></li></ol><p><strong>补充：</strong></p><ol><li>链表</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><p>法一：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 统一处理 left = 1</span></span><br><span class="line">        ListNode headPre = <span class="keyword">new</span> ListNode(-<span class="number">1</span>, head);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">1</span>;</span><br><span class="line">        ListNode p = head, pre = headPre;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 寻找区间起始</span></span><br><span class="line">        <span class="keyword">while</span>(idx &lt; left) &#123;</span><br><span class="line">            pre = p;</span><br><span class="line">            p = p.next;</span><br><span class="line">            ++idx;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 区间头，头前</span></span><br><span class="line">        ListNode betweenHead = p, betweenHeadPre = pre;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 寻找区间结尾</span></span><br><span class="line">        <span class="keyword">while</span>(idx &lt;= right) &#123;</span><br><span class="line">            pre = p;</span><br><span class="line">            p = p.next;</span><br><span class="line">            ++idx;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 区间尾，尾后</span></span><br><span class="line">        ListNode betweenTail = pre, betweenTailBack = p;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(betweenHeadPre.next != betweenTail) &#123;</span><br><span class="line">            <span class="comment">// 区间头取出</span></span><br><span class="line">            betweenHeadPre.next = betweenHead.next;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 区间头附加到区间尾后</span></span><br><span class="line">            betweenTail.next = betweenHead;</span><br><span class="line">            <span class="comment">// 更新区间尾后</span></span><br><span class="line">            betweenHead.next = betweenTailBack;</span><br><span class="line">            betweenTailBack = betweenHead;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 更新区间头</span></span><br><span class="line">            betweenHead = betweenHeadPre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> headPre.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>法二：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseBetween</span><span class="params">(ListNode head, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        ListNode headPre = <span class="keyword">new</span> ListNode(-<span class="number">1</span>, head);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> idx = <span class="number">1</span>;</span><br><span class="line">        ListNode p = head, pre = headPre;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 寻找区间起始</span></span><br><span class="line">        <span class="keyword">while</span>(idx &lt; left) &#123;</span><br><span class="line">            pre = p;</span><br><span class="line">            p = p.next;</span><br><span class="line">            ++idx;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode betweenHead = p, betweenHeadPre = pre;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 寻找区间结尾</span></span><br><span class="line">        <span class="keyword">while</span>(idx &lt;= right) &#123;</span><br><span class="line">            pre = p;</span><br><span class="line">            p = p.next;</span><br><span class="line">            ++idx;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode betweenTail = pre, betweenTailBack = p;</span><br><span class="line">        </span><br><span class="line">        betweenTail.next = <span class="keyword">null</span>;</span><br><span class="line">        ListNode reverseHead = reverseLinkedList(betweenHead);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 拼接</span></span><br><span class="line">        betweenHeadPre.next = reverseHead;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 头变尾，附加后续节点</span></span><br><span class="line">        betweenHead.next = betweenTailBack;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> headPre.next;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 翻转链表</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseLinkedList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode pre = <span class="keyword">null</span>, curr = head;</span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ListNode back = curr.next;</span><br><span class="line">            </span><br><span class="line">            curr.next = pre;</span><br><span class="line">            pre = curr;</span><br><span class="line">            curr = back;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】141. Linked List Cycle 解题记录</title>
      <link href="posts/7bfc535b/"/>
      <url>posts/7bfc535b/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given head, the head of a linked list, determine if the linked list has a cycle in it.</p><p>There is a cycle in a linked list if there is some node in the list that can be reached again by continuously following the next pointer. Internally, pos is used to denote the index of the node that tail’s next pointer is connected to. Note that pos is not passed as a parameter.</p><p>Return true if there is a cycle in the linked list. Otherwise, return false.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91141-Linked-List-Cycle-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-07-00-06-33.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [3,2,0,-4], pos = 1</span><br><span class="line">Output: true</span><br><span class="line">Explanation: There is a cycle in the linked list, where the tail connects to the 1st node (0-indexed).</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91141-Linked-List-Cycle-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-07-00-06-58.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2], pos = 0</span><br><span class="line">Output: true</span><br><span class="line">Explanation: There is a cycle in the linked list, where the tail connects to the 0th node.</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91141-Linked-List-Cycle-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-07-00-07-21.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1], pos = -1</span><br><span class="line">Output: false</span><br><span class="line">Explanation: There is no cycle in the linked list.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The number of the nodes in the list is in the range [0, 10^4].</span><br><span class="line">-10^5 &lt;= Node.val &lt;= 10^5</span><br><span class="line">pos is -1 or a valid index in the linked-list.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>使用快慢指针：</p><ul><li>若链表可达 null 则无环</li><li>若快指针套圈慢指针则有环</li></ul><p><strong>补充：</strong></p><ol><li>双指针</li><li>快慢指针</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasCycle</span><span class="params">(ListNode head)</span> </span>&#123;   </span><br><span class="line">        <span class="comment">// 快慢指针</span></span><br><span class="line">        ListNode slow = head, fast = head;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 若链表可达 null 则无环</span></span><br><span class="line">        <span class="comment">// 若快指针套圈慢指针则有环</span></span><br><span class="line">        <span class="keyword">while</span>(fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(slow == fast) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 双指针 </tag>
            
            <tag> 链表 </tag>
            
            <tag> 快慢指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】160. Intersection of Two Linked Lists 解题记录</title>
      <link href="posts/50f23bee/"/>
      <url>posts/50f23bee/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given the heads of two singly linked-lists headA and headB, return the node at which the two lists intersect. If the two linked lists have no intersection at all, return null.</p><p>For example, the following two linked lists begin to intersect at node c1:</p><p><img src="/images/%E3%80%90LeetCode%E3%80%91160-Intersection-of-Two-Linked-Lists-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-06-23-43-19.png" alt="" /></p><p>The test cases are generated such that there are no cycles anywhere in the entire linked structure.</p><p>Note that the linked lists must retain their original structure after the function returns.</p><p>Custom Judge:</p><p>The inputs to the judge are given as follows (your program is not given these inputs):</p><ul><li>intersectVal - The value of the node where the intersection occurs. This is 0 if there is no intersected node.</li><li>listA - The first linked list.</li><li>listB - The second linked list.</li><li>skipA - The number of nodes to skip ahead in listA (starting from the head) to get to the intersected node.</li><li>skipB - The number of nodes to skip ahead in listB (starting from the head) to get to the intersected node.<br />The judge will then create the linked structure based on these inputs and pass the two heads, headA and headB to your program. If you correctly return the intersected node, then your solution will be accepted.</li></ul><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91160-Intersection-of-Two-Linked-Lists-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-06-23-59-58.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: intersectVal = 8, listA = [4,1,8,4,5], listB = [5,6,1,8,4,5], skipA = 2, skipB = 3</span><br><span class="line">Output: Intersected at &#x27;8&#x27;</span><br><span class="line">Explanation: The intersected node&#x27;s value is 8 (note that this must not be 0 if the two lists intersect).</span><br><span class="line">From the head of A, it reads as [4,1,8,4,5]. From the head of B, it reads as [5,6,1,8,4,5]. There are 2 nodes before the intersected node in A; There are 3 nodes before the intersected node in B.</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91160-Intersection-of-Two-Linked-Lists-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-07-00-00-21.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: intersectVal = 2, listA = [1,9,1,2,4], listB = [3,2,4], skipA = 3, skipB = 1</span><br><span class="line">Output: Intersected at &#x27;2&#x27;</span><br><span class="line">Explanation: The intersected node&#x27;s value is 2 (note that this must not be 0 if the two lists intersect).</span><br><span class="line">From the head of A, it reads as [1,9,1,2,4]. From the head of B, it reads as [3,2,4]. There are 3 nodes before the intersected node in A; There are 1 node before the intersected node in B.</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91160-Intersection-of-Two-Linked-Lists-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-07-00-00-42.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: intersectVal = 0, listA = [2,6,4], listB = [1,5], skipA = 3, skipB = 2</span><br><span class="line">Output: No intersection</span><br><span class="line">Explanation: From the head of A, it reads as [2,6,4]. From the head of B, it reads as [1,5]. Since the two lists do not intersect, intersectVal must be 0, while skipA and skipB can be arbitrary values.</span><br><span class="line">Explanation: The two lists do not intersect, so return null.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">The number of nodes of listA is in the m.</span><br><span class="line">The number of nodes of listB is in the n.</span><br><span class="line">0 &lt;= m, n &lt;= 3 * 10^4</span><br><span class="line">1 &lt;= Node.val &lt;= 10^5</span><br><span class="line">0 &lt;= skipA &lt;= m</span><br><span class="line">0 &lt;= skipB &lt;= n</span><br><span class="line">intersectVal is 0 if listA and listB do not intersect.</span><br><span class="line">intersectVal == listA[skipA] == listB[skipB] if listA and listB intersect.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><ol><li>获取链表长度</li><li>调整起始指针，使得两链表后续长度相同</li><li>向后遍历，首个地址相同的节点为交汇点</li></ol><p><strong>补充：</strong></p><ol><li>链表</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(headA == <span class="keyword">null</span> || headB == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        ListNode p1 = headA, p2 = headB;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> len1 = getLength(p1), len2 = getLength(p2);</span><br><span class="line">        <span class="keyword">int</span> gap = Math.abs(len1 - len2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// p1 指向较长的链表</span></span><br><span class="line">        <span class="keyword">if</span>(len1 &lt; len2) &#123;</span><br><span class="line">            p1 = headB;</span><br><span class="line">            p2 = headA;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// p1 移动至和 p2 长度相同的位置</span></span><br><span class="line">        <span class="keyword">while</span>(gap-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            p1 = p1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 寻找地址相同的节点</span></span><br><span class="line">        <span class="keyword">while</span>(p1 != p2) &#123;</span><br><span class="line">            p1 = p1.next;</span><br><span class="line">            p2 = p2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> p1;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获得链表的长度</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLength</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode p = head;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ++cnt;</span><br><span class="line">            p = p.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】876. Middle of the Linked List 解题记录</title>
      <link href="posts/a52b91a6/"/>
      <url>posts/a52b91a6/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given the head of a singly linked list, return the middle node of the linked list.</p><p>If there are two middle nodes, return the second middle node.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91876-Middle-of-the-Linked-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-06-23-28-55.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2,3,4,5]</span><br><span class="line">Output: [3,4,5]</span><br><span class="line">Explanation: The middle node of the list is node 3.</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91876-Middle-of-the-Linked-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-06-23-29-37.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2,3,4,5,6]</span><br><span class="line">Output: [4,5,6]</span><br><span class="line">Explanation: Since the list has two middle nodes with values 3 and 4, we return the second one.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The number of nodes in the list is in the range [1, 100].</span><br><span class="line">1 &lt;= Node.val &lt;= 100</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>使用快慢指针，快指针到达链表尾时，慢指针正好为链表中央。</p><p><strong>补充：</strong></p><ol><li>链表</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">middleNode</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 快慢指针</span></span><br><span class="line">        ListNode slow = head, fast = head;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 链表 </tag>
            
            <tag> 快慢指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】206. Reverse Linked List 解题记录</title>
      <link href="posts/c7fc6e60/"/>
      <url>posts/c7fc6e60/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given the head of a singly linked list, reverse the list, and return the reversed list.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91206-Reverse-Linked-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-06-21-54-07.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2,3,4,5]</span><br><span class="line">Output: [5,4,3,2,1]</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91206-Reverse-Linked-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-08-06-21-54-59.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2]</span><br><span class="line">Output: [2,1]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = []</span><br><span class="line">Output: []</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">The number of nodes in the list is the range [0, 5000].</span><br><span class="line">-5000 &lt;= Node.val &lt;= 5000</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>记录 <code>pre</code>, <code>curr</code> 指针, 在遍历时记录每轮 <code>next</code> 指针，逆向即可。</p><p><strong>补充：</strong></p><ol><li>链表</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">reverseList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        ListNode pre = <span class="keyword">null</span>, curr = head;</span><br><span class="line">        <span class="keyword">while</span>(curr != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ListNode next = curr.next;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 后移一位</span></span><br><span class="line">            curr.next = pre;</span><br><span class="line">            pre = curr;</span><br><span class="line">            curr = next;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> pre;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】912. Sort an Array 解题记录</title>
      <link href="posts/6854315/"/>
      <url>posts/6854315/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given an array of integers nums, sort the array in ascending order.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [5,2,3,1]</span><br><span class="line">Output: [1,2,3,5]]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [5,1,1,2,0,0]</span><br><span class="line">Output: [0,0,1,1,2,5]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= nums.length &lt;= 5 * 10^4</span><br><span class="line">-5 * 10^4 &lt;= nums[i] &lt;= 5 * 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><ol><li>插入排序 O(n^2)</li><li>冒泡排序 O(n^2)</li><li>选择排序 O(n^2)</li><li>快排 O(nlogn)</li><li>归并排序 O(nlogn)</li></ol><p><strong>补充：</strong></p><ol><li>插入/冒泡/选择排序复杂度较高，会超时，这里仅实现</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] sortArray(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// return insertionSort(nums);              // 插入排序</span></span><br><span class="line">        <span class="comment">// return bubbleSort(nums);                 // 冒泡排序</span></span><br><span class="line">        <span class="comment">// return selectionSort(nums);              // 选择排序</span></span><br><span class="line">        <span class="comment">// quickSort(nums, 0, nums.length - 1);     // 快速排序</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[] temp = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        mergeSort(nums, <span class="number">0</span>, nums.length, temp);      <span class="comment">// 归并排序</span></span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 插入排序</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] insertionSort(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="comment">// 逐个选取</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; ++i) &#123;</span><br><span class="line">            <span class="comment">// 不断前移待排序元素，直到找到插入位置</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&gt;<span class="number">0</span> &amp;&amp; nums[j-<span class="number">1</span>] &gt; nums[j]; --j) &#123;</span><br><span class="line">                <span class="comment">// 前移待排序元素</span></span><br><span class="line">                swap(nums, j, j-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 冒泡排序</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] bubbleSort(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="comment">// 第 i 次冒泡</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> swapped = <span class="keyword">false</span>;        <span class="comment">// 本次冒泡是否交换过元素</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;nums.length-i+<span class="number">1</span>; ++j) &#123;  <span class="comment">// 从第 1 个元素开始，数组末尾 i 个元素已排好</span></span><br><span class="line">                <span class="keyword">if</span>(nums[j] &lt; nums[j-<span class="number">1</span>]) &#123;               <span class="comment">// 若相邻元素顺序错误</span></span><br><span class="line">                    swap(nums, j, j-<span class="number">1</span>);                     <span class="comment">// 交换</span></span><br><span class="line">                    swapped = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!swapped) <span class="keyword">break</span>;     <span class="comment">// 若某次冒泡未交换，则已完成排序</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 选择排序</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] selectionSort(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="comment">// 选择一个位置</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> idx_sorting = i;    <span class="comment">// 当前位置正确元素的坐标</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;nums.length; ++j) &#123;    <span class="comment">// 与后面的元素比较</span></span><br><span class="line">                <span class="keyword">if</span>(nums[idx_sorting] &gt; nums[j]) &#123;       <span class="comment">// 选择最小的元素</span></span><br><span class="line">                    idx_sorting = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(nums, i, idx_sorting);     <span class="comment">// 将正确元素置于当前位置</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 快排</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l &gt;= r) &#123;    <span class="comment">// 已处理完</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> beg = l, end = r;   <span class="comment">// 左右指针</span></span><br><span class="line">        <span class="keyword">int</span> elem_sorting = nums[l];     <span class="comment">// 待排序元素，基准</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(beg &lt; end) &#123;</span><br><span class="line">            <span class="keyword">while</span>(beg &lt; end &amp;&amp; nums[end] &gt;= elem_sorting) &#123;     <span class="comment">// 在右侧寻找比基准小的元素</span></span><br><span class="line">                --end;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[beg] = nums[end];      <span class="comment">// 将右侧小的元素换到左侧</span></span><br><span class="line">            <span class="keyword">while</span>(beg &lt; end &amp;&amp; nums[beg] &lt; elem_sorting) &#123;      <span class="comment">// 在左侧寻找比基准大的元素</span></span><br><span class="line">                ++beg;</span><br><span class="line">            &#125;</span><br><span class="line">            nums[end] = nums[beg];      <span class="comment">// 将左侧大的元素换到右侧</span></span><br><span class="line">        &#125;</span><br><span class="line">        nums[beg] = elem_sorting;   <span class="comment">// 将基准置于正确的位置</span></span><br><span class="line">        <span class="comment">// 递归基准左侧</span></span><br><span class="line">        quickSort(nums, l, beg - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 递归基准右侧</span></span><br><span class="line">        quickSort(nums, beg + <span class="number">1</span>, r);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 归并排序</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span>[] temp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l + <span class="number">1</span> &gt;= r) &#123;    <span class="comment">// 已处理完</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// 分割</span></span><br><span class="line">        mergeSort(nums, l, mid, temp);</span><br><span class="line">        mergeSort(nums, mid, r, temp);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 左侧指针，右侧指针，待确定元素位置</span></span><br><span class="line">        <span class="keyword">int</span> p1 = l, p2 = mid, idx = l;</span><br><span class="line">        <span class="comment">// 合并</span></span><br><span class="line">        <span class="keyword">while</span>(p1 &lt; mid || p2 &lt; r) &#123;     <span class="comment">// 遍历两侧</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(p2 &gt;= r || (p1 &lt; mid &amp;&amp; nums[p1] &lt;= nums[p2])) &#123;      <span class="comment">// 右侧已遍历完或左侧更小</span></span><br><span class="line">                temp[idx++] = nums[p1++];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;                                                <span class="comment">// 左侧已遍历完或右侧更小</span></span><br><span class="line">                temp[idx++] = nums[p2++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 复制已排序号的数组</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=l; i&lt;r; ++i) &#123;</span><br><span class="line">            nums[i] = temp[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 交换数组中两元素的位置</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arrays, <span class="keyword">int</span> idx_a, <span class="keyword">int</span> idx_b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> elem = arrays[idx_a];</span><br><span class="line">        arrays[idx_a] = arrays[idx_b];</span><br><span class="line">        arrays[idx_b] = elem;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】147. Insertion Sort List 解题记录</title>
      <link href="posts/6a9dec7e/"/>
      <url>posts/6a9dec7e/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given the head of a singly linked list, sort the list using insertion sort, and return the sorted list’s head.</p><p>The steps of the insertion sort algorithm:</p><ol><li>Insertion sort iterates, consuming one input element each repetition and growing a sorted output list.</li><li>At each iteration, insertion sort removes one element from the input data, finds the location it belongs within the sorted list and inserts it there.</li><li>It repeats until no input elements remain.</li></ol><p>The following is a graphical example of the insertion sort algorithm. The partially sorted list (black) initially contains only the first element in the list. One element (red) is removed from the input data and inserted in-place into the sorted list with each iteration.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91147-Insertion-Sort-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-06-01-17-05-51.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [4,2,1,3]</span><br><span class="line">Output: [1,2,3,4]</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91147-Insertion-Sort-List-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-06-01-17-07-24.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [-1,5,3,4,0]</span><br><span class="line">Output: [-1,0,3,4,5]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nums1.length == m</span><br><span class="line">nums2.length == n</span><br><span class="line">0 &lt;= m &lt;= 1000</span><br><span class="line">0 &lt;= n &lt;= 1000</span><br><span class="line">1 &lt;= m + n &lt;= 2000</span><br><span class="line">-10^6 &lt;= nums1[i], nums2[i] &lt;= 10^6</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>插入排序链表版，添加头节点前驱可以简化代码。</p><p><strong>补充：</strong></p><ol><li>时间复杂度 <code>O(n^2)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">insertionSortList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 为原始链表头节点添加前驱</span></span><br><span class="line">        ListNode head_origin_pre = <span class="keyword">new</span> ListNode(-<span class="number">1</span>, head);</span><br><span class="line">        <span class="comment">// 结果链表的前驱</span></span><br><span class="line">        ListNode head_new_pre = <span class="keyword">new</span> ListNode(-<span class="number">1</span>);</span><br><span class="line">        </span><br><span class="line">        ListNode p = head_origin_pre.next;      <span class="comment">// 从第一个元素开始</span></span><br><span class="line">        <span class="keyword">while</span>(p != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// 从原始链表中，剔除正在待插入元素</span></span><br><span class="line">            head_origin_pre.next = p.next;</span><br><span class="line">            <span class="comment">// 结果链表中，正在与待插入元素作比较的元素及其前驱</span></span><br><span class="line">            ListNode p_insert_pre = head_new_pre;</span><br><span class="line">            ListNode p_insert = head_new_pre.next;</span><br><span class="line">            <span class="comment">// 结果链表中元素值小于待插入元素，向后移动</span></span><br><span class="line">            <span class="keyword">while</span>(p_insert != <span class="keyword">null</span> &amp;&amp; p_insert.val &lt; p.val) &#123;</span><br><span class="line">                p_insert_pre = p_insert;</span><br><span class="line">                p_insert = p_insert.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 找到插入位置，插入元素</span></span><br><span class="line">            p_insert_pre.next = p;</span><br><span class="line">            p.next = p_insert;</span><br><span class="line">            <span class="comment">// 待插入元素变为下一个</span></span><br><span class="line">            p = head_origin_pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> head_new_pre.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】4. Median of Two Sorted Arrays 解题记录</title>
      <link href="posts/1f34f97d/"/>
      <url>posts/1f34f97d/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays.</p><p>The overall run time complexity should be O(log (m+n)).</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [1,3], nums2 = [2]</span><br><span class="line">Output: 2.00000</span><br><span class="line">Explanation: merged array = [1,2,3] and median is 2.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [1,2], nums2 = [3,4]</span><br><span class="line">Output: 2.50000</span><br><span class="line">Explanation: merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [0,0], nums2 = [0,0]</span><br><span class="line">Output: 0.00000</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [], nums2 = [1]</span><br><span class="line">Output: 1.00000</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [2], nums2 = []</span><br><span class="line">Output: 2.00000</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nums1.length == m</span><br><span class="line">nums2.length == n</span><br><span class="line">0 &lt;= m &lt;= 1000</span><br><span class="line">0 &lt;= n &lt;= 1000</span><br><span class="line">1 &lt;= m + n &lt;= 2000</span><br><span class="line">-10^6 &lt;= nums1[i], nums2[i] &lt;= 10^6</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>将问题一般化为：寻找两个有序数组中的第 <code>K</code> 个数，<code>K</code> 为两数组长度和的一半。</p><p>整体思路为，将数组 1 和 2 分别切分为前后两部分，总共为 4 部分，每次过滤掉最小的一部分，并在 <code>k</code> 中减去对应元素数。切分依据为，每次选取数组 1 和 2 的第 <code>k/2</code> 位，若数组 1 中元素不足，则取 1 中全部元素，并在 2 中补齐。（在递归中，通过判断保证 <code>nums1</code> 剩余元素始终小于 <code>nums2</code>）</p><p>递归有两个出口：</p><ul><li><p>当数组 1 中元素已全部被掠过，即 <code>beg1</code> 已经到达 <code>nums1</code> 的长度，直接返回数组 2 中的第剩余 <code>k</code> 位</p></li><li><p>当 <code>k</code> 被减到 <code>1</code>，则代表下一个元素即为目标，则 <code>nums1[beg1]</code> 和 <code>nums2[beg2]</code> 中的较小者为目标</p></li></ul><p><strong>补充：</strong></p><ol><li>二分法</li><li>时间复杂度 <code>O(lg(m+n))</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 一般化为寻找两个有序数组中的第 K 个数</span></span><br><span class="line">        <span class="keyword">int</span> k = (nums1.length + nums2.length + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>((nums1.length + nums2.length) % <span class="number">2</span> == <span class="number">0</span>) &#123;    <span class="comment">// 偶数个元素</span></span><br><span class="line">            <span class="keyword">return</span> (findKthSortedArrays(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, k) + findKthSortedArrays(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, k + <span class="number">1</span>)) / <span class="number">2.0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;                                        <span class="comment">// 奇数个元素</span></span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">double</span>)findKthSortedArrays(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 寻找两个有序数组中的第 K 个数</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span> beg1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> beg2, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(nums1.length - beg1 &gt; nums2.length - beg2) &#123;             <span class="comment">// 保证 nums1 子数组长度较小</span></span><br><span class="line">            <span class="keyword">return</span> findKthSortedArrays(nums2, beg2, nums1, beg1, k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 由于 nums1 子数组长度较小，若两数组剩余元素不足 k/2，必然为 nums1</span></span><br><span class="line">        <span class="keyword">if</span>(beg1 == nums1.length) &#123;          <span class="comment">// 若 nums1 数组元素已经全部被排除</span></span><br><span class="line">            <span class="keyword">return</span> nums2[beg2 + k - <span class="number">1</span>];         <span class="comment">// 返回 nums2 剩余 k 对应位</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">1</span>) &#123;                        <span class="comment">// 若下一个元素即为目标，则为 nums1[beg1] 和 nums2[beg2] 中的较小者</span></span><br><span class="line">            <span class="keyword">return</span> Math.min(nums1[beg1], nums2[beg2]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 偏置量，以 k/2 为基准，数组1 若不足则取剩余全部，数组2 补齐至 k</span></span><br><span class="line">        <span class="keyword">int</span> bias1 = Math.min(nums1.length - beg1, k / <span class="number">2</span>), bias2 = k - bias1;</span><br><span class="line">        <span class="comment">// 将偏置转换为数组下标</span></span><br><span class="line">        <span class="keyword">int</span> pos1 = beg1 + bias1 - <span class="number">1</span>, pos2 = beg2 + bias2 - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将数组 1 和 2 分别切分为前后两部分，总共为 4 部分，每次过滤掉最小的一部分</span></span><br><span class="line">        <span class="keyword">if</span>(nums1[pos1] &lt; nums2[pos2]) &#123;</span><br><span class="line">            <span class="keyword">return</span> findKthSortedArrays(nums1, pos1 + <span class="number">1</span>, nums2, beg2, k - bias1);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> findKthSortedArrays(nums1, beg1, nums2, pos2 + <span class="number">1</span>, k - bias2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Hard </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】154. Find Minimum in Rotated Sorted Array II 解题记录</title>
      <link href="posts/dc05f3e5/"/>
      <url>posts/dc05f3e5/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Suppose an array of length n sorted in ascending order is rotated between 1 and n times. For example, the array nums = [0,1,4,4,5,6,7] might become:</p><p>[4,5,6,7,0,1,4] if it was rotated 4 times.<br />[0,1,4,4,5,6,7] if it was rotated 7 times.<br />Notice that rotating an array [a[0], a[1], a[2], …, a[n-1]] 1 time results in the array [a[n-1], a[0], a[1], a[2], …, a[n-2]].</p><p>Given the sorted rotated array nums that may contain duplicates, return the minimum element of this array.</p><p>You must decrease the overall operation steps as much as possible.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,3,5]</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [2,2,2,0,1]</span><br><span class="line">Output: 0</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n == nums.length</span><br><span class="line">1 &lt;= n &lt;= 5000</span><br><span class="line">-5000 &lt;= nums[i] &lt;= 5000</span><br><span class="line">nums is sorted and rotated between 1 and n times.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>由于数组旋转一次，则从最小值所在的位开始，数组无序，且这个节点之前或之后的子数组都是有序的。</p><p>使用二分法，判断中点前后是否有序来决定在哪一侧寻找结果：</p><ul><li>若中点小于最右侧点，则右侧必有序，在左侧寻找（可能中点为目标）</li><li>若中点大于最右侧点，则右侧必无序，在右侧寻找</li><li>若中点等于最右侧点，无法判断哪侧有序，右指针左移（最右侧点和中点相同，保留一个即可，右侧点可略过）</li></ul><p><strong>判断中点及最右侧点</strong>，若数组未旋转，最终会找到首位；若判断左侧点和中点则会找到末尾。</p><p><strong>补充：</strong></p><ol><li>二分法</li><li>时间复杂度 <code>O(lg(n))</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == nums[right]) &#123;          <span class="comment">// 无法判断哪侧有序</span></span><br><span class="line">                --right;                                <span class="comment">// 右指针左移，该值在 mid 位重复，可略过</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt; nums[right]) &#123;    <span class="comment">// 右侧有序</span></span><br><span class="line">                right = mid;                            <span class="comment">// 在左侧寻找，可能为 mid 位</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;                                <span class="comment">// 右侧无序</span></span><br><span class="line">                left = mid + <span class="number">1</span>;                         <span class="comment">// 在右侧寻找</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Hard </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】540. Single Element in a Sorted Array 解题记录</title>
      <link href="posts/d78f4506/"/>
      <url>posts/d78f4506/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>You are given a sorted array consisting of only integers where every element appears exactly twice, except for one element which appears exactly once. Find this single element that appears only once.</p><p>Follow up: Your solution should run in O(log n) time and O(1) space.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,1,2,3,3,4,4,8,8]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [3,3,7,7,10,11,11]</span><br><span class="line">Output: 10</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= nums.length &lt;= 10^5</span><br><span class="line">0 &lt;= nums[i] &lt;= 10^5</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>使用二分法，根据中点前后的元素个数为奇/偶数来判断目标的位置，目标必然在奇数的一侧。</p><p>注意需要判断中点是相同元素的前一个还是后一个，简化代码中处理中点必为前一个，减少了判断。</p><p><strong>补充：</strong></p><ol><li><p>二分法</p></li><li><p>时间复杂度 <code>O(lg(n))</code></p></li><li><p>更简化的代码</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNonDuplicate1</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(left &lt; right) &#123;   <span class="comment">// right 或 left 可能 = mid 时，判断条件不要有等号</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(mid % <span class="number">2</span> == <span class="number">1</span>) &#123;      <span class="comment">// mid 永远取偶数位，只用判断后一位与其是否相同即可</span></span><br><span class="line">            --mid;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(mid &lt; nums.length - <span class="number">1</span> &amp;&amp; nums[mid] == nums[mid + <span class="number">1</span>]) &#123;   <span class="comment">// 和 mid 后一位相同</span></span><br><span class="line">            left = mid + <span class="number">2</span>;                                             <span class="comment">// 左侧已为偶数个，找右侧，跳过相同的 mid, mid + 1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;                                                    <span class="comment">// 和 mid 后一位不同</span></span><br><span class="line">            right = mid;                                                <span class="comment">// 找左侧，可能为 mid</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> nums[right];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNonDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(mid &gt; <span class="number">0</span> &amp;&amp; nums[mid] == nums[mid - <span class="number">1</span>]) &#123;                         <span class="comment">// 和 mid 前一位相同</span></span><br><span class="line">                <span class="keyword">if</span>((right - mid) % <span class="number">2</span> == <span class="number">0</span>) &#123;                                        <span class="comment">// 右侧有偶数个元素</span></span><br><span class="line">                    right = mid - <span class="number">2</span>;                                                    <span class="comment">// 找左侧，跳过 mid - 1, mid</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;                                                            <span class="comment">// 右侧有奇数个元素</span></span><br><span class="line">                    left = mid + <span class="number">1</span>;                                                     <span class="comment">// 找右侧，跳过 mid</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(mid &lt; nums.length - <span class="number">1</span> &amp;&amp; nums[mid] == nums[mid + <span class="number">1</span>]) &#123;    <span class="comment">// 和 mid 后一位相同</span></span><br><span class="line">                <span class="keyword">if</span>((mid - left) % <span class="number">2</span> == <span class="number">0</span>) &#123;                                         <span class="comment">// 左侧有偶数个元素</span></span><br><span class="line">                    left = mid + <span class="number">2</span>;                                                     <span class="comment">// 找右侧，跳过 mid, mid + 1</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;                                                            <span class="comment">// 左侧有奇数个元素</span></span><br><span class="line">                    right = mid - <span class="number">1</span>;                                                    <span class="comment">// 找左侧，跳过 mid</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;                                                            <span class="comment">// 和 mid 前后都不同，返回</span></span><br><span class="line">                <span class="keyword">return</span> nums[mid];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 20.04 全新安装 优化配置 界面美化 常用软件全攻略</title>
      <link href="posts/bbf09ec7/"/>
      <url>posts/bbf09ec7/</url>
      
        <content type="html"><![CDATA[<p>之前将系统从 Ubuntu 18.04 升级到了 Ubuntu 20.04，但是由于升级的方式造成系统不够稳定，Xorg 进程 经常占用 CPU 到 100% 及以上，造成电脑非常卡顿。因此重新进行 Ubuntu 20.04 全盘安装，并进行配置美化。</p><h1 id="制作-ubuntu-2004-镜像-u盘"><a class="markdownIt-Anchor" href="#制作-ubuntu-2004-镜像-u盘"></a> 制作 Ubuntu 20.04 镜像 U盘</h1><ol><li><p>下载镜像文件</p><p>从 <a href="https://releases.ubuntu.com/20.04/">ubuntu 官方网站</a> 下载 <a href="https://releases.ubuntu.com/20.04/ubuntu-20.04-desktop-amd64.iso">ubuntu-20.04.desktop-amd64.iso</a> ISO 镜像文件。</p></li><li><p>下载 Rufus 镜像制作工具</p><p>从 <a href="https://rufus.ie/">Rufus 官方网站</a> 下载并安装 <a href="https://github.com/pbatard/rufus/releases/download/v3.11/rufus-3.11.exe">rufus-3.11exe</a>。</p></li><li><p>制作 Ubuntu 20.04 系统启动 U盘</p><p>使用 Rufus 制作系统启动U盘，注意 <code>分区类型</code> 选择 <code>GPT</code>，<code>目标系统类型</code> 选择 `UEFI(非 CSM)。制作系统启动 U盘会清除 U盘数据，注意备份。</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-01-28.png" alt="rufus" /></p><p>点击开始，选择 <code>以 DD 镜像 模式写入</code>。</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-06-51.png" alt="以DD镜像模式写入" /></p><p><strong>注意：</strong> 不要使用 <code>ISO镜像 模式</code> 或 <code>Ultra ISO</code> 软件制作 U盘，否则安装过程中可能会出现以下报错：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># English</span></span><br><span class="line">The <span class="string">&#x27;grub-efi-amd64-signned&#x27;</span> package failed to install into /tatget/. Without the GRUB boot loader, the installed system will not boot.</span><br><span class="line"><span class="comment"># 中文</span></span><br><span class="line">无法将 grub-efi-amd64-signed 软件包安装到 /target/ 中。如果没有 GRUB 启动引导器，所安装的系统将无法启动</span><br></pre></td></tr></table></figure></li></ol><h1 id="全盘安装-ubuntu-2004"><a class="markdownIt-Anchor" href="#全盘安装-ubuntu-2004"></a> 全盘安装 Ubuntu 20.04</h1><ol><li><p>修改 BIOS 设置</p><p>设置 UEFI(非CSM)</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-17-52.png" alt="UEFI(非CSM)" /></p><p>关闭 Secure Boot</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-25-26.png" alt="Secure Boot" /></p></li><li><p>从 U盘启动安装程序</p><p>开机后狂按 <code>F12</code> 选择 <code>USB</code> 启动，进入安装引导程序。</p><ul><li><p>选择安装界面语言：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-30-20.png" alt="安装界面语言" /></p></li><li><p>选择键盘布局：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-33-13.png" alt="键盘布局" /></p></li><li><p>连接 Wifi 后，选择安装方式和其他选项</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-34-36.png" alt="更新和其他软件" /></p></li><li><p>选择安装类型</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-10-37-05.png" alt="安装类型" /></p><p>也可选择其他选项，自己创建分区表，参考方案：</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>efi</td><td>512M</td></tr><tr><td>/home</td><td>50% of free space</td></tr><tr><td>/</td><td>50% of free space</td></tr></tbody></table><p>选择 <code>efi</code> 分区进行安装。</p></li><li><p>确认分区表</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-20-14-28.png" alt="确认分区表" /></p></li><li><p>选择地区</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-11-05-20.png" alt="选择地区" /></p></li><li><p>设置用户名及密码</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-20-15-16.png" alt="设置用户名及密码" /></p></li><li><p>完成安装</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-20-43-36.png" alt="完成安装" /></p></li></ul></li></ol><h1 id="系统配置及优化"><a class="markdownIt-Anchor" href="#系统配置及优化"></a> 系统配置及优化</h1><h2 id="更换-apt-软件源并更新"><a class="markdownIt-Anchor" href="#更换-apt-软件源并更新"></a> 更换 apt 软件源并更新</h2><p>打开 <code>Software and Update</code> 选择中科大源：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-21-02-14.png" alt="apt 换源" /></p><p>更换完成后，更新软件源索引并更新软件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure><h2 id="设置-ibus-中文输入法"><a class="markdownIt-Anchor" href="#设置-ibus-中文输入法"></a> 设置 ibus 中文输入法</h2><p>在设置中打开 <code>区域与语言</code> 删除 <code>汉语</code> 输入法，只保留 <code>中文(智能拼音)</code>：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-08-21-20-41.png" alt="区域与语言" /></p><p>在输入源中可以设置 <code>所有窗口使用相同的输入源</code> 或 <code>每个窗口使用不同的输入源</code>。</p><p>对 <code>中文(智能拼音)</code> 进行设置，默认初始状态改为 <code>英文</code>：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-08-21-23-25.png" alt="输入法设置" /></p><p>使用时按 <code>Shift</code> 切换中英文。</p><p>关闭 ibus 表情快捷键，避免冲突，执行命令 <code>ibus-setup</code>：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-11-09-31-15.png" alt="ibus快捷键" /></p><h2 id="设置-sudo-免密码慎重"><a class="markdownIt-Anchor" href="#设置-sudo-免密码慎重"></a> 设置 sudo 免密码（慎重）</h2><p>为 <code>/etc/sudoers</code> 添加写权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +w /etc/sudoers</span><br></pre></td></tr></table></figure><p>修改 <code>/etc/sudoers</code> 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/sudoers</span><br></pre></td></tr></table></figure><p>在 <code>%sudo ALL=(ALL:ALL) ALL</code> 后添加一行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%sudo ALL=(ALL:ALL) ALL</span><br><span class="line">your-user-name ALL=(ALL) NOPASSWD:ALL</span><br></pre></td></tr></table></figure><p>注意，添加在之前的话会被 <code>%sudo ALL=(ALL:ALL) ALL</code> 覆盖，导致不生效。</p><p>取消 <code>/etc/sudoers</code> 写权限：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod -w /etc/sudoers</span><br></pre></td></tr></table></figure><p>如果编辑 <code>/etc/sudoers</code> 文件时，手抖写错，导致无法使用 <code>sudo</code> 命令，可以重启电脑，在出现 <code>Ubuntu logo</code> 时按 <code>ESC</code> 键，选择 <code>Advanced</code> 高级启动，以 <code>root</code> 身份进入终端，修改正确后重启进入系统。</p><h1 id="界面主题美化"><a class="markdownIt-Anchor" href="#界面主题美化"></a> 界面主题美化</h1><h2 id="设置暗色主题"><a class="markdownIt-Anchor" href="#设置暗色主题"></a> 设置暗色主题</h2><p>在 <code>设置 -&gt; 外观</code> 中选择 <code>Dark</code> 主题。</p><h2 id="安装-tweaks"><a class="markdownIt-Anchor" href="#安装-tweaks"></a> 安装 tweaks</h2><ol><li><p>安装美化软件</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line"><span class="comment"># 安装 gnome-tweak 优化软件</span></span><br><span class="line">sudo apt install gnome-tweak-tool</span><br><span class="line"><span class="comment"># 使支持浏览器安装 gnome 插件</span></span><br><span class="line">sudo apt install chrome-gnome-shell</span><br><span class="line"><span class="comment"># 开启 gnome shell 扩展</span></span><br><span class="line">sudo apt install gnome-shell-extensions</span><br></pre></td></tr></table></figure></li><li><p>Firfox/Chrome(二选一即可) extension</p><p>安装 GNOME Shell Integration 插件</p><ul><li><p>firfox 安装 GNOME Shell integration 插件</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-06-21-06-29.png" alt="gnome shell integration firfox" /></p></li><li><p>chrome 安装 GNOME Shell integration 插件</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-06-21-09-08.png" alt="gnome shell integration chrome" /></p></li></ul><p>开启 <code>User Themes</code> :</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-07-15-43-15.png" alt="user themes" /></p><p>如果无法打开网页则需要加速上网，参考本文 <a href="#%E6%8E%A8%E8%8D%90%E5%AE%89%E8%A3%85">V2rayL</a> 小节。</p></li></ol><h2 id="更换-gnome-主题"><a class="markdownIt-Anchor" href="#更换-gnome-主题"></a> 更换 GNOME 主题</h2><p>在 <a href="https://www.gnome-look.org/">gnome主题官方网站</a>选择自己心仪的主题，<strong>注意需要选择 GTK3 分类下的主题</strong>，其他分类的主题可能不适合 Ubuntu 20.04。以 <a href="https://www.gnome-look.org/p/1253385/">Sweet</a> 为例：</p><ul><li><p>下载 <code>Sweet-Dark.tar.xz</code> 并解压至 <code>~/.themes/</code> 下。如果没有则创建该目录。</p></li><li><p>重启 <code>Tweaks</code> 并在 <code>外观 -&gt; 应用程序 和 Shell</code> 中选择该主题：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-06-21-34-27.png" alt="" /></p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-07-15-51-04.png" alt="Sweet-Dark" /></p></li></ul><h2 id="更换软件图标"><a class="markdownIt-Anchor" href="#更换软件图标"></a> 更换软件图标</h2><p>在 <code>Full Icon Themes</code> 类目下选择自己心仪的软件图标主题。以 <a href="https://www.opendesktop.org/p/1284047/">Sweet folders</a> 和 <a href="https://www.pling.com/p/1305251/">Candy icons</a> 为例：</p><ul><li><p>下载 <code>Sweet-Rainbow.tar.xz</code> 和 <code>candy-icons.tar.xz</code> 并解压至 <code>~/.icons/</code> 下。如果没有则创建该目录。</p></li><li><p>重启 <code>Tweaks</code> 并在 <code>Themes -&gt; Icons</code> 中选择该主题：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-06-21-42-44.png" alt="Sweet-Rainbow" /></p></li></ul><p><code>Sweet folders</code> 仅包含文件夹图标，<code>Candy icons</code> 仅包含应用程序图标，<code>Sweet-Rainbow</code> 继承了 <code>Candy icons</code> 因此下载两个图标主题后，选择 <code>Sweet-Rainbow</code> 即可同时应用文件夹和程序图标。</p><p>然而，其他文件依旧是系统默认图标，再安装一个项目 <a href="https://github.com/gusbemacbe/suru-plus-dark">suru-plus-dark</a>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.githubusercontent.com/gusbemacbe/suru-plus-dark/master/install.sh | env DESTDIR=<span class="string">&quot;<span class="variable">$HOME</span>/.icons&quot;</span> sh</span><br><span class="line"><span class="comment"># 如果失败，单独运行每个命令</span></span><br><span class="line">wget https://raw.githubusercontent.com/gusbemacbe/suru-plus-dark/master/install.sh</span><br><span class="line">env DESTDIR=<span class="string">&quot;<span class="variable">$HOME</span>/.icons&quot;</span> sh install.sh</span><br><span class="line">rm install.sh</span><br></pre></td></tr></table></figure><p>在 <code>~/.icons</code> 目录会增加 <code>Suru++-Dark</code> 主题：</p><p>修改 <code>Candy icons</code> 的继承关系 <code>vi ~/.icons/candy-icons/index.theme</code> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Inherits=Suru++-Dark</span><br></pre></td></tr></table></figure><p>这样，文件夹图标(Sweet-Rainbow)，应用程序图标(candy-icons)，其他应用图标(Suru+±Dark)都将被应用。</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-07-15-28-34.png" alt="三合一" /></p><h2 id="更换鼠标图标"><a class="markdownIt-Anchor" href="#更换鼠标图标"></a> 更换鼠标图标</h2><p>在 <code>Cursors</code> 类目下选择自己心仪的鼠标主题。以 <a href="https://www.gnome-look.org/s/Gnome/p/1197198/">Bibata</a> 为例：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-17-37-02.png" alt="Bibata Classic" /></p><ul><li><p>下载 <code>Bibata_Classic.zip</code> 并解压至 <code>~/.icons/</code>目录下</p></li><li><p>重启 <code>Tweaks</code> 并在 <code>外观 -&gt; 光标</code> 中选择该主题：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-07-14-54-44.png" alt="Cursor" /></p></li></ul><h2 id="更换-dock"><a class="markdownIt-Anchor" href="#更换-dock"></a> 更换 dock</h2><p>安装 gnome 扩展 <a href="https://extensions.gnome.org/extension/307/dash-to-dock/">Dash to Dock</a></p><p>配置如下：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-07-14-26-01.png" alt="dash to dock 配置" /></p><h2 id="gdm主题设置登录锁定界面"><a class="markdownIt-Anchor" href="#gdm主题设置登录锁定界面"></a> GDM主题设置(登录/锁定界面)</h2><p>GNOME 显示管理器（GDM）是一个管理图形显示服务和处理图形用户登录的程序，使用 <a href="https://www.gnome-look.org/p/1207015/">High Ubunterra</a>主题进行美化，这个主题可以锁屏录界面几乎看起来像 macOS 锁屏，运行其脚本可以为桌面设置壁纸，同时在锁定屏幕和登录屏幕上设置相同的壁纸，且带有模糊效果。</p><ul><li><p>下载 <code>High_Ubunterra_DD-2.4(noPass).tar.xz</code> 注意不同版本针对不同 Ubuntu 版本，具体参考主题首页。</p></li><li><p>解压后，运行其中的安装脚本 <code>sh ./install.sh</code>，运行结束按照提示，先按 <code>ALT + F2</code>，再按 <code>r</code> 回车，让其生效。</p></li><li><p>右键你的壁纸文件，选择 <code>脚本 -&gt; SetAsWallpaper</code> 即可。(<strong>注意</strong>：右键一级目录的<code>设为壁纸</code>不会设置登录/锁定界面，必须是 <code>Script</code> 中的该选项)</p></li></ul><h2 id="修改-terminal-配色"><a class="markdownIt-Anchor" href="#修改-terminal-配色"></a> 修改 Terminal 配色</h2><p>打开 Terminal 的配置文件首选项：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-08-23-17-40.png" alt="配置文件首选项" /></p><p>新建配色方案，设置为内置方案 <code>Tango 暗色</code>，设置 <code>Use transparent backgroud</code> 调整透明度。</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-09-00-38-55.png" alt="配色方案" /></p><h2 id="gnome-插件推荐"><a class="markdownIt-Anchor" href="#gnome-插件推荐"></a> gnome 插件推荐</h2><ol><li><p><a href="https://extensions.gnome.org/extension/545/hide-top-bar/">Hide Top Bar</a> 自动隐藏顶栏</p></li><li><p><a href="https://extensions.gnome.org/extension/1011/dynamic-panel-transparency/">Dynamic Panel Transparency</a> 将顶栏变透明</p></li><li><p><a href="https://extensions.gnome.org/extension/1031/topicons/">TopIcons Plus</a> 将后台应用托盘置于顶栏</p></li><li><p><a href="https://extensions.gnome.org/extension/1634/resource-monitor/">Resource Monitor</a> 在顶栏显示资源使用情况</p></li><li><p><a href="https://extensions.gnome.org/extension/1438/scroll-workspace/">Scroll Workspace</a> 在屏幕右侧边缘滚轮切换工作区</p></li><li><p><a href="https://extensions.gnome.org/extension/355/status-area-horizontal-spacing/">Status Area Horizontal Spacing</a> 调整顶栏右上角图标间距</p></li><li><p><a href="https://extensions.gnome.org/extension/971/workspace-wraparound/">Workspace Wraparound</a> 工作区循环切换(第一个工作区向上切换至最后一个工作区)</p></li></ol><h1 id="软件安装推荐"><a class="markdownIt-Anchor" href="#软件安装推荐"></a> 软件安装推荐</h1><h2 id="推荐安装"><a class="markdownIt-Anchor" href="#推荐安装"></a> 推荐安装</h2><ol><li><p>V2rayL</p><p>项目地址：<a href="https://github.com/jiangxufeng/v2rayL">https://github.com/jiangxufeng/v2rayL</a></p><p>由于原项目提供的脚本中下载链接极不稳定，容易导致安装失败，因此我将项目克隆并将所需文件直接上传到仓库中，并略微修改安装脚本。可以克隆以下仓库并运行 <code>install.sh</code> 脚本直接安装，也可以将原项目安装脚本链接中的内容下载至本地，然后手动运行每一行命令安装。</p><ul><li><p>克隆仓库</p><p>由于所需资源全部保存在仓库中，因此克隆可能比较耗时。</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zhenglinli/v2rayL.git</span><br></pre></td></tr></table></figure></li><li><p>运行安装脚本</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> v2rayL</span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">./install</span><br><span class="line"><span class="comment"># 卸载</span></span><br><span class="line">./uninstall</span><br></pre></td></tr></table></figure></li><li><p>添加订阅</p><p>免费订阅地址（可能会失效，各凭本事）：<a href="https://jiang.netlify.com">https://jiang.netlify.com</a></p></li><li><p>设置全局模式</p><p>在 <code>系统设置 -&gt; 网络 -&gt; 网络代理</code> 中设置 <code>Socks 主机</code> 为 <code>127.0.0.1:1080</code>：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-06-01-13-12.png" alt="设置代理" /></p></li></ul><p>在终端执行 <code>curl www.google.com</code>，查看是否加速成功。</p><p>若加速失败，安装 <code>proxychains</code> 进行终端加速：</p><p>安装 <code>proxychain</code>：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install proxychains</span><br></pre></td></tr></table></figure><p>修改配置 <code>sudo vi /etc/proxychains.conf</code>，注释掉 <code>socks4</code> 行，添加 <code>socks5</code> 行：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#socks4   127.0.0.1 9050</span></span><br><span class="line">socks5    127.0.0.1 1080</span><br></pre></td></tr></table></figure><p>在终端执行 <code>proxychains curl www.google.com</code>，查看是否加速成功。</p></li><li><p>chrome 浏览器</p><p>从 <a href="https://www.google.com/intl/zh-CN/chrome/">官方下载网页</a> 下载 deb 包并安装。</p><p>若无法实现全局加速，使用终端加速打开 <code>firefox</code> 并下载安装 Chrome：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains firefox</span><br></pre></td></tr></table></figure><p>安装完成后，添加扩展程序 <code>SwitchyOmega</code> 并进行设置：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-05-23-48-20.png" alt="Proxy SwitchyOmega" /></p><p>将<code>情景模式</code>中的 <code>proxy</code> 设置为：</p><ul><li>模式：<code>SOCKS5</code></li><li>服务器：<code>localhost</code></li><li>端口：<code>1080</code></li></ul><p>完成后点击插件选择 <code>直连模式</code> 或 <code>proxy</code> 即可切换是否加速。</p></li><li><p>WPS</p><p>从<a href="https://linux.wps.cn/">官方下载网页</a> 下载 deb 包进行安装。</p><p>安装完成后打开 WPS，提示 <code>系统缺失字体</code>：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-07-14-12-23.png" alt="系统缺失字体" /></p><p>寻找一台 Windows 电脑，将 <code>C:\Windows\Fonts</code> 中对应的字体复制到 Ubuntu 的 <code>/usr/share/fonts/wps-office/</code> 目录下，重新启动 WPS 即可。</p></li><li><p>TIM &amp; 微信</p><p><strong>提示：</strong> 后台托盘可通过 Gnome 插件 <code>Topicon Plus</code> 置于顶栏。</p><ul><li><p>安装 deepin-wine</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> <span class="string">&quot;https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu.git&quot;</span></span><br><span class="line"><span class="built_in">cd</span> deepin-wine-for-ubuntu &amp;&amp; sh ./install_2.8.22.sh</span><br><span class="line"><span class="built_in">cd</span> .. &amp;&amp; rm -rf deepin-wine-for-ubuntu</span><br></pre></td></tr></table></figure><p>在 <a href="https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu">https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu</a> 下载所需软件的 deb 包。</p></li><li><p>安装 TIM</p><ol><li><p>安装</p><p>在 deb 安装包所在路径下运行：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据下载的版本修改文件名</span></span><br><span class="line">sudo dpkg -i deepin.com.qq.office_2.0.0deepin4_i386.deb</span><br></pre></td></tr></table></figure><p>安装完成后，启动一次 TIM 并退出。</p><p>若中文显示为方块，修改 <code>/opt/deepinwine/tools/run.sh</code> 文件：</p></li></ol>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 WINE_CMD 修改为如下</span></span><br><span class="line">WINE_CMD=<span class="string">&quot;LC_ALL=zh_CN.UTF-8 deepin-wine&quot;</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p>更新</p><p>在 <a href="https://office.qq.com/download.html">TIM 官方下载页</a> 下载最新 <code>Tim.exe</code> 安装包，并在该安装包所在目录下运行：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据下载的版本修改文件名</span></span><br><span class="line">env WINEPREFIX=~/.deepinwine/Deepin-TIM deepin-wine TIM3.1.0.21789.exe</span><br></pre></td></tr></table></figure><p>然后会弹出安装界面，此时的安装界面可能会出现字体乱码、色块变色等问题，请根据自己的经验猜测各个按钮的所在位置，安装完成后退出。</p></li><li><p>设置 DPI</p><p>如果电脑分辨率较高，可能 TIM 的界面非常小，执行命令：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">env WINEPREFIX=<span class="string">&quot;<span class="variable">$HOME</span>/.deepinwine/Deepin-TIM&quot;</span> /usr/bin/deepin-wine winecfg</span><br></pre></td></tr></table></figure><p>修改 <code>显示 -&gt; 屏幕分辨率</code>，设置合适的 dpi，然后重启 TIM。</p></li><li><p>处理字体缺失</p><p>将 Windows 系统 <code>C:\Windows\Fonts</code> 中的 <code>微软雅黑, 宋体</code> 字体拷贝至 <code>~/.deepinwine/Deepin-TIM/drive_c/windows/Fonts/</code></p></li><li><p>修改桌面图标</p><p>Deepin-Wine 启动 TIM 后，在 dock 中会打开另一个图标，这不符合习惯，修改 <code>/usr/share/applications/deepin.com.qq.office.desktop</code> 文件：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 TIM.exe 改为小写 tim.exe</span></span><br><span class="line">StartupWMClass=tim.exe</span><br></pre></td></tr></table></figure><p>Deepin-Wine 启动 TIM 后，在关闭程序界面后，虽然程序在后台运行，但如果再次点击程序图标，会关闭后台程序，重新运行一个程序实例，这不符合习惯，</p><ul><li><p>安装 xdotool</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install xdotool</span><br></pre></td></tr></table></figure></li><li><p>修改 <code>/opt/deepinwine/apps/Deepin-TIM/run.sh</code> 文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 原脚本如下</span></span><br><span class="line"><span class="comment"># BOTTLENAME=&quot;Deepin-TIM&quot;</span></span><br><span class="line"><span class="comment"># APPVER=&quot;2.0.0deepin4&quot;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># /opt/deepinwine/tools/run.sh $BOTTLENAME $APPVER &quot;$1&quot; &quot;$2&quot; &quot;$3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改为</span></span><br><span class="line">BOTTLENAME=<span class="string">&quot;Deepin-TIM&quot;</span></span><br><span class="line">APPVER=<span class="string">&quot;2.0.0deepin4&quot;</span></span><br><span class="line"></span><br><span class="line">TIM_PID=$(pgrep QQExternal.exe)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="variable">$TIM_PID</span> ]; <span class="keyword">then</span></span><br><span class="line">    /opt/deepinwine/tools/run.sh <span class="variable">$BOTTLENAME</span> <span class="variable">$APPVER</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span> <span class="string">&quot;<span class="variable">$3</span>&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    xdotool key --window $(xdotool search --<span class="built_in">limit</span> 1 --all --pid $(pgrep TIM.exe)) <span class="string">&quot;ctrl+alt+z&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></li></ul></li></ol></li><li><p>安装 微信</p><ol><li><p>安装</p><p>在 deb 安装包所在路径下运行：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据下载的版本修改文件名</span></span><br><span class="line">sudo dpkg -i deepin.com.wechat_2.6.8.65deepin0_i386.deb</span><br></pre></td></tr></table></figure><p>安装完成后，启动一次 微信 并退出。</p></li><li><p>更新</p><p>在 <a href="https://pc.weixin.qq.com/">微信 官方下载页</a> 下载最新 <code>WeChatSetup.exe</code> 安装包，并在该安装包所在目录下运行：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据下载的版本修改文件名</span></span><br><span class="line">env WINEPREFIX=~/.deepinwine/Deepin-WeChat/ deepin-wine WeChatSetup.exe</span><br></pre></td></tr></table></figure><p>然后会弹出安装界面，此时的安装界面可能会出现字体乱码、色块变色等问题，请根据自己的经验猜测各个按钮的所在位置，安装完成后退出。</p></li><li><p>设置 DPI</p><p>如果电脑分辨率较高，可能 微信 的界面非常小，执行命令：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">env WINEPREFIX=<span class="string">&quot;<span class="variable">$HOME</span>/.deepinwine/Deepin-WeChat&quot;</span> /usr/bin/deepin-wine winecfg</span><br></pre></td></tr></table></figure><p>修改 <code>显示 -&gt; 屏幕分辨率</code>，设置合适的 dpi，然后重启 微信。</p></li><li><p>处理字体缺失</p><p>将 Windows 系统 <code>C:\Windows\Fonts</code> 中的 <code>微软雅黑, 宋体</code> 字体拷贝至 <code>~/.deepinwine/Deepin-WeChat/drive_c/windows/Fonts/</code></p><p>创建文件 <code>vi ~/.deepinwine/Deepin-WeChat/font.reg</code>:</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">REGEDIT4</span><br><span class="line">[HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontSubstitutes]</span><br><span class="line"><span class="string">&quot;MS Shell Dlg&quot;</span>=<span class="string">&quot;msyh&quot;</span></span><br><span class="line"><span class="string">&quot;MS Shell Dlg 2&quot;</span>=<span class="string">&quot;msyh&quot;</span></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\FontLink\SystemLink]</span><br><span class="line"><span class="string">&quot;Lucida Sans Unicode&quot;</span>=<span class="string">&quot;msyh.ttc&quot;</span></span><br><span class="line"><span class="string">&quot;Microsoft Sans Serif&quot;</span>=<span class="string">&quot;msyh.ttc&quot;</span></span><br><span class="line"><span class="string">&quot;MS Sans Serif&quot;</span>=<span class="string">&quot;msyh.ttc&quot;</span></span><br><span class="line"><span class="string">&quot;Tahoma&quot;</span>=<span class="string">&quot;msyh.ttc&quot;</span></span><br><span class="line"><span class="string">&quot;Tahoma Bold&quot;</span>=<span class="string">&quot;msyhbd.ttc&quot;</span></span><br><span class="line"><span class="string">&quot;msyh&quot;</span>=<span class="string">&quot;msyh.ttc&quot;</span></span><br><span class="line"><span class="string">&quot;Arial&quot;</span>=<span class="string">&quot;msyh.ttc&quot;</span></span><br><span class="line"><span class="string">&quot;Arial Black&quot;</span>=<span class="string">&quot;msyh.ttc&quot;</span></span><br></pre></td></tr></table></figure><p>注册 font.reg :</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WINEPREFIX=~/.deepinwine/Deepin-WeChat/ deepin-wine regedit ~/.deepinwine/Deepin-WeChat/font.reg</span><br></pre></td></tr></table></figure><p>重新运行微信。</p></li><li><p>修改桌面图标</p><p>Deepin-Wine 启动 微信 后，在 dock 中会打开另一个图标，这不符合习惯，修改 <code>/usr/share/applications/deepin.com.wechat.desktop</code> 文件：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 WeChat.exe 改为小写 wechat.exe</span></span><br><span class="line">StartupWMClass=wechat.exe</span><br></pre></td></tr></table></figure><p>Deepin-Wine 启动 微信 后，在关闭程序界面后，虽然程序在后台运行，但如果再次点击程序图标，会关闭后台程序，重新运行一个程序实例，这不符合习惯，</p><ul><li><p>安装 xdotool</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install xdotool</span><br></pre></td></tr></table></figure></li><li><p>修改 <code>/opt/deepinwine/apps/Deepin-WeChat/run.sh</code> 文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 原脚本如下</span></span><br><span class="line"><span class="comment"># BOTTLENAME=&quot;Deepin-WeChat&quot;</span></span><br><span class="line"><span class="comment"># APPVER=&quot;2.6.8.65deepin0&quot;</span></span><br><span class="line"><span class="comment"># EXEC_PATH=&quot;c:/Program Files/Tencent/WeChat/WeChat.exe&quot;</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># WeChat_PID=$(pgrep WeChat.exe)</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># if [ -n &quot;$EXEC_PATH&quot; ];then</span></span><br><span class="line"><span class="comment">#     /opt/deepinwine/tools/run_v2.sh $BOTTLENAME $APPVER &quot;$EXEC_PATH&quot; &quot;$@&quot;</span></span><br><span class="line"><span class="comment"># else</span></span><br><span class="line"><span class="comment">#     /opt/deepinwine/tools/run_v2.sh $BOTTLENAME $APPVER &quot;uninstaller.exe&quot; &quot;$@&quot;</span></span><br><span class="line"><span class="comment"># fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改为</span></span><br><span class="line">BOTTLENAME=<span class="string">&quot;Deepin-WeChat&quot;</span></span><br><span class="line">APPVER=<span class="string">&quot;2.6.8.65deepin0&quot;</span></span><br><span class="line">EXEC_PATH=<span class="string">&quot;c:/Program Files/Tencent/WeChat/WeChat.exe&quot;</span></span><br><span class="line"></span><br><span class="line">WeChat_PID=$(pgrep WeChat.exe)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="variable">$WeChat_PID</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$EXEC_PATH</span>&quot;</span> ];<span class="keyword">then</span></span><br><span class="line">        /opt/deepinwine/tools/run_v2.sh <span class="variable">$BOTTLENAME</span> <span class="variable">$APPVER</span> <span class="string">&quot;<span class="variable">$EXEC_PATH</span>&quot;</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        /opt/deepinwine/tools/run_v2.sh <span class="variable">$BOTTLENAME</span> <span class="variable">$APPVER</span> <span class="string">&quot;uninstaller.exe&quot;</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    xdotool key --window $(xdotool search --<span class="built_in">limit</span> 1 --all --pid $(pgrep WeChat.exe)) <span class="string">&quot;ctrl+alt+W&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></li></ul></li></ol></li><li><p>其他 deepin-wine 支持的软件同理</p></li></ul></li><li><p>flameshot 截图工具</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install flameshot</span><br></pre></td></tr></table></figure><p>安装完成后在 <code>设置 -&gt; 键盘快捷键</code> 中添加快捷键：</p><p><img src="/images/Ubuntu-20-04-%E5%85%A8%E6%96%B0%E5%AE%89%E8%A3%85-%E5%AE%8C%E5%85%A8%E9%85%8D%E7%BD%AE-%E7%95%8C%E9%9D%A2%E7%BE%8E%E5%8C%96-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%85%A8%E6%94%BB%E7%95%A5/2020-08-06-21-04-30.png" alt="flameshot 快捷键" /></p><p>效果如图：</p><p><img src="/images/Ubuntu-18-04-%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7-flameshot-%E8%BD%AC%E8%BD%BD/2020-03-12-15-49-30.png" alt="flameshot 效果图" /></p><p>该工具在非 <code>100%, 200%</code> 屏幕缩放下会出现 Bug 暂无解决方案（2020.08.09）。</p></li></ol><h2 id="根据需求选择安装"><a class="markdownIt-Anchor" href="#根据需求选择安装"></a> 根据需求选择安装</h2><ol><li><p>VS Code 代码编辑器</p><p><strong>注意：</strong> 不要从 Ubuntu 自带的商店安装，可能出现无法输入中文的 bug。</p><p>从 <a href="https://code.visualstudio.com/">官方下载页面</a> 下载 deb 包并安装。</p></li><li><p>坚果云同步网盘</p><p>使用过 Onedrive， Dropbox， Goole Drive，但各有弊端，当然最重要的还是网络问题。</p><ul><li>Onedrive 即使网络加速后同步还是很慢，无 Linux 客户端</li><li>Google Drive 网盘与相册的逻辑不喜欢，无 Linux 客户端</li><li>Drobox 有 Linux 客户端，但免费账户只允许两个设备绑定</li></ul><p>综上，还是考虑使用国内的坚果云，虽然免费版每月只提供 1G 上传流量和 3G 下载流量，但作为同步盘也勉强够用。</p><p>由于 <a href="https://www.jianguoyun.com/s/downloads/linux">官方网站</a> 提供的 deb 包安装后无法打开坚果云客户端，因此通过官网提供的源码编译方式进行安装：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装相关依赖</span></span><br><span class="line">sudo apt-get install libglib2.0-dev libgtk2.0-dev libnautilus-extension-dev gvfs-bin python-gi gir1.2-appindicator3-0.1</span><br><span class="line"><span class="comment"># 下载Nautilus插件源代码包</span></span><br><span class="line">wget https://www.jianguoyun.com/static/exe/installer/nutstore_linux_src_installer.tar.gz</span><br><span class="line"><span class="comment"># 解压缩，编译和安装Nautilus插件</span></span><br><span class="line">tar zxf nutstore_linux_src_installer.tar.gz</span><br><span class="line"><span class="built_in">cd</span> nutstore_linux_src_installer &amp;&amp; ./configure &amp;&amp; make</span><br><span class="line">sudo make install</span><br><span class="line"><span class="comment"># 重启Nautilus</span></span><br><span class="line">nautilus -q</span><br><span class="line"><span class="comment"># 自动下载和安装坚果云其他二进制组件</span></span><br><span class="line">./runtime_bootstrap</span><br></pre></td></tr></table></figure></li><li><p>AnyDesk 远程桌面控制软件</p><p>从 <a href="https://anydesk.com/zhs/downloads/linux">官方下载页面</a> 下载 <code>DBeaver Community Edition</code> 的 deb 包，并安装。</p><p>AnyDesk 的别名全局唯一且不可修改，一旦配置文件丢失则只能重新设置其他别名。可以备份 <code>/etc/anydesk/</code> 下的文件，更换设备后用备份的文件覆盖新文件，可以找回设置。</p><p>启动系统，停留在登陆页时，AnyDesk 远程连接无法建立，通过设置自动登陆可以解决，修改 <code>/etc/gdm3/custom.conf</code> 文件：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Enabling automatic login</span></span><br><span class="line">AutomaticLoginEnable=<span class="literal">true</span></span><br><span class="line">AutomaticLogin=<span class="variable">$USERNAME</span></span><br></pre></td></tr></table></figure></li><li><p>Virtual Box 开源虚拟机软件</p><p>从 <a href="https://www.virtualbox.org/wiki/Linux_Downloads">官方下载页面</a> 下载  <code>Ubuntu 19.10 / 20.04</code>的 deb 包，并安装。</p></li><li><p>DBeaver 数据库管理软件</p><p>从 <a href="https://dbeaver.io/download/">官方下载页面</a> 下载 <code>DBeaver Community Edition</code> 的 deb 包，并安装。</p></li><li><p>Postman 测试工具</p><p>从 <a href="https://www.postman.com/downloads/">官方下载页面</a> 下载 tar.gz 文件，解压到 <code>/opt/</code> 目录下并运行：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 解压</span></span><br><span class="line">sudo tar -xzf Postman-linux-x64-7.29.1.tar.gz -C /opt/</span><br><span class="line"><span class="comment"># 运行</span></span><br><span class="line">/opt/Postman/Postman</span><br></pre></td></tr></table></figure><p>添加快捷访问方式：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /opt/Postman/Postman /usr/bin/postman</span><br><span class="line"><span class="comment"># 创建 postman.desktop 文件</span></span><br><span class="line">sudo vi ~/.<span class="built_in">local</span>/share/applications/postman.desktop</span><br><span class="line"><span class="comment"># 添加以下内容</span></span><br><span class="line">[Desktop Entry]</span><br><span class="line">Encoding=UTF-8</span><br><span class="line">Name=Postman</span><br><span class="line">Exec=postman</span><br><span class="line">Icon=/opt/Postman/app/resources/app/assets/icon.png</span><br><span class="line">Terminal=<span class="literal">false</span></span><br><span class="line">Type=Application</span><br><span class="line">Categories=Development;</span><br></pre></td></tr></table></figure><p>即可从程序目录中启动 Postman。</p></li><li><p>miniconda 环境管理工具</p><p>从 <a href="https://docs.conda.io/en/latest/miniconda.html">官方下载页面</a> 下载 sh 文件，在文件目录下运行：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh ./Miniconda3-latest-Linux-x86_64.sh</span><br></pre></td></tr></table></figure><p>按提示操作即可。</p><p>通过以下命令设置是否默认激活终端的 conda 环境：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># true/false</span></span><br><span class="line">conda config --<span class="built_in">set</span> auto_activate_base <span class="literal">false</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】81. Search in Rotated Sorted Array II 解题记录</title>
      <link href="posts/f66a2f54/"/>
      <url>posts/f66a2f54/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>There is an integer array nums sorted in non-decreasing order (not necessarily with distinct values).</p><p>Before being passed to your function, nums is rotated at an unknown pivot index k (0 &lt;= k &lt; nums.length) such that the resulting array is [nums[k], nums[k+1], …, nums[n-1], nums[0], nums[1], …, nums[k-1]] (0-indexed). For example, [0,1,2,4,4,4,5,6,6,7] might be rotated at pivot index 5 and become [4,5,6,6,7,0,1,2,4,4].</p><p>Given the array nums after the rotation and an integer target, return true if target is in nums, or false if it is not in nums.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [2,5,6,0,0,1,2], target = 0</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [2,5,6,0,0,1,2], target = 3</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= nums.length &lt;= 5000</span><br><span class="line">-10^4 &lt;= nums[i] &lt;= 10^4</span><br><span class="line">nums is guaranteed to be rotated at some pivot.</span><br><span class="line">-10^4 &lt;= target &lt;= 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>即使数组被旋转过，我们仍然可以利用这个数组的递增性，使用二分查找。</p><p>对于当前的中点，</p><ul><li>如果它指向的值小于等于右端，那么说明右区间是排好序的；反之，那么说明左区间是排好序的。</li><li>如果目标值位于排好序的区间内，我们可以对这个区间继续二分查找；反之，我们对于另一半区间继续二分查找。</li></ul><p>注意，因为数组存在重复数字，如果中点和左端的数字相同，我们并不能确定是左区间全部相同，还是右区间完全相同。在这种情况下，我们可以简单地将左端点右移一位，然后继续进行二分查找。</p><p><strong>补充：</strong></p><ol><li>二分法</li><li>时间复杂度 <code>O(lg(n))</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// 找到，返回</span></span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == target) &#123;         </span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(nums[left] &lt; nums[mid]) &#123;                        <span class="comment">// 左边有序</span></span><br><span class="line">                <span class="keyword">if</span>(nums[left] &lt;= target &amp;&amp; target &lt; nums[mid]) &#123;     <span class="comment">// target 在左区间中 [内)</span></span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;                                            <span class="comment">// target 在右区间中 [)外</span></span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[left] &gt; nums[mid]) &#123;                 <span class="comment">// 右边有序</span></span><br><span class="line">                <span class="keyword">if</span>(nums[mid] &lt; target &amp;&amp; target &lt;= nums[right]) &#123;    <span class="comment">// target 在右区间中 (内]</span></span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;                                            <span class="comment">// target 在左区间中 外(]</span></span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[left] == nums[mid]) &#123;                <span class="comment">// 无法判断哪边有序，target != nums[mid] -&gt; target != nums[left]</span></span><br><span class="line">                ++left;                                             <span class="comment">// 右移左指针，结果不为左边界，可右移</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 未找到</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】69. Sqrt(x) 解题记录</title>
      <link href="posts/340c2b50/"/>
      <url>posts/340c2b50/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given a non-negative integer x, compute and return the square root of x.</p><p>Since the return type is an integer, the decimal digits are truncated, and only the integer part of the result is returned.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: x = 4</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: x = 8</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: The square root of 8 is 2.82842..., and since the decimal part is truncated, 2 is returned.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= x &lt;= 2^31 - 1</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>对 <code>[0, x]</code> 区间使用二分法求解。</p><p>为了防止除以 <code>0</code>，把 <code>x = 0</code> 的情况单独考虑，然后对区间 <code>[1, a]</code> 进行二分查找。</p><p><strong>补充：</strong></p><ol><li><p>二分法</p></li><li><p>时间复杂度 <code>O(lg(n))</code></p></li><li><p>还有一种更快的算法 —— 牛顿迭代法，其公式为 <span class='katex-error' title='ParseError: KaTeX parse error: Expected group after &#039;^&#039; at position 27: …_n - f(x_n) / f^̲&#039;(x_n)'>x_{n+1} = x_n - f(x_n) / f^&#039;(x_n)</span>。给定 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><mi>a</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(x) = x^2 - a = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，这里的迭代公式为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>+</mo><mi>a</mi><mi mathvariant="normal">/</mi><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">x_{n+1} = (x_n + a/x_n)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord">/</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span>，其代码如下。</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> a = x;</span><br><span class="line">        <span class="keyword">while</span> (a * a &gt; x) &#123;</span><br><span class="line">            a = (a + x / a) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">new</span> Long(a)).intValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为了防止 <code>int</code> 超上界，使用 <code>long</code> 来存储乘法结果</p></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">mySqrt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 特殊情况</span></span><br><span class="line">        <span class="keyword">if</span>(x == <span class="number">0</span>)  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 二分，left 不能从 0 开始，否则会除 0</span></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">1</span>, right = x;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">            <span class="comment">// 取中值</span></span><br><span class="line">            <span class="keyword">int</span> mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// 向下取整的开方值</span></span><br><span class="line">            <span class="keyword">int</span> sqrt = x / mid;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(sqrt == mid)  &#123;       <span class="comment">// 找到结果</span></span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(mid &lt; sqrt) &#123; <span class="comment">// 小了，取右半边</span></span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;                    <span class="comment">// 大了，取左半边</span></span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// left &gt; right，即到了 left - 1 == right 的情况，向下取整，故取 right</span></span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 二分法 </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】524. Longest Word in Dictionary through Deleting 解题记录</title>
      <link href="posts/f46d7949/"/>
      <url>posts/f46d7949/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given a string s and a string array dictionary, return the longest string in the dictionary that can be formed by deleting some of the given string characters. If there is more than one possible result, return the longest word with the smallest lexicographical order. If there is no possible result, return the empty string.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;abpcplea&quot;, dictionary = [&quot;ale&quot;,&quot;apple&quot;,&quot;monkey&quot;,&quot;plea&quot;]</span><br><span class="line">Output: &quot;apple&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;abpcplea&quot;, dictionary = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</span><br><span class="line">Output: &quot;a&quot;</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= s.length &lt;= 1000</span><br><span class="line">1 &lt;= dictionary.length &lt;= 1000</span><br><span class="line">1 &lt;= dictionary[i].length &lt;= 1000</span><br><span class="line">s and dictionary[i] consist of lowercase English letters.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>采用双指针来求解。</p><p>对于 <code>dictionary</code> 中的每一个字符串，将其与 <code>s</code> 进行匹配，若匹配，则判断其长度和字典序是否更优。</p><p><strong>补充：</strong></p><ol><li>双指针</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">findLongestWord</span><span class="params">(String s, List&lt;String&gt; dictionary)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 结果</span></span><br><span class="line">        String str_result = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">// 遍历 dictionary</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;dictionary.size(); ++i) &#123;</span><br><span class="line">            String str = dictionary.get(i);</span><br><span class="line">            <span class="comment">// s 指针， str 指针</span></span><br><span class="line">            <span class="keyword">int</span> idx_s = <span class="number">0</span>, idx_str = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// 与 s 进行匹配</span></span><br><span class="line">            <span class="keyword">for</span>(; idx_s&lt;s.length(); ++idx_s) &#123;</span><br><span class="line">                <span class="comment">// 已匹配完 str，跳出</span></span><br><span class="line">                <span class="keyword">if</span>(idx_str == str.length())     <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">// 若 s 当前字母与 str 当前字母相同</span></span><br><span class="line">                <span class="keyword">if</span>(s.charAt(idx_s) == str.charAt(idx_str)) &#123;</span><br><span class="line">                    ++idx_str;      <span class="comment">// str 进入下一字母</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(idx_str == str.length()) &#123;   <span class="comment">// str 已被匹配完</span></span><br><span class="line">                <span class="comment">// 新串长度更长</span></span><br><span class="line">                <span class="keyword">if</span>(str.length() &gt; str_result.length()) &#123;        </span><br><span class="line">                    str_result = str;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 新串长度相等，字典序更小</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(str.length() == str_result.length() &amp;&amp; str.compareTo(str_result) &lt; <span class="number">0</span>) &#123;   </span><br><span class="line">                    str_result = str;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> str_result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】680. Valid Palindrome II 解题记录</title>
      <link href="posts/6a28d588/"/>
      <url>posts/6a28d588/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given a string s, return true if the s can be palindrome after deleting at most one character from it.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;aba&quot;</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;abca&quot;</span><br><span class="line">Output: true</span><br><span class="line">Explanation: You could delete the character &#x27;c&#x27;.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;abc&quot;</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= s.length &lt;= 10^5</span><br><span class="line">s consists of lowercase English letters.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>采用双指针来求解。两个指针分别从两端向中间遍历，遇到不相同的字符时，分别剔除左侧和右侧的一个元素，判断其余子串是否回文。</p><p><strong>补充：</strong></p><ol><li>双指针</li><li><code>substring()</code> 函数是左闭右开区间</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> flag_delete = <span class="keyword">false</span>;    <span class="comment">// 是否已经删除一个元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 左右指针</span></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = s.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 两端向中间遍历</span></span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(left) != s.charAt(right)) &#123;   <span class="comment">// 字符不相等</span></span><br><span class="line">                <span class="keyword">if</span>(flag_delete == <span class="keyword">true</span>) &#123;   <span class="comment">// 已经删除一次，第二次出现，返回</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 设置出现标志</span></span><br><span class="line">                flag_delete = <span class="keyword">true</span>;</span><br><span class="line">                <span class="comment">// 检测分别去掉左右元素时，剩余子串是否回文</span></span><br><span class="line">                <span class="comment">// substring 为左闭右开区间</span></span><br><span class="line">                <span class="keyword">return</span> validPalindrome(s.substring(left + <span class="number">1</span>, right + <span class="number">1</span>)) || validPalindrome(s.substring(left, right));</span><br><span class="line">            &#125;</span><br><span class="line">            ++left;</span><br><span class="line">            --right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 全部找完，符合题意</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】633. Sum of Square Numbers 解题记录</title>
      <link href="posts/66d12b72/"/>
      <url>posts/66d12b72/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given a non-negative integer c, decide whether there’re two integers a and b such that a2 + b2 = c.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: c = 5</span><br><span class="line">Output: true</span><br><span class="line">Explanation: 1 * 1 + 2 * 2 = 5</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: c = 3</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: c = 4</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: c = 2</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: c = 1</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= c &lt;= 2^31 - 1</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>采用双指针来求解。左侧从 0 开始，右侧最大为 <code>sqrt(c)</code> ：</p><ol><li>两数平方和等于给定值，那么它们就是我们要的结果。</li><li>两数平方和小于给定值，把左边的指针右移一位，使得当前的平方和增加一点。</li><li>两数平方和大于给定值，把右边的指针左移一位，使得当前的平方和减少一点。</li></ol><p><strong>补充：</strong></p><ol><li>双指针</li><li><code>double</code> 转 <code>int</code> 方法：<code>(new Double(varible)).intValue()</code></li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">judgeSquareSum</span><span class="params">(<span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// a &lt; b，且 b 不超过该值</span></span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>, b = (<span class="keyword">new</span> Double(Math.sqrt(c))).intValue();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(a &lt;= b) &#123;</span><br><span class="line">            <span class="keyword">int</span> value = a * a + b * b;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(value == c) &#123;        <span class="comment">// 符合题意，返回结果</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(value &lt; c) &#123;  <span class="comment">// a + 1，平方和增大</span></span><br><span class="line">                ++a;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;                <span class="comment">// b - 1，平方和减小</span></span><br><span class="line">                --b;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】76. Minimum Window Substring 解题记录</title>
      <link href="posts/4a667ae0/"/>
      <url>posts/4a667ae0/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given two strings s and t of lengths m and n respectively, return the minimum window in s which will contain all the characters in t. If there is no such window in s that covers all characters in t, return the empty string “”.</p><p>Note that If there is such a window, it is guaranteed that there will always be only one unique minimum window in s.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;ADOBECODEBANC&quot;, t = &quot;ABC&quot;</span><br><span class="line">Output: &quot;BANC&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;a&quot;, t = &quot;a&quot;</span><br><span class="line">Output: &quot;a&quot;</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">m == s.length</span><br><span class="line">n == t.length</span><br><span class="line">1 &lt;= m, n &lt;= 10^5</span><br><span class="line">s and t consist of English letters.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>使用滑动窗口求解，两个指针 <code>left</code> 和 <code>right</code> 都从最左端向最右端移动，且 <code>left</code> 的位置一定在 <code>right</code> 的左边或重合。</p><ol><li><code>flag_chars</code> 记录每个字符是否在 <code>t</code> 中存在；<code>cnt_chars</code> 记录目前每个字符缺少的数量，</li><li>移动窗口右边界，边界字符在 <code>t</code> 中出现过，该字符缺少的数量 <code>cnt_chars[c]</code> <code>-1</code>，若缺少数量 <code>&gt;=0</code> 则该字符有效（若 <code>&lt;0</code> 表示窗口中该字符数量大于 <code>t</code> 中该字符数量），有效数字 <code>cnt_valid_char</code> 计数 <code>+1</code>，</li><li>若窗口中有效字符数与 t 中相同，得到符合题目的一个解，将其与最小解比较并记录。此时，移动窗口左边界，直到窗口不符合题目，退出内层循环。</li></ol><p><strong>补充：</strong></p><ol><li>双指针</li><li>滑动窗口</li><li>使用长度为 <code>128</code> 的数组来映射字符</li><li>需要单独判断无解的情况 <code>flag_ok</code></li><li>时间复杂度 <code>O(n)</code><br />虽然在 <code>for</code> 循环里出现了一个 <code>while</code> 循环，但是因为 <code>while</code> 循环负责移动 <code>left</code> 指针，且 <code>left</code> 只会从左到右移动一次，因此总时间复杂度仍然是 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 子串 t 中各字符是否出现过</span></span><br><span class="line">        <span class="keyword">boolean</span>[] flag_chars = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">128</span>];</span><br><span class="line">        <span class="comment">// 保存子串 t 中各字符的数量</span></span><br><span class="line">        <span class="keyword">int</span>[] cnt_chars = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">128</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 统计 t 中出现的字符</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;t.length(); ++i) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = t.charAt(i);</span><br><span class="line">            <span class="comment">// 出现标志</span></span><br><span class="line">            flag_chars[c] = <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">// 对应字符计数器 +1</span></span><br><span class="line">            ++cnt_chars[c];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 合法窗口是否出现过</span></span><br><span class="line">        <span class="keyword">boolean</span> flag_ok = <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">// 滑动窗口</span></span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 窗口中出现在子串 t 中字符数量</span></span><br><span class="line">        <span class="keyword">int</span> cnt_valid_char = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 记录最小窗口左边界及大小</span></span><br><span class="line">        <span class="keyword">int</span> min_left = <span class="number">0</span>, min_size = s.length();</span><br><span class="line">        <span class="comment">// 移动窗口右边界</span></span><br><span class="line">        <span class="keyword">for</span>(; right&lt;s.length(); ++right) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(right);</span><br><span class="line">            <span class="comment">// 当前字符在 t 中出现过，且该字符有效，计数</span></span><br><span class="line">            <span class="keyword">if</span>(flag_chars[c] == <span class="keyword">true</span> &amp;&amp; --cnt_chars[c] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                ++cnt_valid_char;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 窗口中有效字符数与 t 中字符数相同（包含所有 t 中字符且满足数量）</span></span><br><span class="line">            <span class="keyword">while</span>(cnt_valid_char == t.length()) &#123;</span><br><span class="line">                flag_ok = <span class="keyword">true</span>;</span><br><span class="line">                <span class="comment">// 判断当前窗口是否为最小</span></span><br><span class="line">                <span class="keyword">if</span>(right - left + <span class="number">1</span> &lt; min_size) &#123;</span><br><span class="line">                    min_left = left;</span><br><span class="line">                    min_size = right - left + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 从窗口中删除左边界元素</span></span><br><span class="line">                c = s.charAt(left);</span><br><span class="line">                <span class="comment">// 当前字符在 t 中出现过，从窗口中移出一个有效字符</span></span><br><span class="line">                <span class="keyword">if</span>(flag_chars[c] == <span class="keyword">true</span> &amp;&amp; ++cnt_chars[c] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    --cnt_valid_char;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 窗口左边界向右移一位</span></span><br><span class="line">                ++left;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> flag_ok == <span class="keyword">true</span> ? s.substring(min_left, min_left + min_size) : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 字符串 </tag>
            
            <tag> Hard </tag>
            
            <tag> 算法 </tag>
            
            <tag> 双指针 </tag>
            
            <tag> 滑动窗口 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】142. Linked List Cycle II 解题记录</title>
      <link href="posts/cc8b51d9/"/>
      <url>posts/cc8b51d9/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given a linked list, return the node where the cycle begins. If there is no cycle, return null.</p><p>There is a cycle in a linked list if there is some node in the list that can be reached again by continuously following the next pointer. Internally, pos is used to denote the index of the node that tail’s next pointer is connected to. Note that pos is not passed as a parameter.</p><p>Notice that you should not modify the linked list.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><p><img src="/images/%E3%80%90LeetCode%E3%80%91142-Linked-List-Cycle-II-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-05-12-14-36-50.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [3,2,0,-4], pos = 1</span><br><span class="line">Output: tail connects to node index 1</span><br><span class="line">Explanation: There is a cycle in the linked list, where tail connects to the second node.</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91142-Linked-List-Cycle-II-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-05-12-14-37-57.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1,2], pos = 0</span><br><span class="line">Output: tail connects to node index 0</span><br><span class="line">Explanation: There is a cycle in the linked list, where tail connects to the first node.</span><br></pre></td></tr></table></figure><p><img src="/images/%E3%80%90LeetCode%E3%80%91142-Linked-List-Cycle-II-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-05-12-14-38-21.png" alt="" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: head = [1], pos = -1</span><br><span class="line">Output: no cycle</span><br><span class="line">Explanation: There is no cycle in the linked list.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The number of the nodes in the list is in the range [0, 10^4].</span><br><span class="line">-10^5 &lt;= Node.val &lt;= 10^5</span><br><span class="line">pos is -1 or a valid index in the linked-list.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>对于链表找环路的问题，有一个通用的解法——快慢指针（Floyd 判圈法）。</p><ol><li><p>给定两个指针，分别命名为 <code>slow</code> 和 <code>fast</code>，起始位置在链表的开头。</p></li><li><p>每次 <code>fast</code> 前进两步，<code>slow</code> 前进一步。</p><ul><li>如果 <code>fast</code> 可以走到尽头，那么说明没有环路；</li><li>如果 <code>fast</code> 可以无限走下去，那么说明一定有环路，且一定存在一个时刻 <code>slow</code> 和 <code>fast</code> 相遇。</li></ul></li><li><p>当 <code>slow</code> 和 <code>fast</code> 第一次相遇时，将 <code>fast</code> 重新移动到链表开头，并让 <code>slow</code> 和 <code>fast</code> 每次都前进一步。</p></li><li><p>当 <code>slow</code> 和 <code>fast</code> 第二次相遇时，相遇的节点即为环路的开始点。</p></li></ol><p><strong>补充：</strong></p><ol><li>双指针</li><li>快慢指针</li><li>时间复杂度 <code>O(n)</code></li></ol><p><img src="/images/%E3%80%90LeetCode%E3%80%91142-Linked-List-Cycle-II-%E8%A7%A3%E9%A2%98%E8%AE%B0%E5%BD%95/2021-05-12-14-42-21.png" alt="" /></p><p>假设：</p><ul><li>链表头是 <code>X</code>，</li><li>环的第一个节点是 <code>Y</code>，</li><li>环的长度是 <code>L</code>，</li><li>各段的长度分别是 <code>a, b, c</code>，</li><li><code>slow</code> 和 <code>fast</code> 第一次的交点是 <code>Z</code>，</li></ul><p>第一次相遇时，</p><ul><li><code>slow</code> 走过的距离为 <code>a + b</code>，</li><li><code>fast</code> 走过的距离为 <code>a + b + c + b</code>。</li></ul><p>因为 <code>fast</code> 的速度是 <code>slow</code> 的两倍，所以 <code>fast</code> 走的距离是 <code>slow</code> 的两倍，有 <code>2(a + b) = a + b + c + b</code>，可以得到 <code>a = c</code>。</p><p>此时，<code>slow</code> 位于 <code>Z</code>，令 <code>fast</code> 位于首节点 <code>X</code>，两指针每次均前进一步，由于 <code>a = c</code>，则两指针必相遇于 <code>Y</code> 点。</p><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123;</span></span><br><span class="line"><span class="comment"> *         val = x;</span></span><br><span class="line"><span class="comment"> *         next = null;</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">detectCycle</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 快慢指针</span></span><br><span class="line">        ListNode p_slow = head, p_fast = head;</span><br><span class="line">        <span class="comment">// 尝试是否相遇，相遇则有环</span></span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="comment">// 无环</span></span><br><span class="line">            <span class="keyword">if</span>(p_fast == <span class="keyword">null</span> || p_fast.next == <span class="keyword">null</span>)     <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            <span class="comment">// 有环,快指针前进两步，慢指针前进一步</span></span><br><span class="line">            p_fast = p_fast.next.next;</span><br><span class="line">            p_slow = p_slow.next;</span><br><span class="line">        &#125; <span class="keyword">while</span>(p_fast != p_slow);</span><br><span class="line">        <span class="comment">// 若无环，则在以上循环中已返回</span></span><br><span class="line">        <span class="comment">// p_fast 从 head 开始，p_fast 和 p_slow 每次均前进一步，相遇点即为环交点</span></span><br><span class="line">        p_fast = head;</span><br><span class="line">        <span class="keyword">while</span>(p_fast != p_slow) &#123;</span><br><span class="line">            p_fast = p_fast.next;</span><br><span class="line">            p_slow = p_slow.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p_fast;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 双指针 </tag>
            
            <tag> 链表 </tag>
            
            <tag> 快慢指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】88. Merge Sorted Array 解题记录</title>
      <link href="posts/9648cc77/"/>
      <url>posts/9648cc77/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given two sorted integer arrays nums1 and nums2, merge nums2 into nums1 as one sorted array.</p><p>The number of elements initialized in nums1 and nums2 are m and n respectively. You may assume that nums1 has a size equal to m + n such that it has enough space to hold additional elements from nums2.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3</span><br><span class="line">Output: [1,2,2,3,5,6]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [1], m = 1, nums2 = [], n = 0</span><br><span class="line">Output: [1]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nums1.length == m + n</span><br><span class="line">nums2.length == n</span><br><span class="line">0 &lt;= m, n &lt;= 200</span><br><span class="line">1 &lt;= m + n &lt;= 200</span><br><span class="line">-10^9 &lt;= nums1[i], nums2[i] &lt;= 10^9</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>数组已经排好序，可以采用双指针来求解。</p><ul><li><code>p</code> 指针指向 <code>nums1</code> 的末尾，</li><li><code>p1, p2</code> 两个指针分别指向两数组的末尾。</li><li>每次将较大的数字复制到 <code>nums1</code> 的 <code>p</code> 位置，然后指针向前移动一位。</li></ul><p>结束后，若 <code>nums2</code> 有剩余，则将剩余元素添加到正确位置；若 <code>nums1</code> 有剩余，因为结果基于 <code>nums1</code> 构建，因此无需操作剩余元素即在正确位置</p><p><strong>补充：</strong></p><ol><li>双指针</li><li>时间复杂度 <code>O(m + n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span> m, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 插入位置指针</span></span><br><span class="line">        <span class="keyword">int</span> p = m + n - <span class="number">1</span>;        </span><br><span class="line">        <span class="comment">// 当前指针，分别指向 nums1 数组和 nums2 数组</span></span><br><span class="line">        <span class="keyword">int</span> p1 = m - <span class="number">1</span>, p2 = n - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 从后向前遍历</span></span><br><span class="line">        <span class="keyword">while</span>(p1 &gt;= <span class="number">0</span> &amp;&amp; p2 &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// 将 nums1 和 nums2 中当前位置元素较大的，添加到正确位置，并移动指针</span></span><br><span class="line">            nums1[p--] = nums1[p1] &gt; nums2[p2] ? nums1[p1--] : nums2[p2--];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 若 nums2 有剩余，添加到正确位置，</span></span><br><span class="line">        <span class="comment">// 若 nums1 有剩余，无需操作即在正确位置</span></span><br><span class="line">        <span class="keyword">while</span>(p2 &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            nums1[p--] = nums2[p2--];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】167. Two Sum II - Input array is sorted 解题记录</title>
      <link href="posts/92ab2227/"/>
      <url>posts/92ab2227/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given an array of integers numbers that is already sorted in ascending order, find two numbers such that they add up to a specific target number.</p><p>Return the indices of the two numbers (1-indexed) as an integer array answer of size 2, where 1 &lt;= answer[0] &lt; answer[1] &lt;= numbers.length.</p><p>You may assume that each input would have exactly one solution and you may not use the same element twice.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: numbers = [2,7,11,15], target = 9</span><br><span class="line">Output: [1,2]</span><br><span class="line">Explanation: The sum of 2 and 7 is 9. Therefore index1 = 1, index2 = 2.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: numbers = [2,3,4], target = 6</span><br><span class="line">Output: [1,3]</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: numbers = [-1,0], target = -1</span><br><span class="line">Output: [1,2]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2 &lt;= numbers.length &lt;= 3 * 10^4</span><br><span class="line">-1000 &lt;= numbers[i] &lt;= 1000</span><br><span class="line">numbers is sorted in increasing order.</span><br><span class="line">-1000 &lt;= target &lt;= 1000</span><br><span class="line">Only one valid answer exists.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>数组已经排好序，可以采用双指针来求解。两个指针分别指向首、尾元素，并沿反方向遍历，可能出现三种情况：</p><ol><li>两个指针指向元素的和等于给定值，那么它们就是我们要的结果。</li><li>两个指针指向元素的和小于给定值，把左边的指针右移一位，使得当前的和增加一点。</li><li>两个指针指向元素的和大于给定值，把右边的指针左移一位，使得当前的和减少一点。</li></ol><p><strong>补充：</strong></p><ol><li><p>双指针</p></li><li><p>时间复杂度 <code>O(n)</code></p></li><li><p>对于排好序且有解的数组，双指针一定能遍历到最优解</p><p>假设最优解的两个数的位置分别是 <code>l</code> 和 <code>r</code>。</p><ul><li>假设在左指针在 <code>l</code> 左边的时候，右指针已经移动到了 <code>r</code>；此时两个指针指向值的和小于给定值，因此左指针会一直右移直到到达 <code>l</code>。</li><li>假设在右指针在 <code>r</code> 右边的时候，左指针已经移动到了 <code>l</code>；此时两个指针指向值的和大于给定值，因此右指针会一直左移直到到达 <code>r</code>。</li></ul><p>所以双指针在任何时候都不可能处于 <code>(l,r)</code> 之间，又因为不满足条件时指针必须移动一个，所以最终一定会收敛在 <code>l</code> 和 <code>r</code>。</p></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="comment">// 结果</span></span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="comment">// 首尾指针</span></span><br><span class="line">        <span class="keyword">int</span> idx_head = <span class="number">0</span>, idx_tail = numbers.length - <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(idx_head &lt; idx_tail) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum_2 = numbers[idx_head] + numbers[idx_tail];</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(sum_2 == target)         <span class="comment">// = target，返回结果</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;idx_head + <span class="number">1</span>, idx_tail + <span class="number">1</span>&#125;;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(sum_2 &lt; target)     <span class="comment">// &lt; target，首指针后移一位</span></span><br><span class="line">                ++idx_head;</span><br><span class="line">            <span class="keyword">else</span>                        <span class="comment">// &gt; target，尾指针前移一位</span></span><br><span class="line">                --idx_tail;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 题目保证有解，不可能到这里</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】665. Non-decreasing Array 解题记录</title>
      <link href="posts/a460efb0/"/>
      <url>posts/a460efb0/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given an array nums with n integers, your task is to check if it could become non-decreasing by modifying at most one element.</p><p>We define an array is non-decreasing if nums[i] &lt;= nums[i + 1] holds for every i (0-based) such that (0 &lt;= i &lt;= n - 2).</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">input: nums = [4,2,3]</span><br><span class="line">output: true</span><br><span class="line">explanation: you could modify the first 4 to 1 to get a non-decreasing array.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [4,2,1]</span><br><span class="line">Output: false</span><br><span class="line">Explanation: You can&#x27;t get a non-decreasing array by modify at most one element.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n == nums.length</span><br><span class="line">1 &lt;= n &lt;= 10^4</span><br><span class="line">-10^5 &lt;= nums[i] &lt;= 10^5</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>找到非递增的项，有两种情况</p><ol><li>如 <code>2 4 3 5 7</code> 序列中的第二个元素 <code>4</code>， 其前一元素 <code>2</code> 小于后一元素 <code>3</code>，则将 <code>4</code> 降为 <code>3</code>，序列变成 <code>2 3 3 5 7</code></li><li>如 <code>2 4 1 5 7</code> 序列中的第二个元素 <code>4</code>， 其前一元素 <code>2</code> 大于后一元素 <code>1</code>，则将 <code>1</code> 升为 <code>4</code>，序列变成 <code>2 4 4 5 7</code></li></ol><p>已修改的元素及其之前的元素是非减序列，判断其余元素即可</p><p>若出现第二个非递增项，返回 false</p><p><strong>补充：</strong></p><ol><li>贪心算法</li><li>时间复杂度 <code>O(nlogn)</code>（排序）</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkPossibility</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 是否已找到</span></span><br><span class="line">        <span class="keyword">boolean</span> flag_find = <span class="keyword">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;nums.length-<span class="number">1</span>; ++i) &#123;</span><br><span class="line">            <span class="comment">// 找到非递增的项</span></span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; nums[i+<span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="comment">// 第二次找到，直接返回</span></span><br><span class="line">                <span class="keyword">if</span>(flag_find)</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    flag_find = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="comment">// 若前一元素小于后一元素，降低当前元素，使其处于前后元素大小之间</span></span><br><span class="line">                    <span class="keyword">if</span>(i == <span class="number">0</span> || nums[i - <span class="number">1</span>] &lt;= nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                        <span class="comment">// 将第 i 个值降为 i + 1 的值</span></span><br><span class="line">                        nums[i] = nums[i + <span class="number">1</span>];</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// 若前一元素大于后一元素，提升后一元素，使其等于当前元素</span></span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(nums[i -<span class="number">1</span>] &gt; nums[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                        <span class="comment">// 将第 i + 1 个值升为 i 的值</span></span><br><span class="line">                        nums[i + <span class="number">1</span>] = nums[i];</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// 判断其余元素是否符合非减序列</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&lt;nums.length-<span class="number">1</span>; ++j) &#123;</span><br><span class="line">                        <span class="keyword">if</span>(nums[j] &gt; nums[j + <span class="number">1</span>])</span><br><span class="line">                            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】406. Queue Reconstruction by Height 解题记录</title>
      <link href="posts/1d2ecea5/"/>
      <url>posts/1d2ecea5/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>You are given an array of people, people, which are the attributes of some people in a queue (not necessarily in order). Each people[i] = [hi, ki] represents the ith person of height hi with exactly ki other people in front who have a height greater than or equal to hi.</p><p>Reconstruct and return the queue that is represented by the input array people. The returned queue should be formatted as an array queue, where queue[j] = [hj, kj] is the attributes of the jth person in the queue (queue[0] is the person at the front of the queue).</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Input: people = [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]</span><br><span class="line">Output: [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]</span><br><span class="line">Explanation:</span><br><span class="line">Person 0 has height 5 with no other people taller or the same height in front.</span><br><span class="line">Person 1 has height 7 with no other people taller or the same height in front.</span><br><span class="line">Person 2 has height 5 with two persons taller or the same height in front, which is person 0 and 1.</span><br><span class="line">Person 3 has height 6 with one person taller or the same height in front, which is person 1.</span><br><span class="line">Person 4 has height 4 with four people taller or the same height in front, which are people 0, 1, 2, and 3.</span><br><span class="line">Person 5 has height 7 with one person taller or the same height in front, which is person 1.</span><br><span class="line">Hence [[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]] is the reconstructed queue.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: people = [[6,0],[5,0],[4,0],[3,2],[2,2],[1,4]]</span><br><span class="line">Output: [[4,0],[5,0],[2,2],[3,2],[1,4],[6,0]]</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= people.length &lt;= 2000</span><br><span class="line">0 &lt;= hi &lt;= 10^6</span><br><span class="line">0 &lt;= ki &lt; people.length</span><br><span class="line">It is guaranteed that the queue can be reconstructed.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><ol><li><p>首先按照身高从高到低，对队列排序，若身高相同，则 k_i 小的排前面，</p></li><li><p>新建一个空的数组 <code>queue</code>，保存结果，</p></li><li><p>遍历排序的数组，将每一项插入到 <code>queue</code> 数组中的第 <code>k_i</code> 位置</p><ul><li>相同身高的人会按 <code>k_i</code> 从小到大加入</li><li>当加入身高为 <code>h_i</code> 的人时，由于原队列已经排序，结果队列中已加入的人的身高必然 &gt;= <code>h_i</code>，因此，第 <code>k_i</code> 位置即为应该加入的位置（前方有 <code>k_i</code> 个人的身高 &gt;= <code>h_i</code>）</li></ul></li></ol><p><strong>补充：</strong></p><ol><li>贪心算法</li><li>时间复杂度 <code>O(nlogn)</code>（排序）</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 新队列</span></span><br><span class="line">    <span class="keyword">int</span>[][] queue;</span><br><span class="line">    <span class="comment">// 新队列人数</span></span><br><span class="line">    <span class="keyword">int</span> cnt_people = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] reconstructQueue(<span class="keyword">int</span>[][] people) &#123;</span><br><span class="line">        <span class="comment">// 构造新队列</span></span><br><span class="line">        queue = <span class="keyword">new</span> <span class="keyword">int</span>[people.length][<span class="number">2</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 按高度 h_i 排序原队列</span></span><br><span class="line">        Arrays.sort(people, (<span class="keyword">int</span>[] p1, <span class="keyword">int</span>[] p2) -&gt; p2[<span class="number">0</span>] == p1[<span class="number">0</span>] ? p1[<span class="number">1</span>] - p2[<span class="number">1</span>] : p2[<span class="number">0</span>] - p1[<span class="number">0</span>]);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 遍历原队，插入新队</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;people.length; ++i) &#123;</span><br><span class="line">            <span class="comment">// 插入第 k_i 个位置</span></span><br><span class="line">            insert(queue, people[i][<span class="number">1</span>], people[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> queue;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span>[][] queue, <span class="keyword">int</span> idx, <span class="keyword">int</span>[] lst_pair)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 替换第 idx 位置为 lst_pair</span></span><br><span class="line">        <span class="keyword">int</span>[] pre = queue[idx];</span><br><span class="line">        queue[idx] = lst_pair;</span><br><span class="line">        <span class="comment">// 全部后移一位</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=idx+<span class="number">1</span>; i&lt;=cnt_people; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] tmp = queue[i];</span><br><span class="line">            queue[i] = pre;</span><br><span class="line">            pre = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        ++cnt_people;</span><br><span class="line">        <span class="comment">// 返回被替换的坐标</span></span><br><span class="line">        <span class="keyword">return</span> idx;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】763. Partition Labels 解题记录</title>
      <link href="posts/c336fcb2/"/>
      <url>posts/c336fcb2/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>A string S of lowercase English letters is given. We want to partition this string into as many parts as possible so that each letter appears in at most one part, and return a list of integers representing the size of these parts.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input: S = &quot;ababcbacadefegdehijhklij&quot;</span><br><span class="line">Output: [9,7,8]</span><br><span class="line">Explanation:</span><br><span class="line">The partition is &quot;ababcbaca&quot;, &quot;defegde&quot;, &quot;hijhklij&quot;.</span><br><span class="line">This is a partition so that each letter appears in at most one part.</span><br><span class="line">A partition like &quot;ababcbacadefegde&quot;, &quot;hijhklij&quot; is incorrect, because it splits S into less parts.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">S will have length in range [1, 500].</span><br><span class="line">S will consist of lowercase English letters (&#x27;a&#x27; to &#x27;z&#x27;) only.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>字符串 S 中相同的字母只能在同一个子串中，</p><ol><li>首先记录每个字母最后出现的位置，</li><li>用 <code>sub_str_begin</code> 和 <code>sub_str_end</code> 分别表示当前子串的起始位置和结束位置，每遍历一个字母，将 <code>sub_str_end</code> 更新为当前字母最后位置，和原结束位置中的较大值（一旦当前子串包含一个字母，则必须包含所有的该字母），</li><li>当 <code>i == sub_str_end</code> 时，表示该字串已结束，计算 <code>sub_str_end - sub_str_begin</code> 子串长度加入结果列表，并更新 <code>sub_str_begin</code> 和 <code>sub_str_end</code> 至后续位置，继续步骤 2</li></ol><p><strong>补充：</strong></p><ol><li>贪心算法</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">partitionLabels</span><span class="params">(String S)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 记录结果，截取 letter 的长度</span></span><br><span class="line">        List&lt;Integer&gt; lst_result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 记录每个字母最后出现的位置</span></span><br><span class="line">        <span class="keyword">int</span>[] letter_last_appear = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;S.length(); ++i) &#123;</span><br><span class="line">            letter_last_appear[S.charAt(i) - <span class="string">&#x27;a&#x27;</span>] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 子串起始位置和结束位置</span></span><br><span class="line">        <span class="keyword">int</span> sub_str_begin = <span class="number">0</span>, sub_str_end = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;S.length(); ++i) &#123;</span><br><span class="line">            <span class="comment">// 更新子串结束位置为字串中所有字母最后出现位置的最大值</span></span><br><span class="line">            <span class="keyword">int</span> letter_end = letter_last_appear[S.charAt(i) - <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">            <span class="keyword">if</span>(letter_end &gt; sub_str_end)</span><br><span class="line">                sub_str_end = letter_end;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 若当前位置与子串结束位置相等，分割</span></span><br><span class="line">            <span class="keyword">if</span>(i == sub_str_end) &#123;</span><br><span class="line">                <span class="comment">// 记录结果</span></span><br><span class="line">                lst_result.add(sub_str_end - sub_str_begin + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// 下一个子串</span></span><br><span class="line">                sub_str_begin = i + <span class="number">1</span>;</span><br><span class="line">                sub_str_end = i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lst_result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】122. Best Time to Buy and Sell Stock II 解题记录</title>
      <link href="posts/e513e7dc/"/>
      <url>posts/e513e7dc/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>You are given an array prices where prices[i] is the price of a given stock on the ith day.</p><p>Find the maximum profit you can achieve. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times).</p><p>Note: You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: prices = [7,1,5,3,6,4]</span><br><span class="line">Output: 7</span><br><span class="line">Explanation: Buy on day 2 (price = 1) and sell on day 3 (price = 5), profit = 5-1 = 4.</span><br><span class="line">Then buy on day 4 (price = 3) and sell on day 5 (price = 6), profit = 6-3 = 3.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: prices = [1,2,3,4,5]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.</span><br><span class="line">Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are engaging multiple transactions at the same time. You must sell before buying again.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: prices = [7,6,4,3,1]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: In this case, no transaction is done, i.e., max profit = 0.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= prices.length &lt;= 3 * 10^4</span><br><span class="line">0 &lt;= prices[i] &lt;= 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>若当天股票价格比前一天高，则在前一天买入，当天卖出即可。</p><p><strong>补充：</strong></p><ol><li>贪心算法</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="keyword">int</span>[] prices)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 特殊情况，0 或 1 天</span></span><br><span class="line">        <span class="keyword">if</span>(prices.length &lt;= <span class="number">1</span>)  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 收益</span></span><br><span class="line">        <span class="keyword">int</span> profit = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;prices.length; ++i) &#123;</span><br><span class="line">            <span class="comment">// 后一天相对前一天上涨，上涨额加入收益</span></span><br><span class="line">            <span class="keyword">if</span>(prices[i] &gt; prices[i - <span class="number">1</span>])</span><br><span class="line">                profit += (prices[i] - prices[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> profit;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】452. Minimum Number of Arrows to Burst Balloons 解题记录</title>
      <link href="posts/71cefafc/"/>
      <url>posts/71cefafc/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>There are some spherical balloons spread in two-dimensional space. For each balloon, provided input is the start and end coordinates of the horizontal diameter. Since it’s horizontal, y-coordinates don’t matter, and hence the x-coordinates of start and end of the diameter suffice. The start is always smaller than the end.</p><p>An arrow can be shot up exactly vertically from different points along the x-axis. A balloon with xstart and xend bursts by an arrow shot at x if xstart ≤ x ≤ xend. There is no limit to the number of arrows that can be shot. An arrow once shot keeps traveling up infinitely.</p><p>Given an array points where points[i] = [xstart, xend], return the minimum number of arrows that must be shot to burst all balloons.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: points = [[10,16],[2,8],[1,6],[7,12]]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: One way is to shoot one arrow for example at x = 6 (bursting the balloons [2,8] and [1,6]) and another arrow at x = 11 (bursting the other two balloons).</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: points = [[1,2],[3,4],[5,6],[7,8]]</span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: points = [[1,2],[2,3],[3,4],[4,5]]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= points.length &lt;= 10^4</span><br><span class="line">points[i].length == 2</span><br><span class="line">-2^31 &lt;= xstart &lt; xend &lt;= 2^31 - 1</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>区间重叠情况，一般可以使用贪心算法。</p><p>把所有的区间按照右边界进行排序。遍历时只要向当前气球的右边界射箭，就能打破尽可能多的气球。然后依次移动射箭的位置，进行统计即可。</p><p><strong>补充：</strong></p><ol><li>先排序</li><li>贪心算法</li><li>时间复杂度 <code>O(nlogn)</code>（排序）</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMinArrowShots</span><span class="params">(<span class="keyword">int</span>[][] points)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 按区间右侧数字，从小到大排序</span></span><br><span class="line">        Arrays.sort(points, (arr1, arr2) -&gt; arr1[<span class="number">1</span>] - arr2[<span class="number">1</span>]);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// arrow 数量</span></span><br><span class="line">        <span class="keyword">int</span> cnt_arrow = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// arrow 位置</span></span><br><span class="line">        <span class="keyword">int</span> p_arrow = points[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// 遍历气球</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;points.length; ++i) &#123;</span><br><span class="line">            <span class="comment">// 第 i 个气球的左右边界</span></span><br><span class="line">            <span class="keyword">int</span> p_left = points[i][<span class="number">0</span>], p_right = points[i][<span class="number">1</span>];</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// arrow 坐标在当前气球边界外</span></span><br><span class="line">            <span class="keyword">if</span>(p_arrow &lt; p_left || p_right &lt; p_arrow) &#123;</span><br><span class="line">                p_arrow = p_right;  <span class="comment">// 将 arrow 坐标设为当前气球右侧边界</span></span><br><span class="line">                ++cnt_arrow;        <span class="comment">// arrow 数量增加</span></span><br><span class="line">            &#125; <span class="comment">// arrow 坐标在当前气球边界内，直接下一个</span></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> cnt_arrow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】833. Find And Replace in String 解题记录</title>
      <link href="posts/8bc10515/"/>
      <url>posts/8bc10515/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>To some string S, we will perform some replacement operations that replace groups of letters with new ones (not necessarily the same size).</p><p>Each replacement operation has 3 parameters: a starting index i, a source word x and a target word y.  The rule is that if x starts at position i in the original string S, then we will replace that occurrence of x with y.  If not, we do nothing.</p><p>For example, if we have S = “abcd” and we have some replacement operation i = 2, x = “cd”, y = “ffff”, then because “cd” starts at position 2 in the original string S, we will replace it with “ffff”.</p><p>Using another example on S = “abcd”, if we have both the replacement operation i = 0, x = “ab”, y = “eee”, as well as another replacement operation i = 2, x = “ec”, y = “ffff”, this second operation does nothing because in the original string S[2] = ‘c’, which doesn’t match x[0] = ‘e’.</p><p>All these operations occur simultaneously.  It’s guaranteed that there won’t be any overlap in replacement: for example, S = “abc”, indexes = [0, 1], sources = [“ab”,“bc”] is not a valid test case.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: S = &quot;abcd&quot;, indexes = [0, 2], sources = [&quot;a&quot;, &quot;cd&quot;], targets = [&quot;eee&quot;, &quot;ffff&quot;]</span><br><span class="line">Output: &quot;eeebffff&quot;</span><br><span class="line">Explanation:</span><br><span class="line">&quot;a&quot; starts at index 0 in S, so it&#x27;s replaced by &quot;eee&quot;.</span><br><span class="line">&quot;cd&quot; starts at index 2 in S, so it&#x27;s replaced by &quot;ffff&quot;.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: S = &quot;abcd&quot;, indexes = [0, 2], sources = [&quot;a&quot;, &quot;cd&quot;], targets = [&quot;eee&quot;, &quot;ffff&quot;]</span><br><span class="line">Output: &quot;eeebffff&quot;</span><br><span class="line">Explanation:</span><br><span class="line">&quot;a&quot; starts at index 0 in S, so it&#x27;s replaced by &quot;eee&quot;.</span><br><span class="line">&quot;cd&quot; starts at index 2 in S, so it&#x27;s replaced by &quot;ffff&quot;.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0 &lt;= S.length &lt;= 1000</span><br><span class="line">S consists of only lowercase English letters.</span><br><span class="line">0 &lt;= indexes.length &lt;= 100</span><br><span class="line">0 &lt;= indexes[i] &lt; S.length</span><br><span class="line">sources.length == indexes.length</span><br><span class="line">targets.length == indexes.length</span><br><span class="line">1 &lt;= sources[i].length, targets[i].length &lt;= 50</span><br><span class="line">sources[i] and targets[i] consist of only lowercase English letters.</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>遍历字符串，若当前位在 <code>indexes</code> 中，判断是否需要替换，</p><ul><li>若需要替换，则将 <code>target</code> 字符串 <code>append</code> 入结果，<code>idx = idx + target.length - 1</code></li><li>若不需要替换，则将当前字符 <code>append</code> 入结果</li></ul><p>返回结果字符串。</p><p><strong>补充：</strong></p><ol><li>用 Map 来保存替换规则，降低查找时间</li><li><code>i = i + target.length() - 1</code></li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Record</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String source;</span><br><span class="line">    <span class="keyword">public</span> String target;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Record</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.source = s;</span><br><span class="line">        <span class="keyword">this</span>.target = t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 结果</span></span><br><span class="line">    <span class="keyword">private</span> StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="comment">// 替换字典</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, Record&gt; map = <span class="keyword">new</span> HashMap&lt;Integer, Record&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">findReplaceString</span><span class="params">(String S, <span class="keyword">int</span>[] indexes, String[] sources, String[] targets)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 存储替换字典</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;indexes.length; ++i) &#123;</span><br><span class="line">            map.put(indexes[i], <span class="keyword">new</span> Record(sources[i], targets[i]));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 遍历字符串</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;S.length(); ++i) &#123;</span><br><span class="line">            <span class="comment">// 当前位需判断是否替换</span></span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(i)) &#123;</span><br><span class="line">                String source = map.get(i).source, target = map.get(i).target;</span><br><span class="line">                <span class="keyword">int</span> source_len = source.length(), target_len = target.length();</span><br><span class="line">                <span class="comment">// 匹配，进行替换</span></span><br><span class="line">                <span class="keyword">if</span>(source.equals(S.substring(i, i+source_len))) &#123;</span><br><span class="line">                    sb.append(target);</span><br><span class="line">                    i = i + source_len - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 不匹配，不进行替换</span></span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    sb.append(S.charAt(i));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 当前位不需要替换</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                sb.append(S.charAt(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 字符串 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】605. Can Place Flowers 解题记录</title>
      <link href="posts/ef5a23d/"/>
      <url>posts/ef5a23d/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>You have a long flowerbed in which some of the plots are planted, and some are not. However, flowers cannot be planted in adjacent plots.</p><p>Given an integer array flowerbed containing 0’s and 1’s, where 0 means empty and 1 means not empty, and an integer n, return if n new flowers can be planted in the flowerbed without violating the no-adjacent-flowers rule.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: flowerbed = [1,0,0,0,1], n = 1</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: flowerbed = [1,0,0,0,1], n = 2</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= flowerbed.length &lt;= 2 * 10^4</span><br><span class="line">flowerbed[i] is 0 or 1.</span><br><span class="line">There are no two adjacent flowers in flowerbed.</span><br><span class="line">0 &lt;= n &lt;= flowerbed.length</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>遍历 flower bed 只要遇到可以放入的位置，放入即可</p><p><strong>补充：</strong></p><ol><li>注意处理第一个和最后一个位置</li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canPlaceFlowers</span><span class="params">(<span class="keyword">int</span>[] flowerbed, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// flower bed 为空或长度不可能放下 n 个植物</span></span><br><span class="line">        <span class="keyword">if</span>(flowerbed == <span class="keyword">null</span> || flowerbed.length == <span class="number">0</span> || flowerbed.length &lt; n / <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 可放入的植物数量</span></span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 遍历 flower bed</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;flowerbed.length; ++i) &#123;</span><br><span class="line">            <span class="comment">// 若当前位置为空</span></span><br><span class="line">            <span class="keyword">if</span>(flowerbed[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// 前一个位置</span></span><br><span class="line">                <span class="keyword">int</span> pre = (i == <span class="number">0</span> ? <span class="number">0</span> : flowerbed[i-<span class="number">1</span>]);</span><br><span class="line">                <span class="comment">// 后一个位置</span></span><br><span class="line">                <span class="keyword">int</span> next = (i == flowerbed.length-<span class="number">1</span> ? <span class="number">0</span> : flowerbed[i+<span class="number">1</span>]);</span><br><span class="line">                <span class="comment">// 若前后均为空，放入</span></span><br><span class="line">                <span class="keyword">if</span>(pre == <span class="number">0</span> &amp;&amp; next == <span class="number">0</span>) &#123;</span><br><span class="line">                    flowerbed[i] = <span class="number">1</span>;</span><br><span class="line">                    ++cnt;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 已满足条件，提前退出</span></span><br><span class="line">                <span class="keyword">if</span>(cnt &gt;= n) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> cnt &gt;= n ? <span class="keyword">true</span> : <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Easy </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】135. Candy 解题记录</title>
      <link href="posts/86fcf368/"/>
      <url>posts/86fcf368/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>There are n children standing in a line. Each child is assigned a rating value given in the integer array ratings.</p><p>You are giving candies to these children subjected to the following requirements:</p><ul><li>Each child must have at least one candy.</li><li>Children with a higher rating get more candies than their neighbors.</li></ul><p>Return the minimum number of candies you need to have to distribute the candies to the children.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: ratings = [1,0,2]</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: You can allocate to the first, second and third child with 2, 1, 2 candies respectively.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: ratings = [1,2,2]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: You can allocate to the first, second and third child with 1, 2, 1 candies respectively.</span><br><span class="line">The third child gets 1 candy because it satisfies the above two conditions.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n == ratings.length</span><br><span class="line">1 &lt;= n &lt;= 2 * 10^4</span><br><span class="line">0 &lt;= ratings[i] &lt;= 2 * 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>只需要简单的两次遍历即可：</p><ol><li><p>把所有孩子的糖果数初始化为 1；</p></li><li><p>先从左往右遍历一遍，如果右边孩子的评分比左边的高，则右边孩子的糖果数更新为左边孩子的糖果数加 1；</p></li><li><p>再从右往左遍历一遍，如果左边孩子的评分比右边的高，且左边孩子当前的糖果数不大于右边孩子的糖果数，则左边孩子的糖果数更新为右边孩子的糖果数加 1。</p></li></ol><p>通过这两次遍历，分配的糖果就可以满足题目要求了。</p><p>这里的贪心策略即为，在每次遍历中，只考虑并更新相邻一侧的大小关系。</p><p><strong>补充：</strong></p><ol><li>贪心算法</li><li>数组默认值填充方法 <code>Arrays.fill(array, value)</code></li><li>数组求和方法 <code>IntStream.of(array).sum()</code></li><li>时间复杂度 <code>O(n)</code></li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.IntStream;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">candy</span><span class="params">(<span class="keyword">int</span>[] ratings)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化 candies 数组，表示每个人的糖果</span></span><br><span class="line">        <span class="keyword">int</span>[] candies = <span class="keyword">new</span> <span class="keyword">int</span>[ratings.length];</span><br><span class="line">        Arrays.fill(candies, <span class="number">1</span>);    <span class="comment">// 最少为 1 个糖果，初始化为 1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 从左至右遍历，保证右侧分数高的孩子糖果多 1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ratings.length-<span class="number">1</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span>(ratings[i+<span class="number">1</span>] &gt; ratings[i])</span><br><span class="line">                candies[i+<span class="number">1</span>] = candies[i] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 从右至左遍历，保证左侧分数高，且糖果数小于等于右侧的孩子糖果多 1</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=ratings.length-<span class="number">1</span>; i&gt;<span class="number">0</span>; --i) &#123;</span><br><span class="line">            <span class="keyword">if</span>(ratings[i-<span class="number">1</span>] &gt; ratings[i] &amp;&amp; candies[i-<span class="number">1</span>] &lt;= candies[i])</span><br><span class="line">                candies[i-<span class="number">1</span>] = candies[i] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// candies 数组求和</span></span><br><span class="line">        <span class="keyword">return</span> IntStream.of(candies).sum();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Hard </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】435. Non-overlapping Intervals 解题记录</title>
      <link href="posts/1ab92857/"/>
      <url>posts/1ab92857/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Given an array of intervals intervals where intervals[i] = [starti, endi], return the minimum number of intervals you need to remove to make the rest of the intervals non-overlapping.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1,2],[2,3],[3,4],[1,3]]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: [1,3] can be removed and the rest of the intervals are non-overlapping.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1,2],[1,2],[1,2]]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: You need to remove two [1,2] to make the rest of the intervals non-overlapping.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: intervals = [[1,2],[2,3]]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: You don&#x27;t need to remove any of the intervals since they&#x27;re already non-overlapping.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= intervals.length &lt;= 2 * 10^4</span><br><span class="line">intervals[i].length == 2</span><br><span class="line">-2 * 10^4 &lt;= starti &lt; endi &lt;= 2 * 10^4</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>选择的区间结尾越小，余留给其它区间的空间就越大，就越能保留更多的区间。</p><p>因此，我们采取的贪心策略为，优先保留结尾小且不相交的区间。</p><p><strong>补充：</strong></p><ol><li>贪心算法</li><li>数组自定义排序 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Arrays.sort(array, <span class="keyword">new</span> Comparator&lt;T&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(T a, T b)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 排序策略</span></span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li>时间复杂度 <code>O(nlogn)</code>（排序）</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">eraseOverlapIntervals</span><span class="params">(<span class="keyword">int</span>[][] intervals)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 按区间尾元素大小排序</span></span><br><span class="line">        Arrays.sort(intervals, <span class="keyword">new</span> Comparator&lt;<span class="keyword">int</span>[]&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span>[] a, <span class="keyword">int</span>[] b)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> a[<span class="number">1</span>] - b[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 已占用区间尾</span></span><br><span class="line">        <span class="keyword">int</span> tail_idx = Integer.MIN_VALUE;</span><br><span class="line">        <span class="comment">// 若区间被占用，则移除该区间</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;intervals.length; ++i) &#123;</span><br><span class="line">            <span class="comment">// 可放入</span></span><br><span class="line">            <span class="keyword">if</span>(intervals[i][<span class="number">0</span>] &gt;= tail_idx) &#123;</span><br><span class="line">                tail_idx = intervals[i][<span class="number">1</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ++count;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> Medium </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【LeetCode】455. Assign Cookies 解题记录</title>
      <link href="posts/19a161a/"/>
      <url>posts/19a161a/</url>
      
        <content type="html"><![CDATA[<h1 id="问题描述"><a class="markdownIt-Anchor" href="#问题描述"></a> 问题描述</h1><p>Assume you are an awesome parent and want to give your children some cookies. But, you should give each child at most one cookie.</p><p>Each child i has a greed factor g[i], which is the minimum size of a cookie that the child will be content with; and each cookie j has a size s[j]. If s[j] &gt;= g[i], we can assign the cookie j to the child i, and the child i will be content. Your goal is to maximize the number of your content children and output the maximum number.</p><h2 id="测试样例"><a class="markdownIt-Anchor" href="#测试样例"></a> 测试样例</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: g = [1,2,3], s = [1,1]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: You have 3 children and 2 cookies. The greed factors of 3 children are 1, 2, 3. </span><br><span class="line">And even though you have 2 cookies, since their size is both 1, you could only make the child whose greed factor is 1 content.</span><br><span class="line">You need to output 1.</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: g = [1,2], s = [1,2,3]</span><br><span class="line">Output: 2</span><br><span class="line">Explanation: You have 2 children and 3 cookies. The greed factors of 2 children are 1, 2. </span><br><span class="line">You have 3 cookies and their sizes are big enough to gratify all of the children, </span><br><span class="line">You need to output 2.</span><br></pre></td></tr></table></figure><h2 id="说明"><a class="markdownIt-Anchor" href="#说明"></a> 说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 &lt;= g.length &lt;= 3 * 10^4</span><br><span class="line">0 &lt;= s.length &lt;= 3 * 10^4</span><br><span class="line">1 &lt;= g[i], s[j] &lt;= 2^31 - 1</span><br></pre></td></tr></table></figure><h1 id="解题"><a class="markdownIt-Anchor" href="#解题"></a> 解题</h1><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>从最小的饥饿值的孩子开始，分配能满足它的最小饼干</p><p><strong>补充：</strong></p><ol><li>先排序</li><li>贪心算法</li><li>时间复杂度 <code>O(nlogn)</code>（排序）</li></ol><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findContentChildren</span><span class="params">(<span class="keyword">int</span>[] g, <span class="keyword">int</span>[] s)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 从小到大排序</span></span><br><span class="line">        Arrays.sort(g);</span><br><span class="line">        Arrays.sort(s);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 从最小的饥饿值的孩子开始，分配能满足它的最小饼干</span></span><br><span class="line">        <span class="keyword">int</span> g_p = <span class="number">0</span>, s_p = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(g_p &lt; g.length &amp;&amp; s_p &lt; s.length) &#123;</span><br><span class="line">            <span class="keyword">if</span>(s[s_p] &gt;= g[g_p]) ++g_p;  <span class="comment">// 第 s_p 饼干可满足第 g_p 个孩子</span></span><br><span class="line">            ++s_p;                       <span class="comment">// 下一个饼干</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 已满足的孩子数量</span></span><br><span class="line">        <span class="keyword">return</span> g_p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - LeetCode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> 算法 </tag>
            
            <tag> Easy </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lecture 2: 有监督的多任务学习和迁移学习</title>
      <link href="posts/1d726a1c/"/>
      <url>posts/1d726a1c/</url>
      
        <content type="html"><![CDATA[<h1 id="多任务学习"><a class="markdownIt-Anchor" href="#多任务学习"></a> 多任务学习</h1><h2 id="问题陈述"><a class="markdownIt-Anchor" href="#问题陈述"></a> 问题陈述</h2><h3 id="符号说明"><a class="markdownIt-Anchor" href="#符号说明"></a> 符号说明</h3><p><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-16-41-50.png" alt="深度学习示意图" /></p><ul><li><p>单任务学习<br />数据集： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">D</mi><mo>=</mo><mrow><mo fence="true">{</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><msub><mo stretchy="false">)</mo><mi>k</mi></msub><mo fence="true">}</mo></mrow></mrow><annotation encoding="application/x-tex">\mathcal{D} = \left\{(x, y)_k \right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span></p><p>目标： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mo><mi>min</mi><mo>⁡</mo></mo><mi>θ</mi></msub><mi mathvariant="script">L</mi><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><mi mathvariant="script">D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min_{\theta} \mathcal{L}(\theta, \mathcal{D})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mop">min</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathcal">L</span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="mclose">)</span></span></span></span></p><p>典型损失函数-负对数似然：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">L</mi><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><mi mathvariant="script">D</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><msub><mi mathvariant="double-struck">E</mi><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∼</mo><mi mathvariant="script">D</mi></mrow></msub><mrow><mo fence="true">[</mo><mi>log</mi><mo>⁡</mo><msub><mi>f</mi><mi>θ</mi></msub><mo stretchy="false">(</mo><mi mathvariant="bold">y</mi><mo>∣</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\mathscr{L}(\theta, \mathscr{D})=-\mathbb{E}_{(x, y) \sim \mathscr{D}}\left[\log f_{\theta}(\mathbf{y} \mid \mathbf{x})\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.19189em;">L</span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.09371em;">D</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3551999999999999em;"></span><span class="mord">−</span><span class="mord"><span class="mord"><span class="mord mathbb">E</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="mclose mtight">)</span><span class="mrel mtight">∼</span><span class="mord mtight"><span class="mord mathscr mtight" style="margin-right:0.09371em;">D</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span></span></span></span></p></li><li><p>任务<br />任务的形式化定义：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">T</mi><mi>i</mi></msub><mo>≜</mo><mrow><mo fence="true">{</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi mathvariant="bold">y</mi><mo>∣</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi mathvariant="script">L</mi><mi>i</mi></msub><mo fence="true">}</mo></mrow></mrow><annotation encoding="application/x-tex">\mathscr{T}_{i} \triangleq\left\{p_{i}(\mathbf{x}), p_{i}(\mathbf{y} \mid \mathbf{x}), \mathscr{L}_{i}\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06667em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathscr" style="margin-right:0.29087em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">≜</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathbf">x</span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathscr" style="margin-right:0.19189em;">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span>，其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">p_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 为数据生成的分布</p><p>对应数据集；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi mathvariant="script">D</mi><mi>i</mi><mtext>tr</mtext></msubsup><mo separator="true">,</mo><msubsup><mi mathvariant="script">D</mi><mi>i</mi><mtext>test</mtext></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{D}^{\text{tr}}_i, \mathcal{D}^{\text{test}}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.05222em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">tr</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">test</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>，其中将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi mathvariant="script">D</mi><mi>i</mi><mtext>tr</mtext></msubsup></mrow><annotation encoding="application/x-tex">\mathcal{D}^{\text{tr}}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.05222em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">tr</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> 计为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">D</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{D}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p></li></ul><h3 id="基本设置"><a class="markdownIt-Anchor" href="#基本设置"></a> 基本设置</h3><p><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-16-51-58.png" alt="基本设置" /></p><p>MTL 目标：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mo><mi>min</mi><mo>⁡</mo></mo><mi>θ</mi></msub><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup><mrow><msub><mi mathvariant="script">L</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><msub><mi mathvariant="script">D</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\min_\theta{\sum^T_{i=1}{\mathcal{L}_i(\theta, \mathcal{D}_i)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop">min</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></span></p><h2 id="模型目标优化"><a class="markdownIt-Anchor" href="#模型目标优化"></a> 模型，目标，优化</h2><h3 id="模型"><a class="markdownIt-Anchor" href="#模型"></a> 模型</h3><p><strong>任务的训练</strong></p><ul><li><p>两种极端情况</p><ol><li><p>使用独立的网络对每个任务单独进行训练，不共享参数<br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-08-56.png" alt="单独训练" /></p></li><li><p>将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="bold">z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{z}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的输入或激活层连接起来，<strong>共享全部参数</strong><br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-10-40.png" alt="全部共享" /></p></li></ol></li><li><p>折衷 MTL 架构</p><p>将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span> 拆分为共享参数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>θ</mi><mtext>sh</mtext></msup></mrow><annotation encoding="application/x-tex">\theta^{\text{sh}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">sh</span></span></span></span></span></span></span></span></span></span></span></span></span> 和任务特定参数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>θ</mi><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">\theta^{i}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span></span></span></span>，从而 MTL 的目标为：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><msup><mi>θ</mi><mi>sin</mi><mo>⁡</mo></msup><mo separator="true">,</mo><msup><mi>θ</mi><mn>1</mn></msup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msup><mi>θ</mi><mi>T</mi></msup></mrow></munder><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><msub><mi mathvariant="script">L</mi><mi>i</mi></msub><mrow><mo fence="true">(</mo><mrow><mo fence="true">{</mo><msup><mi>θ</mi><mrow><mi>s</mi><mi>h</mi></mrow></msup><mo separator="true">,</mo><msup><mi>θ</mi><mi>i</mi></msup><mo fence="true">}</mo></mrow><mo separator="true">,</mo><msub><mi mathvariant="script">D</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\min _{\theta^{\sin }, \theta^{1}, \ldots, \theta^{T}} \sum_{i=1}^{T} \mathscr{L}_{i}\left(\left\{\theta^{s h}, \theta^{i}\right\}, \mathscr{D}_{i}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-1.992135em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7630428571428571em;"><span style="top:-2.763042857142857em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.477042857142857em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mop mtight">sin</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7740928571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.943973em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathscr" style="margin-right:0.19189em;">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">{</span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">}</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathscr" style="margin-right:0.09371em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span></span></p><p>任务特定参数对其特定的任务进行优化；共享参数对所有任务进行优化。</p><p>选择如何训练任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="bold">z</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{z}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">z</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 等效于 选择如何/在哪里共享参数。</p></li></ul><p><strong>通用设置</strong></p><ol><li><p>基于串联<br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-28-30.png" alt="串联" /><br />简单地连接特征表示作为输入，送入一个线性层来产生输出层。</p></li><li><p>基于附加<br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-23-46.png" alt="附加" /><br />先将特征表示映射到偏置向量，再将偏置向量添加到输入。</p></li></ol><p><strong>基于串联或附加的方法实际上是等效的</strong><br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-32-19.png" alt="等效" /></p><ol start="3"><li><p>多头架构<br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-33-24.png" alt="多头" /></p></li><li><p>基于乘积<br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-34-06.png" alt="乘积" /><br />类似于附加的方法，将特征表示映射到 scaling 向量，再与输入相乘。</p><p>它在每一层都更具表现力，并且使用乘法门也非常自然，它更加一般化.</p></li><li><p>更复杂的设置<br /><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-23-17-47-36.png" alt="复杂设置" /></p></li></ol><p>这些方法目前还是具有一些缺陷：</p><ul><li>独立于问题，泛化性不足</li><li>高度依赖于经验或直觉</li></ul><h3 id="目标"><a class="markdownIt-Anchor" href="#目标"></a> 目标</h3><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi>θ</mi></munder><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mrow><msub><mi mathvariant="script">L</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><msub><mi mathvariant="script">D</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\min_\theta{\sum^T_{i=1}{\mathcal{L}_i(\theta, \mathcal{D}_i)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.047892em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7521079999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></span></span></p><p>通常对任务赋予不同权值：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi>θ</mi></munder><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mrow><msub><mi>ω</mi><mi>i</mi></msub><msub><mi mathvariant="script">L</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><msub><mi mathvariant="script">D</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex">\min_\theta{\sum^T_{i=1}{\omega_i \mathcal{L}_i(\theta, \mathcal{D}_i)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.047892em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7521079999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></span></span></p><h3 id="优化"><a class="markdownIt-Anchor" href="#优化"></a> 优化</h3><p><strong>步骤</strong></p><ol><li>对任务进行小批量采样 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="script">B</mi><mo>∼</mo><mo stretchy="false">{</mo><msub><mi mathvariant="script">T</mi><mi>i</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathcal{B} \sim \{\mathcal{T}_i\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.03041em;">B</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.25417em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></li><li>对每个任务小批量采样数据点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi mathvariant="script">D</mi><mi>i</mi><mi>b</mi></msubsup><mo>∼</mo><msub><mi mathvariant="script">D</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{D}^b_i \sim \mathcal{D}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.107772em;vertical-align:-0.258664em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li>计算小批量的损失 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi mathvariant="script">L</mi><mo>^</mo></mover><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><mi>β</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mo>∑</mo><mrow><mi mathvariant="script">T</mi><mo>∈</mo><mi>β</mi></mrow></msub><mrow><msub><mi mathvariant="script">L</mi><mi>k</mi></msub><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><msubsup><mi mathvariant="script">D</mi><mi>k</mi><mi>b</mi></msubsup><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\hat\mathcal{L}(\theta, \beta) = \sum_{\mathcal{T} \in \beta}{\mathcal{L}_k(\theta, \mathcal{D}_k^b)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.19677em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathcal">L</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">^</span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.284926em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.18639799999999984em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.25417em;">T</span></span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4168920000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831079999999999em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li><li>反向传播损失以计算梯度 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="normal">Δ</mi><mi>θ</mi></msub><mover accent="true"><mi mathvariant="script">L</mi><mo>^</mo></mover></mrow><annotation encoding="application/x-tex">\Delta_\theta{\hat\mathcal{L}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0967699999999998em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathcal">L</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">^</span></span></span></span></span></span></span></span></span></span></li><li>将梯度应用于合适的神经网络优化器（例如，Adam）</li></ol><p><strong>注意</strong></p><ul><li>该流程确保无论数据量如何，均可以对任务进行统一的采样</li><li>对于回归问题，需要确保任务标签的大小相同</li></ul><h2 id="挑战"><a class="markdownIt-Anchor" href="#挑战"></a> 挑战</h2><h3 id="负向迁移"><a class="markdownIt-Anchor" href="#负向迁移"></a> 负向迁移</h3><p>在某些情况下，独立的网络更优，如：</p><p><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-26-17-52-46.png" alt="独立优" /></p><p><strong>原因</strong></p><ul><li>优化挑战：跨任务干扰，任务学习速率不同</li><li>可表示性有限：多任务学习通常需要更大的网络</li></ul><p><strong>解决方案</strong></p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><msup><mi>θ</mi><mn>5</mn></msup><mo separator="true">,</mo><msup><mi>θ</mi><mn>1</mn></msup><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msup><mi>θ</mi><mi>T</mi></msup></mrow></munder><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><msub><mi mathvariant="script">L</mi><mi>i</mi></msub><mrow><mo fence="true">(</mo><mrow><mo fence="true">{</mo><msup><mi>θ</mi><mrow><mi>s</mi><mi>h</mi></mrow></msup><mo separator="true">,</mo><msup><mi>θ</mi><mi>i</mi></msup><mo fence="true">}</mo></mrow><mo separator="true">,</mo><msub><mi mathvariant="script">D</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow><mo>+</mo><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mrow><mo fence="true">∥</mo><msup><mi>θ</mi><mi>t</mi></msup><mo>−</mo><msup><mi>θ</mi><msup><mi>t</mi><mo mathvariant="normal">′</mo></msup></msup><mo fence="true">∥</mo></mrow></mrow><annotation encoding="application/x-tex">\min _{\theta^{5}, \theta^{1}, \ldots, \theta^{T}} \sum_{i=1}^{T} \mathscr{L}_{i}\left(\left\{\theta^{s h}, \theta^{i}\right\}, \mathscr{D}_{i}\right)+\sum_{t=1}^{T}\left\|\theta^{t}-\theta^{t^{\prime}}\right\|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-1.992135em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="minner mtight">…</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7740928571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.943973em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathscr" style="margin-right:0.19189em;">L</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">{</span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8746639999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">}</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathscr" style="margin-right:0.09371em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.167985em;"><span style="top:-1.955985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.561985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-3.167985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6500149999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.843556em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.99248em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.167985em;"><span style="top:-1.955985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.561985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-3.167985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6500149999999999em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>这里， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></msubsup><mrow><mo fence="true">∥</mo><msup><mi>θ</mi><mi>t</mi></msup><mo>−</mo><msup><mi>θ</mi><msup><mi>t</mi><mo mathvariant="normal">′</mo></msup></msup><mo fence="true">∥</mo></mrow></mrow><annotation encoding="application/x-tex">\sum_{t=1}^{T}\left\|\theta^{t}-\theta^{t^{\prime}}\right\|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.818em;vertical-align:-0.6500149999999999em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.167985em;"><span style="top:-1.955985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.561985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-3.167985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6500149999999999em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.94248em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278285714285715em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.167985em;"><span style="top:-1.955985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.561985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-3.167985em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6500149999999999em;"><span></span></span></span></span></span></span></span></span></span></span> 是软参数共享，它可以平滑地约束两个网络之间的权重，允许参数共享的程度非常灵活：</p><p><img src="/images/Lecture-2-%E6%9C%89%E7%9B%91%E7%9D%A3%E7%9A%84%E5%A4%9A%E4%BB%BB%E5%8A%A1%E5%AD%A6%E4%B9%A0%E5%92%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/2020-10-26-18-07-16.png" alt="软参数共享" /></p><ul><li>若该值限定为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，则任务之间不共享参数；</li><li>若该值限定非常大，则类似于硬参数共享；<br />然而这样会带来新的超参数，需要对其进行优化。</li></ul><h3 id="过拟合"><a class="markdownIt-Anchor" href="#过拟合"></a> 过拟合</h3><p><strong>原因</strong>：共享不足<br /><strong>解决方案</strong>：共享更多信息，形成更加强的规则形式</p><h1 id="迁移学习"><a class="markdownIt-Anchor" href="#迁移学习"></a> 迁移学习</h1><h2 id="多任务学习-vs-迁移学习"><a class="markdownIt-Anchor" href="#多任务学习-vs-迁移学习"></a> 多任务学习 VS 迁移学习</h2><table><thead><tr><th>多任务学习</th><th>迁移学习</th></tr></thead><tbody><tr><td>同时解决多个任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">T</mi><mn>1</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi mathvariant="script">T</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{T}_1, \cdots, \mathcal{T}_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.25417em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.25417em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td><td>在解决源任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">T</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{T}_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.25417em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 后，将从任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">T</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{T}_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.25417em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 所学的知识迁移，从而解决目标任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">T</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{T}_b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.25417em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><p>关键假设：迁移过程中不能访问数据 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">D</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{D}_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><br />注：任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">T</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal{T}_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.25417em;">T</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 本身可能包含多个任务</p><p>迁移学习是多任务学习的一个有效解决方案，但反之则不然。</p><h2 id="通过微调进行迁移学习"><a class="markdownIt-Anchor" href="#通过微调进行迁移学习"></a> 通过微调进行迁移学习</h2><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϕ</mi><mo>←</mo><mi>θ</mi><mo>−</mo><mi>α</mi><msub><mi mathvariant="normal">Δ</mi><mi>θ</mi></msub><mrow><mi mathvariant="script">L</mi><mo stretchy="false">(</mo><mi>θ</mi><mo separator="true">,</mo><msup><mi mathvariant="script">D</mi><mtext>tr</mtext></msup><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\phi \leftarrow \theta - \alpha \Delta_\theta{\mathcal{L}(\theta, \mathcal{D}^\text{tr})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">ϕ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.093556em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathcal">L</span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.843556em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">tr</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="script">D</mi><mtext>tr</mtext></msup></mrow><annotation encoding="application/x-tex">\mathcal{D}^\text{tr}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7935559999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7935559999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">tr</span></span></span></span></span></span></span></span></span></span></span></span> 是新任务的训练数据</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span> 是预训练参数</li></ul><p><strong>如何获取预训练参数</strong></p><ul><li>ImageNet 分类</li><li>在大型语料库（如BERT，LMs）上训练的模型</li><li>其他无监督学习技术</li><li>任何大型的多样化数据集</li></ul><p><strong>通用实践方法</strong></p><ul><li>以较小的学习速率进行微调</li><li>为靠前的层赋予较小的学习速率</li><li>冻结较靠前的层，并逐渐解冻</li><li>重新初始化最后一层</li><li>通过交叉值搜索超参数</li><li>架构选择（如，ResNets）</li></ul>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - 多任务学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多任务学习 </tag>
            
            <tag> Multi task learning </tag>
            
            <tag> 元学习 </tag>
            
            <tag> Meta learning </tag>
            
            <tag> 迁移学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Lecture 1: 课程介绍</title>
      <link href="posts/bb424e94/"/>
      <url>posts/bb424e94/</url>
      
        <content type="html"><![CDATA[<p>课程主页: <a href="http://cs330.stanford.edu/">http://cs330.stanford.edu/</a><br />视频教程: <a href="https://www.youtube.com/playlist?list=PLoROMvodv4rMC6zfYmnD7UG3LVvwaITY5">https://www.youtube.com/playlist?list=PLoROMvodv4rMC6zfYmnD7UG3LVvwaITY5</a></p><h1 id="为什么要使用-多任务学习和元学习"><a class="markdownIt-Anchor" href="#为什么要使用-多任务学习和元学习"></a> 为什么要使用 多任务学习和元学习</h1><ul><li><p>更加通用的机器学习系统；</p></li><li><p>没有大型数据库；</p></li><li><p>数据有很长的尾巴；</p><p><img src="/images/Lecture-1-%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D/2020-10-23-15-45-05.png" alt="长尾数据" /></p></li><li><p>需要快速学习新知识;</p></li></ul><h1 id="什么是任务"><a class="markdownIt-Anchor" href="#什么是任务"></a> 什么是任务</h1><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtable rowspacing="0.15999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>dataset </mtext><mi mathvariant="script">D</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>loss function </mtext><mi mathvariant="script">L</mi></mrow></mstyle></mtd></mtr></mtable><mo>⟶</mo><mtext>model </mtext><msub><mi>f</mi><mi>θ</mi></msub></mrow><annotation encoding="application/x-tex">\begin{array}{c}    \text{dataset } \mathcal{D} \\    \text{loss function } \mathcal{L}\end{array}\longrightarrow\text{model } f_{\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4000000000000004em;vertical-align:-0.9500000000000004em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">dataset </span></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord text"><span class="mord">loss function </span></span><span class="mord"><span class="mord mathcal">L</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord text"><span class="mord">model </span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><h1 id="关键假设"><a class="markdownIt-Anchor" href="#关键假设"></a> 关键假设</h1><p>坏消息：不同的任务需要共享某种结构。(如果不具备该性质，最好使用单任务学习)</p><p>好消息： 许多任务都具有共享结构</p><h1 id="非形式化定义"><a class="markdownIt-Anchor" href="#非形式化定义"></a> 非形式化定义</h1><p>多任务学习问题：相比于独立学习，能够更快/更熟练地学习所有任务。<br />元学习问题：给定之前任务的数据/经验，可以更快/更熟练地学习新任务。</p><p>利用数据来自不同任务这一事实,可以获得更好的性能。</p>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - 多任务学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多任务学习 </tag>
            
            <tag> Multi task learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018(Thung) A brief review on multi-task learning</title>
      <link href="posts/5bba0c0d/"/>
      <url>posts/5bba0c0d/</url>
      
        <content type="html"><![CDATA[<h1 id="mtl-算法公式"><a class="markdownIt-Anchor" href="#mtl-算法公式"></a> MTL 算法公式</h1><p>传统 MTL 算法的典型公式如下：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mrow><mo fence="true">[</mo><msup><mi mathvariant="bold">w</mi><mn>1</mn></msup><msup><mi mathvariant="bold">w</mi><mn>2</mn></msup><mo>…</mo><msup><mi mathvariant="bold">w</mi><mi>M</mi></msup><mo fence="true">]</mo></mrow></mrow></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>λ</mi><mi mathvariant="normal">Reg</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}=\left[\mathbf{w}^{1} \mathbf{w}^{2} \ldots \mathbf{w}^{M}\right]} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda \operatorname{Reg}(\mathbf{W})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-1.9921350000000004em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span><span class="mrel mtight">=</span><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em;"><span class="mtight">[</span></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463142857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="minner mtight">…</span><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7740928571428571em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span></span><span class="mclose mtight delimcenter" style="top:0em;"><span class="mtight">]</span></span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9828649999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mord mathrm">R</span><span class="mord mathrm">e</span><span class="mord mathrm" style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose">)</span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><msub><mi>N</mi><mi>m</mi></msub><mo>×</mo><mi>D</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{X}^{m} \in \R^{N_m \times D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个任务的输入矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><msub><mi>N</mi><mi>m</mi></msub><mo>×</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{y}^{m} \in \R^{N_m \times 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.858832em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10903em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个任务对应的输出向量</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{w}^{m} \in \R^{D \times 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.703492em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个任务的权重向量</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mi>m</mi></msub></mrow><annotation encoding="application/x-tex">N_m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个任务的样本数</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span> 表示输入矩阵的特征数</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 表示任务数。</li></ul><p>上式由两项组成，</p><ul><li>数据保真项，用于计算目标预测与地面真实目标的匹配程度；</li><li>正则化项，对权重矩阵W进行正则化以获取不同学习任务之间的关系；</li></ul><h2 id="不同的-mtl-数据保真项"><a class="markdownIt-Anchor" href="#不同的-mtl-数据保真项"></a> 不同的 MTL 数据保真项</h2><p>MTL 问题分为三种特殊情况，</p><ul><li>多输入单输出（MISO）</li><li>单输入多输出（SIMO）</li><li>多输入多输出（MIMO）</li></ul><p><img src="/images/2018-Thung-A-brief-review-on-multi-task-learning/2020-10-20-16-20-45.png" alt="MTL 对比" /></p><p>X：输入数据； Y：目标输出；</p><p>(a) 多任务学习的一般形式<br />(b) 多输入单输出（MISO），多组输入映射到同一组输出目标<br />© 单输入多输出（SIMO），一组输入被映射到多组输出目标<br />(d) 多输入多输出（MIMO），多组输入被映射到相同的多组输出目标。</p><h3 id="多输入单输出miso"><a class="markdownIt-Anchor" href="#多输入单输出miso"></a> 多输入单输出（MISO）</h3><p>有多个数据源，并且所有数据源都映射到相同的目标 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>。 此处的任务定义为一个数据源映射到该共同目标 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 的预测。</p><p>对于回归任务，数据保真度项的均方损失公式为：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">y</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mi>s</mi><mi>S</mi></munderover><msubsup><mrow><mo fence="true">∥</mo><msup><mi mathvariant="bold">X</mi><mi>s</mi></msup><msup><mi mathvariant="bold">w</mi><mi>s</mi></msup><mo>−</mo><mi mathvariant="bold">y</mi><mo fence="true">∥</mo></mrow><mi>F</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">L(\mathbf{X}, \mathbf{y}, \mathbf{W})=\sum_{s}^{S}\left\|\mathbf{X}^{s} \mathbf{w}^{s}-\mathbf{y}\right\|_{F}^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.078341em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∥</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="mclose delimcenter" style="top:0em;">∥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">X</mi><mo>=</mo><mo stretchy="false">{</mo><msup><mi mathvariant="bold">X</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">X</mi><mn>2</mn></msup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">X</mi><mi>S</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbf{X} = \{\mathbf{X}^1, \mathbf{X}^2,...,\mathbf{X}^S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 表示多源（视图或多模态）数据集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">X</mi><mi>s</mi></msup><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>N</mi><mo>×</mo><mi>D</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{X}^s \in \R^{N \times D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span> 个数据源</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">y</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>N</mi><mo>×</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{y} \in \R^{N \times 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 表示输出特征向量</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mo stretchy="false">[</mo><msup><mi mathvariant="bold">w</mi><mn>1</mn></msup><msup><mi mathvariant="bold">w</mi><mn>2</mn></msup><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msup><mi mathvariant="bold">w</mi><mi>S</mi></msup><mo stretchy="false">]</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mi>S</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{W} = [\mathbf{w}^1 \mathbf{w}^2 ··· \mathbf{w}^S] \in \R^{D \times S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span></span></span></span></span> 表示权重矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span> 表示样本数</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> 表示数据源数</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span> 表示每个数据源中的特征数。</li></ul><p>对于分类任务，数据保真度项可以采用 logistic 或 hinge 损失函数：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable rowspacing="0.15999999999999992em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>L</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">y</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mi>s</mi><mi>S</mi></msubsup><msubsup><mo>∑</mo><mi>j</mi><mi>N</mi></msubsup><mi>log</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mn>1</mn><mo>+</mo><mi>exp</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mo>−</mo><msubsup><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>j</mi><mi>s</mi></msubsup><msub><mi>y</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>L</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">y</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mo>∑</mo><mi>s</mi><mi>S</mi></msubsup><msubsup><mo>∑</mo><mi>j</mi><mi>N</mi></msubsup><mi>max</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo>−</mo><msubsup><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>j</mi><mi>s</mi></msubsup><msub><mi>y</mi><mi>j</mi></msub><mo fence="true">)</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{array}{c}L(\mathbf{X}, \mathbf{y}, \mathbf{W})=\sum_{s}^{S} \sum_{j}^{N} \log \left(1+\exp \left(-\hat{y}_{j}^{s} y_{j}\right)\right) \\L(\mathbf{X}, \mathbf{y}, \mathbf{W})=\sum_{s}^{S} \sum_{j}^{N} \max \left(0,1-\hat{y}_{j}^{s} y_{j}\right)\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.834098em;vertical-align:-1.167049em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.667049em;"><span style="top:-3.6858180000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord">−</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span><span style="top:-2.268769em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.167049em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>j</mi><mi>s</mi></msubsup><mo>=</mo><msubsup><mi mathvariant="bold">x</mi><mi>j</mi><mi>S</mi></msubsup><msup><mi mathvariant="bold">w</mi><mi>s</mi></msup></mrow><annotation encoding="application/x-tex">\hat{y}_{j}^{s} = \mathbf{x}^S_j \mathbf{w}^s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0892119999999998em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.236103em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span></span></span> 表示对第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span> 个数据源的第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span> 个样本的预测（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi mathvariant="bold">x</mi><mi>j</mi><mi>s</mi></msubsup></mrow><annotation encoding="application/x-tex">\mathbf{x}^s_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.059164em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span></span></span></span>）</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>j</mi></msub><mo>∈</mo><mo stretchy="false">{</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">y_j \in \{-1,1\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8252079999999999em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span> 表示对应的 ground truth 标签</li></ul><h3 id="单输入多输出simo"><a class="markdownIt-Anchor" href="#单输入多输出simo"></a> 单输入多输出（SIMO）</h3><p>只有一个输入（或所有任务共享相同的输入），用于预测不同类型的输出目标。 此处的任务定义为输入矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">X</mi></mrow><annotation encoding="application/x-tex">\mathbf{X}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">X</span></span></span></span></span> 映射到目标矢量的预测。</p><p>数据保真项的均方损失函数为：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">Y</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mi>c</mi><mi>C</mi></munderover><msubsup><mrow><mo fence="true">∥</mo><mi mathvariant="bold">X</mi><msup><mi mathvariant="bold">w</mi><mi>c</mi></msup><mo>−</mo><msup><mi mathvariant="bold">y</mi><mi>c</mi></msup><mo fence="true">∥</mo></mrow><mi>F</mi><mn>2</mn></msubsup><mo>=</mo><mi mathvariant="normal">∥</mi><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi><mo>−</mo><mi mathvariant="bold">Y</mi><msubsup><mi mathvariant="normal">∥</mi><mi>F</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">L(\mathbf{X}, \mathbf{Y}, \mathbf{W})=\sum_{c}^{C}\left\|\mathbf{X} \mathbf{w}^{c}-\mathbf{y}^{c}\right\|_{F}^{2} = \|\mathbf{X} \mathbf{W} - \mathbf{Y}\|_{F}^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.02875em;">Y</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.078341em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∥</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.02875em;">Y</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">X</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>N</mi><mo>×</mo><mi>D</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{X} \in \R^{N \times D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span> 表示输入特征矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">Y</mi><mo>=</mo><mo stretchy="false">{</mo><msup><mi mathvariant="bold">y</mi><mn>1</mn></msup><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msup><mi mathvariant="bold">y</mi><mi>S</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbf{Y} = \{\mathbf{y}^1...\mathbf{y}^S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.02875em;">Y</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 表示输出目标矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mo stretchy="false">[</mo><msup><mi mathvariant="bold">w</mi><mn>1</mn></msup><msup><mi mathvariant="bold">w</mi><mn>2</mn></msup><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msup><mi mathvariant="bold">w</mi><mi>C</mi></msup><mo stretchy="false">]</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{W} = [\mathbf{w}^1 \mathbf{w}^2 ··· \mathbf{w}^{C}] \in \R^{D \times C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span> 表示相应的权重矩阵</li></ul><p>logistic 和 hinge 损失函数与<a href="#%E5%A4%9A%E8%BE%93%E5%85%A5%E5%8D%95%E8%BE%93%E5%87%BAmiso">多输入单输出</a>类似，只需将数据源数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span> 替换成目标数。</p><h3 id="多输入多输出mimo"><a class="markdownIt-Anchor" href="#多输入多输出mimo"></a> 多输入多输出（MIMO）</h3><p>多个输入源可用于预测多个输出目标。 此处的任务定义为一个输入源映射到单个目标的的预测。</p><p>数据保真度项的均方损失函数为：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi mathvariant="bold">X</mi><mo separator="true">,</mo><mi mathvariant="bold">Y</mi><mo separator="true">,</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mi>s</mi><mi>S</mi></munderover><munderover><mo>∑</mo><mi>c</mi><mi>C</mi></munderover><msubsup><mrow><mo fence="true">∥</mo><msup><mi mathvariant="bold">X</mi><mi>s</mi></msup><msup><mi mathvariant="bold">w</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>c</mi></mrow></msup><mo>−</mo><msup><mi mathvariant="bold">y</mi><mi>c</mi></msup><mo fence="true">∥</mo></mrow><mi>F</mi><mn>2</mn></msubsup><mo>=</mo><munderover><mo>∑</mo><mi>s</mi><mi>S</mi></munderover><msubsup><mrow><mo fence="true">∥</mo><msup><mi mathvariant="bold">X</mi><mi>s</mi></msup><msup><mi mathvariant="bold">W</mi><mi>s</mi></msup><mo>−</mo><mi mathvariant="bold">Y</mi><mo fence="true">∥</mo></mrow><mi>F</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">L(\mathbf{X}, \mathbf{Y}, \mathbf{W})=\sum_{s}^{S}\sum_{c}^{C}\left\|\mathbf{X}^{s} \mathbf{w}^{s,c}-\mathbf{y}^{c}\right\|_{F}^{2} = \sum_{s}^{S}\left\|\mathbf{X}^{s} \mathbf{W}^{s} - \mathbf{Y}\right\|_{F}^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">L</span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">X</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.02875em;">Y</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.078341em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∥</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">c</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">∥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.078341em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∥</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.02875em;">Y</span></span><span class="mclose delimcenter" style="top:0em;">∥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.4003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29969999999999997em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">X</mi><mo>=</mo><mo stretchy="false">{</mo><msup><mi mathvariant="bold">X</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">X</mi><mn>2</mn></msup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">X</mi><mi>S</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbf{X} = \{\mathbf{X}^1,\mathbf{X}^2,...,\mathbf{X}^S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 表示多源（视图或多模态）数据集</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">Y</mi><mo>=</mo><mo stretchy="false">{</mo><msup><mi mathvariant="bold">y</mi><mn>1</mn></msup><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msup><mi mathvariant="bold">y</mi><mi>S</mi></msup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\mathbf{Y} = \{\mathbf{y}^1...\mathbf{y}^S\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.02875em;">Y</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">S</span></span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> 表示输出目标矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mo stretchy="false">[</mo><msup><mi mathvariant="bold">w</mi><mn>1</mn></msup><msup><mi mathvariant="bold">w</mi><mn>2</mn></msup><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msup><mi mathvariant="bold">w</mi><mi>C</mi></msup><mo stretchy="false">]</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{W} = [\mathbf{w}^1 \mathbf{w}^2 ··· \mathbf{w}^{C}] \in \R^{D \times C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span> 表示所有权重矩阵的集合</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">W</mi><mi>s</mi></msup><mo>=</mo><mo stretchy="false">[</mo><msup><mi mathvariant="bold">w</mi><mrow><mi>s</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup><msup><mi mathvariant="bold">w</mi><mrow><mi>s</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msup><mi mathvariant="bold">w</mi><mrow><mi>s</mi><mo separator="true">,</mo><mi>C</mi></mrow></msup><mo stretchy="false">]</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mi>C</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{W}^{s} = [\mathbf{w}^{s, 1} \mathbf{w}^{s, 2} ··· \mathbf{w}^{s,C}] \in \R^{D \times C}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.07153em;">C</span></span></span></span></span></span></span></span></span></span></span></span> 表示第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span> 个模态数据 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">X</mi><mi>s</mi></msup></mrow><annotation encoding="application/x-tex">\mathbf{X}^{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span></span></span></span></span> 的权重矩阵</li></ul><p>logistic 和 hinge 损失函数与<a href="#%E5%A4%9A%E8%BE%93%E5%85%A5%E5%8D%95%E8%BE%93%E5%87%BAmiso">多输入单输出</a>类似。</p><p>在某些应用中，多源数据可以被合并为单个输入数据，这将这个问题简化为<a href="#%E5%8D%95%E8%BE%93%E5%85%A5%E5%A4%9A%E8%BE%93%E5%87%BAsimo">SIMO</a>。</p><h2 id="不同的-mtl-权重矩阵-mathbfw-正则化"><a class="markdownIt-Anchor" href="#不同的-mtl-权重矩阵-mathbfw-正则化"></a> 不同的 MTL 权重矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 正则化</h2><h3 id="具有-lasso-约束的-mtl"><a class="markdownIt-Anchor" href="#具有-lasso-约束的-mtl"></a> 具有 lasso 约束的 MTL</h3><p>通过对 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 进行 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>1</mn></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_1 \text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 正则化，给出具有Lasso约束的的多任务学习：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi mathvariant="bold">W</mi></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>λ</mi><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">∥</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda\|\mathbf{W}\|_{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.746277em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mo stretchy="false">[</mo><msup><mi mathvariant="bold">w</mi><mn>1</mn></msup><msup><mi mathvariant="bold">w</mi><mn>2</mn></msup><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msup><mi mathvariant="bold">w</mi><mi>M</mi></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">\mathbf{W} = [\mathbf{w}^1 \mathbf{w}^2 ··· \mathbf{w}^{M}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">λ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span> 是控制稀疏性的正则化参数</li></ul><h3 id="具有组稀疏约束的-mtl"><a class="markdownIt-Anchor" href="#具有组稀疏约束的-mtl"></a> 具有组稀疏约束的 MTL</h3><ol><li><p><strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{2,1}\text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span></strong><br />为了从多个相关任务中提取任务相关性信息，需要约束所有模型共享一组相同的特征。 通过解决以下 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{2,1}\text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 正则化实现：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi mathvariant="bold">W</mi></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>λ</mi><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">∥</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda\|\mathbf{W}\|_{2, 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.746277em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">λ</span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">∥</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>D</mi></msubsup><mrow><mi mathvariant="normal">∥</mi><msub><mi mathvariant="bold">w</mi><mi>i</mi></msub><msub><mi mathvariant="normal">∥</mi><mn>2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\|\mathbf{W}\|_{2, 1} = \sum^{D}_{i=1}{\|\mathbf{w}_i\|_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2809409999999999em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.981231em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">∥</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="bold">w</mi><mi>i</mi></msub><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mn>1</mn><mo>×</mo><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{w}_i \in \R^{1 \times M}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span></span></span></span></span> 表示 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 中的第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 行</li></ul></li><li><p><strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>q</mi></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{p,q}\text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span></strong><br />可以将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{2,1}\text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 推广为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>q</mi></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{p,q}\text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 正则化来选择特征：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi mathvariant="bold">W</mi></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>λ</mi><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">∥</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda\|\mathbf{W}\|_{p, q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.746277em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">λ</span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">∥</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>q</mi></mrow></msub><mo>=</mo><msub><mrow><mo fence="true">∥</mo><mrow><mo fence="true">[</mo><mi mathvariant="normal">∥</mi><msub><mi mathvariant="bold">w</mi><mn>1</mn></msub><msub><mi mathvariant="normal">∥</mi><mi>p</mi></msub><mo>⋯</mo><mi mathvariant="normal">∥</mi><msub><mi mathvariant="bold">w</mi><mi>i</mi></msub><msub><mi mathvariant="normal">∥</mi><mi>p</mi></msub><mo>⋯</mo><mi mathvariant="normal">∥</mi><msub><mi mathvariant="bold">w</mi><mi>D</mi></msub><msub><mi mathvariant="normal">∥</mi><mi>p</mi></msub><mo fence="true">]</mo></mrow><mo fence="true">∥</mo></mrow><mi>q</mi></msub></mrow><annotation encoding="application/x-tex">\|\mathbf{W}\|_{p, q} = \left\|\left[\|\mathbf{w}_1\|_p \cdots \|\mathbf{w}_i\|_p \cdots \|\mathbf{w}_D\|_p\right]\right\|_q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.221916em;vertical-align:-0.471916em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∥</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord">∥</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∥</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∥</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mclose delimcenter" style="top:0em;">∥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.034416em;"><span style="top:-2.364192em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.471916em;"><span></span></span></span></span></span></span></span></span></span></li><li>若 $ p &gt; 1, q \ge 1$ 则为凸函数</li></ul></li><li><p><strong>有上界的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mi>p</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{p,1}\text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span></strong><br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="bold">w</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">\mathbf{w}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mi>p</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{p,1} \text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 上界：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi mathvariant="bold">W</mi></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>λ</mi><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>D</mi></munderover><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="normal">∥</mi><msub><mi mathvariant="bold">w</mi><mi>i</mi></msub><msub><mi mathvariant="normal">∥</mi><mi>p</mi></msub><mo separator="true">,</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda \sum_{i=1}^{D} \min(\|\mathbf{w}_i\|_p, \theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.746277em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.106005em;vertical-align:-1.277669em;"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord">∥</span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span> 是阈值</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mi>p</mi><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{p,1}\text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 算法使 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 中小于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span> 的行最小化，从而提高解的稀疏性。</li></ul></li><li><p>多级 lasso<br />将权重矩阵分解为几个组成部分，并对它们施加不同的正则化：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mover accent="true"><mi mathvariant="bold">w</mi><mo>~</mo></mover><mo separator="true">,</mo><mi mathvariant="bold-italic">θ</mi></mrow></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>λ</mi><mn>1</mn></msub><mi mathvariant="normal">∥</mi><mi mathvariant="bold-italic">θ</mi><msub><mi mathvariant="normal">∥</mi><mn>1</mn></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mi mathvariant="normal">∥</mi><mover accent="true"><mi mathvariant="bold">W</mi><mo>~</mo></mover><msub><mi mathvariant="normal">∥</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>s</mi><mi mathvariant="normal">.</mi><mi>t</mi><mi mathvariant="normal">.</mi><mi mathvariant="bold">W</mi><mo>=</mo><mi mathvariant="normal">diag</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi mathvariant="bold-italic">θ</mi><mo stretchy="false">)</mo><mover accent="true"><mi mathvariant="bold">W</mi><mo>~</mo></mover></mrow><annotation encoding="application/x-tex">\min _{\tilde{\mathbf{w}}, \boldsymbol{\theta}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda_{1}\|\boldsymbol{\theta}\|_{1}+\lambda_{2}\|\tilde{\mathbf{W}}\|_{1}, s . t . \mathbf{W}=\operatorname{diag}(\boldsymbol{\theta}) \tilde{\mathbf{W}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.0478920000000005em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6812999999999999em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">w</span></span></span></span><span style="top:-3.0634400000000004em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.16666em;"><span class="mtight">~</span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mtight"><span class="mord boldsymbol mtight" style="margin-right:0.03194em;">θ</span></span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8882159999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03194em;">θ</span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1729699999999998em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9229699999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span><span style="top:-3.6051100000000003em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;">~</span></span></span></span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">s</span><span class="mord">.</span><span class="mord mathdefault">t</span><span class="mord">.</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1729699999999998em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm">d</span><span class="mord mathrm">i</span><span class="mord mathrm">a</span><span class="mord mathrm" style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.03194em;">θ</span></span></span><span class="mclose">)</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9229699999999998em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span><span style="top:-3.6051100000000003em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;">~</span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>θ</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\theta \in \R^{D \times 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 是控制特征级组稀疏度的非负系数矢量</li></ul></li><li><p><strong>Structured group lasso</strong><br />pass</p></li><li><p><strong>时序组 Lasso</strong><br />在学习任务涉及时间的情况下，在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span> 上添加时间平滑度约束以确保相邻时间点的权向量一致。</p><p>带有时间平滑项的 MTL 为：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi mathvariant="bold">W</mi></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>λ</mi><mn>1</mn></msub><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msubsup><mi mathvariant="normal">∥</mi><mi>F</mi><mn>2</mn></msubsup><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>M</mi><mo>−</mo><mn>1</mn></mrow></munderover><msubsup><mrow><mo fence="true">∥</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo>−</mo><msup><mi mathvariant="bold">w</mi><mrow><mi>m</mi><mo>+</mo><mn>1</mn></mrow></msup><mo fence="true">∥</mo></mrow><mn>2</mn><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda_{1}\|\mathbf{W}\|_{F}^{2}+\lambda_{2} \sum_{m=1}^{M-1}\left\|\mathbf{w}^{m}-\mathbf{w}^{m+1}\right\|_{2}^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.746277em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.1141079999999999em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">F</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000004em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.86199em;"><span style="top:-2.2559899999999997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.86199em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000999999999993em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.86199em;"><span style="top:-2.2559899999999997em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span><span style="top:-2.86199em;"><span class="pstrut" style="height:2.606em;"></span><span class="delimsizinginner delim-size1"><span>∥</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.35000999999999993em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.068116em;"><span style="top:-2.3002900000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.3170080000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3997099999999999em;"><span></span></span></span></span></span></span></span></span></span></span></p></li></ol><h3 id="具有低秩约束的-mtl"><a class="markdownIt-Anchor" href="#具有低秩约束的-mtl"></a> 具有低秩约束的 MTL</h3><p>约束来自不同任务的预测模型以共享低维子空间，即 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 是低秩的。可以通过秩最小化问题的替代近似值来实现：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mi mathvariant="bold">W</mi></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>λ</mi><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">∥</mi><mo>∗</mo></msub></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m}, \mathbf{w}^{m}\right)+\lambda\|\mathbf{W}\|_{*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.746277em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">λ</span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∥</mi><mo>⋅</mo><msub><mi mathvariant="normal">∥</mi><mo>∗</mo></msub></mrow><annotation encoding="application/x-tex">\|\cdot\|_{*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∥</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示迹范数（核范数），即奇异值之和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">∥</mi><mi mathvariant="bold">W</mi><msub><mi mathvariant="normal">∥</mi><mo>∗</mo></msub><mo>=</mo><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>M</mi><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">)</mo></mrow></msubsup><mrow><msub><mi>σ</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi mathvariant="bold">W</mi><mo stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex">\|\mathbf{W}\|_{*} = \sum_{i=1}^{\min(M, D)}{\sigma_i(\mathbf{W})}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.32761em;vertical-align:-0.29971000000000003em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0278999999999998em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight">min</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose">)</span></span></span></span></span></li></ul><h3 id="不相关任务的-mtl"><a class="markdownIt-Anchor" href="#不相关任务的-mtl"></a> 不相关任务的 MTL</h3><p>可以利用不相关的任务组来改善某些任务的学习。</p><p>即使其他任务（例如，辅助任务）与主要任务不相关，仍然可能对主要任务有益。</p><h3 id="具有图拉普拉斯正则化的-mtl"><a class="markdownIt-Anchor" href="#具有图拉普拉斯正则化的-mtl"></a> 具有图拉普拉斯正则化的 MTL</h3><p>可以利用样本之间的关系进行图级别的正则化。</p><p>具体来说，我们可以引入图拉普拉斯正则化来保留样本之间的局部拓扑关系，即，使用权重矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span> 作变换后保留的样本局部结构信息：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mi>N</mi></munderover><msub><mi>s</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msubsup><mrow><mo fence="true">∥</mo><msub><mi mathvariant="bold">x</mi><mi>i</mi></msub><mi mathvariant="bold">W</mi><mo>−</mo><msub><mi mathvariant="bold">x</mi><mi>j</mi></msub><mi mathvariant="bold">W</mi><mo fence="true">∥</mo></mrow><mn>2</mn><mn>2</mn></msubsup><mo>=</mo><mi mathvariant="normal">tr</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">W</mi><mi mathvariant="normal">⊤</mi></msup><msup><mi mathvariant="bold">X</mi><mi mathvariant="normal">⊤</mi></msup><mi mathvariant="bold">L</mi><mi mathvariant="bold">X</mi><mi mathvariant="bold">W</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\sum_{i, j}^{N} s_{i j}\left\|\mathbf{x}_{i} \mathbf{W}-\mathbf{x}_{j} \mathbf{W}\right\|_{2}^{2}=\operatorname{tr}\left(\mathbf{W}^{\top} \mathbf{X}^{\top} \mathbf{L} \mathbf{X} \mathbf{W}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.2421130000000007em;vertical-align:-1.4137769999999998em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000006em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;">∥</span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">x</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose delimcenter" style="top:0em;">∥</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.954008em;"><span style="top:-2.364192em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.335808em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.249118em;vertical-align:-0.35001em;"></span><span class="mop"><span class="mord mathrm">t</span><span class="mord mathrm">r</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊤</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">⊤</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">L</span></span><span class="mord"><span class="mord mathbf">X</span></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">L</mi><mo>=</mo><mi mathvariant="bold">D</mi><mo>−</mo><mi mathvariant="bold">S</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>N</mi><mo>×</mo><mi>N</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{L} = \mathbf{D} - \mathbf{S} \in \R^{N \times N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">L</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbf">D</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathbf">S</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span> 表示拉普拉斯矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">S</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>s</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">]</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>N</mi><mo>×</mo><mi>N</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{S} = [s_{ij}] \in \R^{N \times N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">S</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span> 表示每对采样点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">x_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 之间的相似矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">D</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>N</mi><mo>×</mo><mi>N</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{D} \in \R^{N \times N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathbf">D</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span> 是对角矩阵，其对角线元素定义为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mrow><mi>i</mi><mi>i</mi></mrow></msub><mo>=</mo><msub><mo>∑</mo><mi>j</mi></msub><msub><mi>s</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">d_{ii} = \sum_{j}{s_{ij}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.185818em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16195399999999993em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></li></ul><h2 id="mtl-关于分解后权重矩阵-mathbfw-的不同正则化器"><a class="markdownIt-Anchor" href="#mtl-关于分解后权重矩阵-mathbfw-的不同正则化器"></a> MTL 关于分解后权重矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 的不同正则化器</h2><p>将权重矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span> 分解成两个或多个矩阵的和/和的乘积。</p><p>在 MTL 脏模型中，权重矩阵被分解为两个矩阵的总和（即 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mi mathvariant="bold">P</mi><mo>+</mo><mi mathvariant="bold">Q</mi></mrow><annotation encoding="application/x-tex">\mathbf{W} = \mathbf{P} + \mathbf{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbf">P</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbf">Q</span></span></span></span></span>），每个矩阵具有不同的约束条件，以对任务之间的关系进行建模。 在</p><p>通常，权重矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span> 可以分解为：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mi mathvariant="bold">P</mi><mo>+</mo><mrow><mi mathvariant="bold">B</mi><mi mathvariant="bold">A</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbf{W} = \mathbf{P} + \mathbf{BA}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbf">P</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="mord mathbf">A</span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">P</mi></mrow><annotation encoding="application/x-tex">\mathbf{P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">P</span></span></span></span></span> 表示原始特征空间中的系数矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">A</mi></mrow><annotation encoding="application/x-tex">\mathbf{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">A</span></span></span></span></span> 表示变换特征空间中的系数矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">B</mi></mrow><annotation encoding="application/x-tex">\mathbf{B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">B</span></span></span></span></span> 表示变换矩阵</li></ul><h3 id="mtl-with-mathbfw-mathbfp-mathbfq"><a class="markdownIt-Anchor" href="#mtl-with-mathbfw-mathbfp-mathbfq"></a> MTL with <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mi mathvariant="bold">P</mi><mo>+</mo><mi mathvariant="bold">Q</mi></mrow><annotation encoding="application/x-tex">\mathbf{W} = \mathbf{P} + \mathbf{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbf">P</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbf">Q</span></span></span></span></span></h3><ol><li><p>脏方法<br />在实际应用中，多个预测模型可能并不具有相同的结构，对于这种情况，简单的使用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mn>1</mn></msub><mi mathvariant="normal">/</mi><msub><mi>l</mi><mi>q</mi></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_1 / \mathcal{l}_q \text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 正则化处理可能是无效的。可以通过将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 分解为两个分量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">P</mi></mrow><annotation encoding="application/x-tex">\mathbf{P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">P</span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">Q</mi></mrow><annotation encoding="application/x-tex">\mathbf{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbf">Q</span></span></span></span></span> 来解决脏多任务的最小二乘问题：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi mathvariant="bold">P</mi><mo separator="true">,</mo><mi mathvariant="bold">Q</mi></mrow></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">p</mi><mi>m</mi></msup><mo>+</mo><msup><mi mathvariant="bold">q</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>λ</mi><mn>1</mn></msub><mi mathvariant="normal">∥</mi><mi mathvariant="bold">P</mi><msub><mi mathvariant="normal">∥</mi><mrow><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">∞</mi></mrow></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mi mathvariant="normal">∥</mi><mi mathvariant="bold">Q</mi><msub><mi mathvariant="normal">∥</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\min _{\mathbf{P}, \mathbf{Q}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m},\left(\mathbf{p}^{m}+\mathbf{q}^{m}\right)\right)+\lambda_{1}\|\mathbf{P}\|_{1, \infty}+\lambda_{2}\|\mathbf{Q}\|_{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">P</span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathbf mtight">Q</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.882385em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">q</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">P</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">Q</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">P</mi><mo>=</mo><mo stretchy="false">[</mo><msup><mi mathvariant="bold">p</mi><mn>1</mn></msup><mo>⋯</mo><msup><mi mathvariant="bold">p</mi><mi>M</mi></msup><mo stretchy="false">]</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{P} = [\mathbf{p}^1 \cdots \mathbf{p}^{M}] \in \R^{D \times M}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">P</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span></span></span></span></span> 是组稀疏分量</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">Q</mi><mo>=</mo><mo stretchy="false">[</mo><msup><mi mathvariant="bold">q</mi><mn>1</mn></msup><mo>⋯</mo><msup><mi mathvariant="bold">q</mi><mi>M</mi></msup><mo stretchy="false">]</mo><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mi>M</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{Q} = [\mathbf{q}^1 \cdots \mathbf{q}^M] \in \R^{D \times M}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbf">Q</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord"><span class="mord mathbf">q</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">q</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span></span></span></span></span> 是元素级稀疏分量</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\lambda_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 控制 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">P</mi></mrow><annotation encoding="application/x-tex">\mathbf P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord mathbf">P</span></span></span></span> 上的组稀疏性正则化</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\lambda_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 控制 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">Q</mi></mrow><annotation encoding="application/x-tex">\mathbf Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord mathbf">Q</span></span></span></span> 上的稀疏性正则化</li></ul><p>通俗的说，通过组稀疏分量鼓励所有任务选择同一组特征，而每个单独的任务仍可以选择与其他任务不共有的特征</p></li><li><p>鲁棒的多任务特征学习<br />不仅为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 添加行稀疏性，以选择跨任务的通用特征，还添加列稀疏性以识别与其他任务不具有相同结构的异常任务。</p><p>通过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mi mathvariant="bold">P</mi><mo>+</mo><mi mathvariant="bold">Q</mi></mrow><annotation encoding="application/x-tex">\mathbf{W} = \mathbf{P} + \mathbf{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbf">P</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbf">Q</span></span></span></span></span> 并分别对 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">P</mi></mrow><annotation encoding="application/x-tex">\mathbf{P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">P</span></span></span></span></span> 和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">Q</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">\mathbf{Q}^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.035771em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">Q</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span> 使用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{2,1} \text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span> 可以实现：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi mathvariant="bold">P</mi><mo separator="true">,</mo><mi mathvariant="bold">Q</mi></mrow></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">p</mi><mi>m</mi></msup><mo>+</mo><msup><mi mathvariant="bold">q</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>λ</mi><mn>1</mn></msub><mi mathvariant="normal">∥</mi><mi mathvariant="bold">P</mi><msub><mi mathvariant="normal">∥</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>λ</mi><mn>2</mn></msub><mi mathvariant="normal">∥</mi><mi mathvariant="bold">Q</mi><msub><mi mathvariant="normal">∥</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\min _{\mathbf{P}, \mathbf{Q}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m},\left(\mathbf{p}^{m}+\mathbf{q}^{m}\right)\right)+\lambda_{1}\|\mathbf{P}\|_{2, 1}+\lambda_{2}\|\mathbf{Q}\|_{2, 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">P</span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathbf mtight">Q</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.882385em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">p</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">q</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">P</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">Q</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p></li><li><p>稀疏模型与低秩模型的混合<br />假设所有模型共享公共的低维子空间过于严格。为了能够同时学习不连贯的稀疏和低秩模式，将任务模型 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi></mrow><annotation encoding="application/x-tex">\mathbf{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span></span></span></span> 分解为两个分量，即稀疏分量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">P</mi></mrow><annotation encoding="application/x-tex">\mathbf{P}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">P</span></span></span></span></span> 和低秩分量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">Q</mi></mrow><annotation encoding="application/x-tex">\mathbf{Q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathbf">Q</span></span></span></span></span>：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi mathvariant="bold">W</mi><mo separator="true">,</mo><mi mathvariant="bold">P</mi><mo separator="true">,</mo><mi mathvariant="bold">Q</mi></mrow></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">w</mi><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>λ</mi><mn>1</mn></msub><mi mathvariant="normal">∥</mi><mi mathvariant="bold">P</mi><msub><mi mathvariant="normal">∥</mi><mn>1</mn></msub><mo separator="true">,</mo><mtext> s.t. </mtext><mi mathvariant="bold">W</mi><mo>=</mo><mi mathvariant="bold">P</mi><mo>+</mo><mi mathvariant="bold">Q</mi><mo separator="true">,</mo><mi mathvariant="normal">∥</mi><mi mathvariant="bold">Q</mi><msub><mi mathvariant="normal">∥</mi><mo>∗</mo></msub><mo>≤</mo><msub><mi>λ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\min _{\mathbf{W}, \mathbf{P}, \mathbf{Q}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m},\mathbf{w}^{m}\right)+\lambda_{1}\|\mathbf{P}\|_{1},\space \text{s.t.} \space \mathbf{W} = \mathbf{P} + \mathbf{Q}, \|\mathbf{Q}\|_* \le \lambda_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight" style="margin-right:0.01597em;">W</span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathbf mtight">P</span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathbf mtight">Q</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.882385em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">w</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">P</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace"> </span><span class="mord text"><span class="mord">s.t.</span></span><span class="mspace"> </span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbf">P</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathbf">Q</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">Q</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.175696em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\lambda_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 控制 稀疏分量 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">P</mi></mrow><annotation encoding="application/x-tex">\mathbf P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord mathbf">P</span></span></span></span> 的稀疏性</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>λ</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\lambda_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 控制 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">Q</mi></mrow><annotation encoding="application/x-tex">\mathbf Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8805499999999999em;vertical-align:-0.19444em;"></span><span class="mord mathbf">Q</span></span></span></span> 的秩</li></ul></li></ol><h3 id="mtl-with-mathbfw-mathbfba"><a class="markdownIt-Anchor" href="#mtl-with-mathbfw-mathbfba"></a> MTL with <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mrow><mi mathvariant="bold">B</mi><mi mathvariant="bold">A</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbf{W} = \mathbf{BA}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="mord mathbf">A</span></span></span></span></span></h3><ol><li>多任务特征转换</li></ol><p>先将原始特征转换到另一个特征空间，可以增强不同任务之间的关联，并学习不同任务之间的共享表示。一个具有特征变换的 MTL 公式化示例如下：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><munder><mo><mi>min</mi><mo>⁡</mo></mo><mrow><mi mathvariant="bold">A</mi><mo separator="true">,</mo><mi mathvariant="bold">B</mi></mrow></munder><munderover><mo>∑</mo><mrow><mi>m</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mi>L</mi><mrow><mo fence="true">(</mo><msup><mi mathvariant="bold">X</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">y</mi><mi>m</mi></msup><mo separator="true">,</mo><msup><mrow><mi mathvariant="bold">B</mi><mi mathvariant="bold">a</mi></mrow><mi>m</mi></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>λ</mi><mi mathvariant="normal">∥</mi><mi mathvariant="bold">A</mi><msub><mi mathvariant="normal">∥</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mtext> s.t. </mtext><msup><mi mathvariant="bold">B</mi><mi>T</mi></msup><mi mathvariant="bold">B</mi><mo>=</mo><mi mathvariant="bold">I</mi></mrow><annotation encoding="application/x-tex">\min _{\mathbf{A}, \mathbf{B}} \sum_{m=1}^{M} L\left(\mathbf{X}^{m}, \mathbf{y}^{m},\mathbf{Ba}^{m}\right)+\lambda\|\mathbf{A}\|_{2, 1},\space \text{s.t.} \space \mathbf{B}^T \mathbf{B} = \mathbf{I}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.66786em;"><span style="top:-2.053723em;margin-left:0em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbf mtight">A</span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathbf mtight">B</span></span></span></span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.882385em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">L</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord"><span class="mord mathbf">X</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">y</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">B</span><span class="mord mathbf">a</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740402em;"><span style="top:-3.1390100000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.177439em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">λ</span><span class="mord">∥</span><span class="mord"><span class="mord mathbf">A</span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace"> </span><span class="mord text"><span class="mord">s.t.</span></span><span class="mspace"> </span><span class="mord"><span class="mord"><span class="mord mathbf">B</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathbf">B</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">I</span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mrow><mi mathvariant="bold">B</mi><mi mathvariant="bold">A</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbf{W} = \mathbf{BA}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="mord mathbf">A</span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">B</mi><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mi>D</mi></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{B} \in \R^{D \times D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathbf">B</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span> 是正交变换矩阵</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi mathvariant="bold">a</mi><mi>m</mi></msup><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{a}^m \in \R^{D \times 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.703492em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">a</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 是特征变换后第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个任务的模型参数</li><li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">A</mi><mo>=</mo><mrow><mo fence="true">[</mo><msup><mi mathvariant="bold">a</mi><mn>1</mn></msup><mo>⋯</mo><msup><mi mathvariant="bold">a</mi><mi>M</mi></msup><mo fence="true">]</mo></mrow><mo>∈</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>D</mi><mo>×</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\mathbf{A} = \left[\mathbf{a}^1 \cdots \mathbf{a}^M\right] \in \R^{D \times 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">A</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.20001em;vertical-align:-0.35001em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord"><span class="mord mathbf">a</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">a</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathbb">R</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 是对所有任务作行稀疏约束（通过 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>l</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>1</mn></mrow></msub><mtext>-norm</mtext></mrow><annotation encoding="application/x-tex">\mathcal{l}_{2, 1} \text{-norm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.01968em;">l</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord">-norm</span></span></span></span></span>）得到的预测矩阵</li></ul><p>pass</p><ol start="2"><li>多任务稀疏编码</li></ol><p>pass</p><ol start="3"><li>多任务低秩结构</li></ol><p>pass</p><ol start="4"><li>非关联任务的共享表示</li></ol><p>pass</p><h3 id="mtl-with-mathbfw-mathbfp-mathbfba"><a class="markdownIt-Anchor" href="#mtl-with-mathbfw-mathbfp-mathbfba"></a> MTL with <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">W</mi><mo>=</mo><mi mathvariant="bold">P</mi><mo>+</mo><mrow><mi mathvariant="bold">B</mi><mi mathvariant="bold">A</mi></mrow></mrow><annotation encoding="application/x-tex">\mathbf{W} = \mathbf{P} + \mathbf{BA}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf" style="margin-right:0.01597em;">W</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathbf">P</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord mathbf">B</span><span class="mord mathbf">A</span></span></span></span></span></h3><p>pass</p><h1 id="不完全数据的-mtl"><a class="markdownIt-Anchor" href="#不完全数据的-mtl"></a> 不完全数据的 MTL</h1><p>pass</p><h1 id="深度学习-mtl"><a class="markdownIt-Anchor" href="#深度学习-mtl"></a> 深度学习 MTL</h1><p><img src="/images/2018-Thung-A-brief-review-on-multi-task-learning/2020-10-20-21-36-54.png" alt="典型多任务" /></p><p>多任务深度学习通常有两种类型的隐藏层，</p><ul><li><strong>共享层</strong> 学习数据的固有低秩表示，所有任务通用</li><li><strong>任务特定层</strong> 将已学习的潜在表示从先前共享层映射到任务特定的输出层</li></ul><p>Fang et al. 提出的动态的多任务卷积神经网络（DMT CNN），每个任务都拥有一个子网，并且子网（或任务）之间共享的信息程度是灵活的。</p><p>Ranjan et al. 提出的深度多任务学习框架，可以同时进行面部检测，界标定位，姿势估计和性别识别。</p><p>Fan et al. 提出的用于大规模视觉识别的深度多任务学习算法，可以识别上万个对象类别。</p><p>Wachinger et al. 设计了一种基于3D CNN的分割算法，通过共同学习抽象特征表示和多类分类，从T1加权磁共振图像中分割出神经解剖结构。</p><p>Moeskops et al. 提出了一种基于CNN的深度学习算法，用于不同的分割任务，包括脑MRI，乳腺MRI和心脏CT血管造影（CTA）。</p><p>还有一种特殊类型的不使用共享层的深度神经网络，即网络参数不直接在任务之间共享，而是通过对不同任务的网络参数进行正则化，来共享任务之间的信息。</p>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - 多任务学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多任务学习 </tag>
            
            <tag> Multi task learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2017(YuZhang) An Overview of Multi-task Learning</title>
      <link href="posts/a478f58d/"/>
      <url>posts/a478f58d/</url>
      
        <content type="html"><![CDATA[<p>多任务学习（MTL）旨在通过利用相关联任务中的有效信息来提高多个任务的性能。</p><p>多任务学习（MTL）可以利用来自相关任务的有用信息来帮助解决某一任务的数据稀疏性问题。</p><p>MTL分为几种设置，包括：</p><ul><li>多任务监督学习</li><li>多任务无监督学习</li><li>多任务半监督学习</li><li>多任务主动学习</li><li>多任务强化学习</li><li>多任务在线学习</li></ul><p>MTL可以看作是<strong>多标签学习</strong>和<strong>多输出回归</strong>的泛化。</p><h1 id="主要内容"><a class="markdownIt-Anchor" href="#主要内容"></a> 主要内容</h1><ol><li>MTL 的不同设置</li><li>并行和分布式 MTL 模型</li><li>MTL 理论分析</li></ol><h1 id="mtl-定义"><a class="markdownIt-Anchor" href="#mtl-定义"></a> MTL 定义</h1><p><strong>Definition 1.</strong> (Multi-task learning) Given <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> learning tasks <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>T</mi><mi>i</mi></msub><msubsup><mo stretchy="false">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">\{T_i\}^m_{i=1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span> where all the tasks or a subset of them are related but not identical, multi-task learning aims to help improve the learning of a model for <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">T_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> by using the knowledge contained in the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> tasks.</p><p><strong>定义1.</strong> 给定 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个学习任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>T</mi><mi>i</mi></msub><msubsup><mo stretchy="false">}</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">\{T_i\}^m_{i=1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>，其中所有任务或子任务集合都不相同但相关，多任务学习旨在通过利用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个任务中所包含的知识，帮助改进 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">T_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 模型的学习。</p><p>MTL 的两个基本元素：任务相关性，任务的定义。</p><h1 id="多任务监督模型mtsl"><a class="markdownIt-Anchor" href="#多任务监督模型mtsl"></a> 多任务监督模型（MTSL）</h1><p>多任务监督学习（MTSL）是指 MTL 中的每个任务都是监督学习任务。</p><p>MTSL 的目标是从训练集中为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个任务学习 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span> 个函数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">{</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>x</mi><msubsup><mo stretchy="false">)</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup></mrow><annotation encoding="application/x-tex">\{f_i(x)^m_{i=1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.008664em;vertical-align:-0.258664em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.258664em;"><span></span></span></span></span></span></span></span></span></span>，使得 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>j</mi><mi>i</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_i(x^i_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.219436em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.441336em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 是所有与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span> 有关的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>y</mi><mi>j</mi><mi>i</mi></msubsup></mrow><annotation encoding="application/x-tex">y^i_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.219436em;vertical-align:-0.394772em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-2.441336em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.394772em;"><span></span></span></span></span></span></span></span></span></span> 的良好近似。在这之后，MTSL 使用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mo separator="true">⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_i(·)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mclose">)</span></span></span></span> 来预测第 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 个任务对于其不可见的数据实例的标签。</p><p>MTSL 模型在三个方面反映了任务的相关性：特征，参数和实例。</p><ul><li>基于特征的 MTSL 模型假设不同的任务共享相同或相似的特征；</li><li>基于参数的 MTSL 模型旨在通过正则化或先验模型参数，将任务相关性编码到模型中。</li><li>基于实例的 MTSL 模型使用所有任务的数据实例，通过权重为每个任务构造一个学习器。</li></ul><h2 id="基于特征的-mtsl"><a class="markdownIt-Anchor" href="#基于特征的-mtsl"></a> 基于特征的 MTSL</h2><p>假定不同的任务共享一个特征表示，分为三种方法：</p><ol><li><strong>特征转换方法</strong>：共享特征为原始特征的线性或非线性转换；</li><li><strong>特征选择方法</strong>：共享特征为原始特征的子集；</li><li><strong>深度学习方法</strong>：应用深度神经网络来学习共享特征表示，该共享特征在隐藏层中编码；</li></ol><h3 id="深度学习方法"><a class="markdownIt-Anchor" href="#深度学习方法"></a> 深度学习方法</h3><p>大多数深度学习模型将某个隐藏层的输出视为共享特征。 与这些深度模型不同， cross-stitch networ 将两个任务的隐藏特征相结合，构建更强大的隐藏特征表示。</p><h2 id="基于参数的-mtsl"><a class="markdownIt-Anchor" href="#基于参数的-mtsl"></a> 基于参数的 MTSL</h2><p>使用模型参数来关联不同任务的学习。分为五种方法：</p><ol><li><strong>低阶方法</strong>：由于任务是相关的，因此参数矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span> 可能是低秩的；</li><li><strong>任务聚类方法</strong>：将任务划分为几个集群，集群中的所有任务共享相同或相似的模型参数；</li><li><strong>任务关系学习方法</strong>：直接从数据中学习成对的任务关系；</li><li><strong>脏方法</strong>：假定参数矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span></span></span></span> 可以被分解为两个分量矩阵 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi><mo>=</mo><mi>U</mi><mo>+</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">W = U + V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span></span></span></span> 主要识别任务相关性，而 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span></span> 可以通过稀疏性捕获噪声或离群值。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span></span> 的组合可以使模型更加健壮；</li><li><strong>多层次方法</strong>：脏方法的泛化，将参数矩阵分解为两个以上的组成矩阵，以对所有任务之间的复杂关系进行建模。</li></ol><h2 id="讨论"><a class="markdownIt-Anchor" href="#讨论"></a> 讨论</h2><ul><li><p>基于特征的 MTSL 可以学习通用特征表示，它更适合原始特征的信息性和区分性不强的场景，例如计算机视觉，自然语言处理和语音识别领域。<br />但是，基于特征的 MTSL 很容易受到无关任务的影响</p></li><li><p>基于参数的 MTSL 可以学习更准确的模型参数，它对异常任务的鲁棒性更高。</p></li><li><p>基于特征的 MTSL 是对基于参数的 MTSL 的补充。</p></li><li><p>基于实例的MTSL与其他两个类别平行。</p></li></ul><h1 id="多任务无监督学习"><a class="markdownIt-Anchor" href="#多任务无监督学习"></a> 多任务无监督学习</h1><p>多任务聚类旨在利用包含在不同数据集中的信息对多个数据集进行聚类。</p><p>pass</p><h1 id="多任务半监督学习"><a class="markdownIt-Anchor" href="#多任务半监督学习"></a> 多任务半监督学习</h1><p>使用未标记的数据来提高监督学习的性能，而不同的监督任务可以共享的信息以互相帮助。</p><p>多任务半监督学习可分为两类：多任务半监督分类和多任务半监督回归。</p><h1 id="多任务主动学习"><a class="markdownIt-Anchor" href="#多任务主动学习"></a> 多任务主动学习</h1><p>每个任务选择信息丰富的无标签数据去预测并主动获取其标签。</p><h1 id="多任务强化学习"><a class="markdownIt-Anchor" href="#多任务强化学习"></a> 多任务强化学习</h1><p>当环境相似时，不同的强化学习任务可以使用类似的策略来做出决策。</p><h1 id="多任务在线学习"><a class="markdownIt-Anchor" href="#多任务在线学习"></a> 多任务在线学习</h1><p>当多个任务中的训练数据以顺序的方式出现时，传统的 MTL 模型无法处理它们，但是多任务在线学习可以。</p><h1 id="多任务多视图学习"><a class="markdownIt-Anchor" href="#多任务多视图学习"></a> 多任务多视图学习</h1><p>利用相关信息来学习多个多视图学习问题，以提高每个多视图学习问题的性能。</p><h1 id="并行和分布式-mtl"><a class="markdownIt-Anchor" href="#并行和分布式-mtl"></a> 并行和分布式 MTL</h1><p>pass</p><h1 id="应用场景"><a class="markdownIt-Anchor" href="#应用场景"></a> 应用场景</h1><h2 id="计算机视觉"><a class="markdownIt-Anchor" href="#计算机视觉"></a> 计算机视觉</h2><ul><li><p>基于图像的 MTL</p><ul><li>面部图像：面部验证，个性化年龄估计，多提示面部识别，头姿势估计，面部标志检测，面部图像旋转；</li><li>非面部图像：图像分割，识别脑成像预测因子，显着性检测，动作识别，场景分类[94]，多属性预测，多摄像机人员重新识别，实时预测；</li></ul></li><li><p>基于视频的 MTL</p><ul><li>视觉跟踪</li><li>缩略图选择</li></ul></li></ul><h2 id="生物信息学与健康信息学"><a class="markdownIt-Anchor" href="#生物信息学与健康信息学"></a> 生物信息学与健康信息学</h2><h2 id="语音和自然语言处理"><a class="markdownIt-Anchor" href="#语音和自然语言处理"></a> 语音和自然语言处理</h2><h2 id="网络"><a class="markdownIt-Anchor" href="#网络"></a> 网络</h2><h1 id="理论分析"><a class="markdownIt-Anchor" href="#理论分析"></a> 理论分析</h1>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - 多任务学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多任务学习 </tag>
            
            <tag> Multi task learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker 安装指南(Win10)</title>
      <link href="posts/f2fd094e/"/>
      <url>posts/f2fd094e/</url>
      
        <content type="html"><![CDATA[<h1 id="安装-docker"><a class="markdownIt-Anchor" href="#安装-docker"></a> 安装 Docker</h1><h2 id="windows-10"><a class="markdownIt-Anchor" href="#windows-10"></a> Windows 10</h2><h3 id="开启-hyper-v"><a class="markdownIt-Anchor" href="#开启-hyper-v"></a> 开启 Hyper-V</h3><p>打开 <code>控制面板\程序\程序和功能</code>，选择 <code>启用或关闭 Windows 功能</code>:</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-30-23-43-41.png" alt="启用或关闭 Windows 功能" /></p><p>选中 <code>Hyper-V</code>：</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-30-23-45-32.png" alt="Hyper-V" /></p><h3 id="下载并安装-docker"><a class="markdownIt-Anchor" href="#下载并安装-docker"></a> 下载并安装 Docker</h3><p>在<a href="https://www.docker.com/get-started">官方网站</a>下载并安装 Docker。</p><p>打开 <code>Docker Desktop</code> 若出现 <code>Not enough memory</code> 提示：</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-00-24-19.png" alt="Not enough memory" /></p><p>右键托盘图标，选择 <code>Setting</code>：</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-00-25-48.png" alt="Setting" /></p><p>将 <code>Resources</code> 中的 <code>Memory</code> 调整为 <code>1G</code>：</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-00-26-39.png" alt="Memory adjust" /></p><p>重启 <code>Docker Desktop</code>，若依旧内存不足，可以下载 <a href="https://docs.microsoft.com/zh-cn/sysinternals/downloads/rammap">RAMmap</a></p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-00-40-45.png" alt="" /></p><p>选择菜单栏的 <code>Empty -&gt; Empty Working Sets</code>，然后重新启动 <code>Docker Desktop</code> 即可。</p><h2 id="ubuntu"><a class="markdownIt-Anchor" href="#ubuntu"></a> Ubuntu</h2><p>更新ubuntu的apt源索引</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>安装包允许apt通过HTTPS使用仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install apt-transport-https ca-certificates curl software-properties-common</span><br></pre></td></tr></table></figure><p>添加Docker官方GPG key</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure><p>设置Docker稳定版仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu <span class="subst">$(lsb_release -cs)</span> stable&quot;</span></span><br></pre></td></tr></table></figure><p>添加仓库后，更新apt源索引</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><p>安装最新版Docker CE（社区版）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install docker-ce</span><br></pre></td></tr></table></figure><h1 id="更换镜像源地址"><a class="markdownIt-Anchor" href="#更换镜像源地址"></a> 更换镜像源地址</h1><p>Docker 官方中国区：<a href="https://registry.docker-cn.com">https://registry.docker-cn.com</a><br />网易：<a href="http://hub-mirror.c.163.com">http://hub-mirror.c.163.com</a><br />中国科技大学：<a href="https://docker.mirrors.ustc.edu.cn">https://docker.mirrors.ustc.edu.cn</a><br />阿里云：<a href="https://y0qd3iq.mirror.aliyuncs.com">https://y0qd3iq.mirror.aliyuncs.com</a></p><h2 id="windows-10-2"><a class="markdownIt-Anchor" href="#windows-10-2"></a> Windows 10</h2><p>在 Dash board 中添加镜像源</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-10-18-51.png" alt="更换镜像源" /></p><h2 id="ubuntu-2"><a class="markdownIt-Anchor" href="#ubuntu-2"></a> Ubuntu</h2><p>创建 Docker 的镜像源配置文件 <code>/etc/docker/daemon.json</code>，如果没有配置过镜像该文件默认是不存的，在其中增加镜像源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://y0qd3iq.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>创建完成后重启 Docker 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service docker restart</span><br></pre></td></tr></table></figure><p>查看配置是否生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info|grep Mirrors -A 1</span><br></pre></td></tr></table></figure><p>出现以下输出则表示配置已经生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Registry Mirrors:</span><br><span class="line">  https://y0qd3iq.mirror.aliyuncs.com/</span><br></pre></td></tr></table></figure><h1 id="载入-getting-start-镜像"><a class="markdownIt-Anchor" href="#载入-getting-start-镜像"></a> 载入 Getting Start 镜像</h1><p>执行命令 <code>docker run -d -p 80:80 docker/getting-started</code>：</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-10-22-42.png" alt="docker/getting-started" /></p><p>随后打开网页 <code>http://localhost</code>:</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-10-26-36.png" alt="网页" /></p><p>Windows 10 系统中，在 Docker Dashboard 中可以管理 Docker 镜像：</p><p><img src="/images/Docker-%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97-Win10/2020-07-31-10-28-53.png" alt="dashboard" /></p><h1 id="docker-常用命令"><a class="markdownIt-Anchor" href="#docker-常用命令"></a> Docker 常用命令</h1><h2 id="docker-容器信息"><a class="markdownIt-Anchor" href="#docker-容器信息"></a> Docker 容器信息</h2><ol><li><p>查看 docker 容器版本</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker version</span><br></pre></td></tr></table></figure></li><li><p>查看 docker 容器信息</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure></li><li><p>查看 docker 容器帮助</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --<span class="built_in">help</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="镜像操作"><a class="markdownIt-Anchor" href="#镜像操作"></a> 镜像操作</h2><p><strong>提示：对于镜像的操作可使用镜像名、镜像长ID和短ID。</strong></p><ol><li><p>镜像查看</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出本地 images</span></span><br><span class="line">docker images</span><br></pre></td></tr></table></figure></li><li><p>镜像搜索</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索仓库镜像</span></span><br><span class="line">docker search &lt;image_name&gt;</span><br></pre></td></tr></table></figure><p>参数：<br /><code>--no-trunc</code>: 显示镜像完整描述</p></li><li><p>镜像下载</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载官方最新镜像，等同于 docker pull &lt;image_name&gt;:latest</span></span><br><span class="line">docker pull &lt;image_name&gt;</span><br></pre></td></tr></table></figure></li><li><p>镜像删除</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单个镜像删除，等同于 docker rmi &lt;image_name&gt;:latest</span></span><br><span class="line">docker rmi &lt;image_name&gt;</span><br></pre></td></tr></table></figure><p>参数：<br /><code>-f</code>: 强制删除（针对基于镜像有运行的容器进程）</p><p>示例：</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除本地全部镜像</span></span><br><span class="line">docker rmi -f $(docker images -q)</span><br></pre></td></tr></table></figure></li><li><p>镜像构建</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1) 编写 dockerfile</span></span><br><span class="line"><span class="built_in">cd</span> /docker/dockerfile</span><br><span class="line"><span class="comment"># 2) 构建 docker 镜像</span></span><br><span class="line">docker build -f /docker/dockerfile/myubuntu -t myubuntu:1.1</span><br></pre></td></tr></table></figure></li></ol><h2 id="容器操作"><a class="markdownIt-Anchor" href="#容器操作"></a> 容器操作</h2><p><strong>提示：对于容器的操作可使用 CONTAINER ID 或 NAMES</strong></p><ol><li><p>容器启动</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建并启动容器</span></span><br><span class="line">docker run -i -t --name &lt;dock_name&gt;</span><br><span class="line"><span class="comment"># 后台启动容器</span></span><br><span class="line">docker run -d &lt;dock_name&gt;</span><br></pre></td></tr></table></figure><p>参数：</p><pre><code> `-i`: 以交互模式运行 `-t`: 为容器重新分配一个伪输入终端 `--name`: 为容器指定一个名称 `-d`: 以守护方式启动容器</code></pre></li><li><p>容器的停止与删除</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 停止一个运行中的容器</span></span><br><span class="line">docker stop &lt;dock_name&gt;</span><br><span class="line"><span class="comment"># 杀掉一个运行中的容器</span></span><br><span class="line">docker <span class="built_in">kill</span> &lt;dock_name&gt;</span><br><span class="line"><span class="comment"># 删除一个已停止的容器</span></span><br><span class="line">docker rm &lt;dock_name&gt;</span><br><span class="line"><span class="comment"># 删除一个运行中的容器</span></span><br><span class="line">docker rm -f &lt;dock_name&gt;</span><br><span class="line"><span class="comment"># 删除多个容器</span></span><br><span class="line">docker rm -f $(docker ps -aq)</span><br><span class="line">docker ps -aq | xargs docker rm</span><br></pre></td></tr></table></figure><p>参数：<br /><code>-l</code>: 删除容器间的网络连接<br /><code>-v</code>: 删除容器，并删除容器挂载的数据卷</p></li></ol><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Docker/">环境搭建-Docker</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://blog.csdn.net/xgocn/article/details/80457833">记Windows10下安装Docker的步骤</a></p><p><a href="https://blog.csdn.net/xu1194947097/article/details/102730750">Not enough memory to start Docker解决方法</a></p><p><a href="https://www.cnblogs.com/blog-rui/p/11244023.html">在Ubuntu中安装Docker和docker的使用</a></p><p><a href="https://blog.csdn.net/fenglibing/article/details/92090925">Ubuntu Linux下修改docker镜像源</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> 换源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1997(Caruana) Multitask Learning</title>
      <link href="posts/f0596d88/"/>
      <url>posts/f0596d88/</url>
      
        <content type="html"><![CDATA[<p>多任务学习是归纳传递的一种方法，它将相关联任务的训练集中包含的域信息作为归纳偏差来提高泛化能力。通过使用共享表示进行并行学习，每个任务学习的内容都可以帮助其他任务进行更好的学习。</p><h1 id="主要内容"><a class="markdownIt-Anchor" href="#主要内容"></a> 主要内容</h1><ol><li>介绍多任务学习，归纳传递的重要性；</li><li>比较单任务学习和多任务学习的性能；</li><li>反向传播网络中 MTL 的工作方式；</li><li>针对 k-nearest neighbor 和 决策树的 MTL 算法；</li></ol><h1 id="反向传播网络中的多任务学习"><a class="markdownIt-Anchor" href="#反向传播网络中的多任务学习"></a> 反向传播网络中的多任务学习</h1><p><img src="/images/mtl-Multitask-Learning-caruana/2020-10-14-15-08-25.png" alt="多任务反向传播-4个具有相同输入的任务" /></p><p>输入相同，但是具有四个连接到共享隐藏层的输出。</p><p>在 MTL 网络中，四个输出并行进行反向传播。 因为共享一个隐藏层，所以在隐藏层中出现的内部表示形式可能会使一个任务的信息被其他任务使用。</p><p>在并行训练任务时，共享不同任务所学内容是多任务学习的中心思想。</p><h1 id="训练信号作为归纳偏置"><a class="markdownIt-Anchor" href="#训练信号作为归纳偏置"></a> 训练信号作为归纳偏置</h1><p>归纳传递的目的是利用其他信息源来提高当前任务学习的性能。归纳传递可用于提高泛化精度，学习速度和学习模型的精确度。</p><h1 id="多任务学习在反向传播中的三种应用"><a class="markdownIt-Anchor" href="#多任务学习在反向传播中的三种应用"></a> 多任务学习在反向传播中的三种应用</h1><h2 id="1d-alvinn"><a class="markdownIt-Anchor" href="#1d-alvinn"></a> 1D-ALVINN</h2><p>1D-ALVINN 用来快速测试有关道路跟踪领域的道路图像模拟器，文章生成由单个32像素水平扫描线组成的一维道路图像。这样生成的一维 ALVINN 保留了原始二维域的大部分复杂性，主要的复杂性损失是道路弯度不再可见。</p><p>1D-ALVINN 和 2D-ALVINN 的主要任务是预测转向方向。对于的MTL实验，使用了八个附加任务：</p><ul><li>道路是一车道还是两条车道</li><li>道路左边缘的位置</li><li>道路右边缘的位置</li><li>道路中心的位置</li><li>路面强度</li><li>道路边缘的强度</li><li>中心线的位置（仅2车道道路）</li><li>中心线的强度（仅2车道道路）</li></ul><p>MTL 网络具有32个输入，16个隐藏单元和9个输出，MTL网络的大小未优化。</p><p>STL 网络具有32个输入，2、4、8或16个隐藏单元，每个都有1个输出。</p><p><img src="/images/mtl-Multitask-Learning-caruana/2020-10-14-15-31-33.png" alt="stl vs mtl" /></p><p>最后两列比较 STL 和 MTL。</p><ul><li><p>倒数第二列是与最佳 STL 运行相比 MTL 的错误减少的百分比。负百分比表示MTL性能更好。</p></li><li><p>最后一列是 MTL 比平均 STL 性能提高的百分比。 标有 “*” 的在统计学上显著差异为0.05或更高。</p></li></ul><p>在最重要的转向任务上，MTL 的性能优于 STL 15–30％。STL 和 MTL 使用完全相同的训练模式，即无需使用任何额外的训练模式。唯一的区别是，MTL 训练模式具有针对所有九项任务的训练信号，而 STL 训练模式一次仅具有针对一项任务的训练信号。</p><h2 id="1d-doors"><a class="markdownIt-Anchor" href="#1d-doors"></a> 1D-DOORS</h2><p>1D-DOORS 中，主要任务是定位门把手并识别门类型（单门或双门）。</p><p>MTL 使用了十个任务：</p><ul><li>门把手的水平位置</li><li>门中央的水平位置</li><li>左侧门板的水平位置</li><li>左侧门板的宽度</li><li>门左边缘的水平位置</li><li>单门或双门</li><li>门口的宽度</li><li>右侧门板的水平位置</li><li>右侧门板宽度</li><li>门右边缘的水平位置</li></ul><p>对最重要的两个任务进行比较：门把手的位置和门的类型。STL 使用 6、24 和 96 个隐藏单元。MTL 在具有 120 个隐藏单元的网络上进行测试。</p><p><img src="/images/mtl-Multitask-Learning-caruana/2020-10-14-15-46-18.png" alt="stl vs mtl" /></p><p>与三种不同的 STL 中的最佳结果相比，MTL 在这些任务上的结果也要好 20–30％。</p><h2 id="pneumonia-prediction"><a class="markdownIt-Anchor" href="#pneumonia-prediction"></a> Pneumonia Prediction</h2><p>pass</p><h1 id="多任务学习工作机理"><a class="markdownIt-Anchor" href="#多任务学习工作机理"></a> 多任务学习工作机理</h1><p>相关联任务的训练信号中，所具有的额外信息导致了 MTL 的性能提高。</p><p>文章总结了几种有助于 MTL 反向传播网络更好地进行泛化的机制。这些机制都基于不同任务在隐藏层的误差梯度项之和。</p><p>考虑两个任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，它们共享隐藏层特征 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span>。</p><h2 id="统计数据增强"><a class="markdownIt-Anchor" href="#统计数据增强"></a> 统计数据增强</h2><p>相关联任务的训练信号中具有的额外信息，有效增加了样本量。</p><h2 id="属性选择"><a class="markdownIt-Anchor" href="#属性选择"></a> 属性选择</h2><p>属性选择是数据放大的结果。</p><p>同时学习 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 网络将更好地选择与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span> 相关的属性，因为数据放大为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span> 提供了更好的训练信号，从而使其能够更好地确定用于计算 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span> 的输入属性。</p><h2 id="窃听"><a class="markdownIt-Anchor" href="#窃听"></a> 窃听</h2><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 可以窃听为 $T $学习的隐藏层，从而更好地学习。</p><p>一旦在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span> 的演化表示之间建立了联系，来自 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 的有关 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span> 的额外信息将帮助 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 网络通过其他机制更好地学习 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span>。</p><h2 id="搜索偏向"><a class="markdownIt-Anchor" href="#搜索偏向"></a> 搜索偏向</h2><p>因为网络是用随机权重初始化的，所以反向传播是一种随机的搜索过程。 多次运行很少产生相同的网络。</p><p>假设任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 有两个局部最小值 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>；任务 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 也有两个最小值 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>。两者在A处共享最小值（即，如果网络进入权重空间区域，两者都将表现良好），但在B和C处不重叠。</p><p><img src="/images/mtl-Multitask-Learning-caruana/2020-10-14-16-18-31.png" alt="搜索表示区域" /></p><ul><li>仅在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 上训练的网络可能找到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>;</li><li>仅在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 上训练的网络可能找到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span></span></span></span>;</li><li>在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 上训练的网络则会找到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>;</li></ul><p>表明 MTL 任务的搜索偏向于仅针对 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 的交集中的表示形式。</p><h1 id="反向传播-mtl-发现任务之间的关系"><a class="markdownIt-Anchor" href="#反向传播-mtl-发现任务之间的关系"></a> 反向传播 MTL 发现任务之间的关系</h1><p>文章设计了一组“峰函数”进行测试，发现任务相关性与隐藏单元共享呈正相关。 这表明，至少对于峰函数而言，使用共享隐藏层的反向传播，能够发现任务与隐藏层特征之间的关系，而无需提供明确的有关任务相关性的训练信号。</p><h1 id="mtl-应用"><a class="markdownIt-Anchor" href="#mtl-应用"></a> MTL 应用</h1><h2 id="多表示和多指标"><a class="markdownIt-Anchor" href="#多表示和多指标"></a> 多表示和多指标</h2><p>有时，一种表示/指标不能完全体现所有的重要内容，而备用表示/指标能够体现不同的方面时，将两种表示/指标结合并使用 MTL 可以获得更好的效果。</p><p>哪种输出编码效果最好并非总是显而易见的，可以将主要任务的备用编码用作额外的输出。</p><h2 id="时间序列预测"><a class="markdownIt-Anchor" href="#时间序列预测"></a> 时间序列预测</h2><p>pass</p><h2 id="使用免操作的特征"><a class="markdownIt-Anchor" href="#使用免操作的特征"></a> 使用免操作的特征</h2><p>可以计算一些免操作的特征，用作额外的 MTL 输出。</p><h2 id="使用额外的任务调整注意力"><a class="markdownIt-Anchor" href="#使用额外的任务调整注意力"></a> 使用额外的任务调整注意力</h2><p>网络可能会使用较大、较明显的模式，而忽略较小但非常有用的模式。MTL 可以在训练时强制注意这些模式。</p><p>例如本文中的道路转向跟踪。STL 网络在学习转向时通常会忽略车道标记、道路线等，因为车道标记、道路线通常只是图像的一小部分，并不总是存在，并且经常改变。</p><p>MTL 将道路条纹识别作为一项额外的输出任务，则该网络将学会关注出现条纹的图像部分。 由于网络也使用相同的隐藏层学习转向，因此转向任务可以使用条纹表示形式中对转向有用的部分表示。</p><h2 id="sequential-transfer"><a class="markdownIt-Anchor" href="#sequential-transfer"></a> Sequential Transfer</h2><p>pass</p><h2 id="multiple-task-arise-naturally"><a class="markdownIt-Anchor" href="#multiple-task-arise-naturally"></a> Multiple Task Arise Naturally</h2><p>pass</p><h2 id="量化平滑"><a class="markdownIt-Anchor" href="#量化平滑"></a> 量化平滑</h2><p>每个任务都可以用来填补其他任务量化带来的空白。尽管一个量化任务与其相关的，量化程度较低的任务之间的潜在复杂关系可能使受益更加困难，但通常会产生一些收益。</p><h1 id="mtl-in-knn-and-kernel-regression"><a class="markdownIt-Anchor" href="#mtl-in-knn-and-kernel-regression"></a> MTL in KNN and Kernel Regression</h1><p>pass</p><h1 id="mtl-decision-tree-induction"><a class="markdownIt-Anchor" href="#mtl-decision-tree-induction"></a> MTL Decision Tree Induction</h1><p>pass</p><h1 id="讨论及未来"><a class="markdownIt-Anchor" href="#讨论及未来"></a> 讨论及未来</h1><h2 id="使用多任务进行预测"><a class="markdownIt-Anchor" href="#使用多任务进行预测"></a> 使用多任务进行预测</h2><p>MTL 可以并行地训练许多任务，但这并不应该使用一个模型对许多任务进行预测。</p><p>在所有任务的平均性能与某项任务的最佳性能之间进行权衡，最好一次优化一个任务的性能，并允许额外任务的性能降低。学习者甚至可以忽略某些任务以在主要任务上获得更好的表现。</p><h2 id="反向传播mtl中的学习率"><a class="markdownIt-Anchor" href="#反向传播mtl中的学习率"></a> 反向传播MTL中的学习率</h2><p>通常，当所有任务以相似的速率学习并且大致同时达到最佳性能时，在反向传播 MTL 中可以获得更好的性能。</p><p>控制不同任务学习速度的最简单方法是调整每个输出任务的学习速度。</p><p>对所有任务使用相等的学习率训练网络，训练一次后，降低学习最快的任务的学习率。 通常，对该过程进行几次迭代就足以使大多数任务在大约同一时间达到最高性能。 然后使用每个任务的 early stopping 来确定每个任务的最佳停止点。</p><h2 id="并行传输与顺序传输"><a class="markdownIt-Anchor" href="#并行传输与顺序传输"></a> 并行传输与顺序传输</h2><p>pass</p><h2 id="架构"><a class="markdownIt-Anchor" href="#架构"></a> 架构</h2><p>可以尝试对主任务使用较小的私有隐藏层，而对主任务和其他任务共享较大的隐藏层，这种操作通常可能带来正收益。但是太多的私有隐藏层（例如，每个任务都使用私有隐藏层）会减少共享和 MTL 带来的的好处。</p><p>MTL 可以使用正则化方法（例如权重衰减）。通过减少模型中有效自由参数的数量，并通过正则化促进共享。</p>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - 多任务学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 多任务学习 </tag>
            
            <tag> Multi task learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 20.04系统Lenovo T470主机138a:0097硬件使用指纹识别器登陆</title>
      <link href="posts/ca8f1afe/"/>
      <url>posts/ca8f1afe/</url>
      
        <content type="html"><![CDATA[<p>使用项目 <a href="https://github.com/uunicorn/python-validity">uunicorn/python-validity</a>。</p><h1 id="设置"><a class="markdownIt-Anchor" href="#设置"></a> 设置</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove fprintd</span><br><span class="line">sudo add-apt-repository ppa:uunicorn/open-fprintd</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt install open-fprintd fprintd-clients python3-validity</span><br><span class="line">...<span class="built_in">wait</span> a bit...</span><br><span class="line">fprintd-enroll</span><br></pre></td></tr></table></figure><p>在 <code>设置 -&gt; 用户</code> 中即可设置指纹登陆，如果锁定界面，指纹设备 LED 灯亮起，但扫描无效，尝试以下操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop python3-validity</span><br><span class="line">sudo validity-sensors-firmware</span><br><span class="line">sudo python3 /usr/share/python-validity/playground/factory-reset.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># At some of the above points you may get a &#x27;device busy&#x27; error,</span></span><br><span class="line"><span class="comment"># depending on how systemctl plays along. Kill offending processes if</span></span><br><span class="line"><span class="comment"># necessary, or re-run the systemctl stop python3-validity command, </span></span><br><span class="line"><span class="comment"># in case it has automatically been restarted, or or kill other</span></span><br><span class="line"><span class="comment"># offending processes.</span></span><br><span class="line"></span><br><span class="line">sudo systemctl start python3-validity</span><br><span class="line">fprintd-enroll</span><br></pre></td></tr></table></figure><p>不出意外，指纹识别设备应当可以使用，若有其他错误，参考项目地址。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://github.com/uunicorn/python-validity">uunicorn/python-validity</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 18.04 LTS升级到20.04 LTS</title>
      <link href="posts/685eebef/"/>
      <url>posts/685eebef/</url>
      
        <content type="html"><![CDATA[<p>Ubuntu 20.04 LTS（Focal Fossa）于4月23日正式发布，这是最新的Ubuntu长期支持（LTS）版本。</p><h1 id="备份数据"><a class="markdownIt-Anchor" href="#备份数据"></a> 备份数据</h1><p><img src="/images/Ubuntu-18-04-LTS%E5%8D%87%E7%BA%A7%E5%88%B020-04-LTS/2020-07-28-11-47-33.png" alt="Ubuntu备份工具界面" /></p><h1 id="升级到2004-lts-使用图形向导"><a class="markdownIt-Anchor" href="#升级到2004-lts-使用图形向导"></a> 升级到20.04 LTS –使用图形向导</h1><p>使用GUI工具升级到Ubuntu 20.04 LTS:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo do-release-upgrade -d -f DistUpgradeViewGtk3</span><br></pre></td></tr></table></figure><p>将使用基于Gtk3的GUI启动升级过程</p><p><img src="/images/Ubuntu-18-04-LTS%E5%8D%87%E7%BA%A7%E5%88%B020-04-LTS/2020-07-29-02-13-36.png" alt="提示" /></p><p>首先将要求确认升级:</p><p><img src="/images/Ubuntu-18-04-LTS%E5%8D%87%E7%BA%A7%E5%88%B020-04-LTS/2020-07-29-02-14-46.png" alt="确认升级" /></p><p>向导将在升级过程中禁用锁定屏幕:</p><p><img src="/images/Ubuntu-18-04-LTS%E5%8D%87%E7%BA%A7%E5%88%B020-04-LTS/2020-07-29-02-15-38.png" alt="" /></p><p>该工具将下载必要的系统文件和应用程序以进行升级。可能需要一些时间，请耐心等待。</p><p><img src="/images/Ubuntu-18-04-LTS%E5%8D%87%E7%BA%A7%E5%88%B020-04-LTS/2020-07-29-02-16-08.png" alt="下载文件" /></p><p>在升级过程中，可能会询问您一个或两个问题，如果您想保留某些系统文件的现有设置（例如时区配置），不确定如何选择，则可以安全地使用默认答案。</p><p><img src="/images/Ubuntu-18-04-LTS%E5%8D%87%E7%BA%A7%E5%88%B020-04-LTS/2020-07-29-02-20-05.png" alt="" /></p><p>一段时间后，升级应该完成，并且您应该会看到自己已登录20.04桌面！</p><h1 id="疑难杂症"><a class="markdownIt-Anchor" href="#疑难杂症"></a> 疑难杂症</h1><h2 id="升级后无法进入系统"><a class="markdownIt-Anchor" href="#升级后无法进入系统"></a> 升级后无法进入系统</h2><p>可能由于 Nvidia 显卡驱动引起，启动时选择高级 <code>Advanced</code> 启动，并选择旧内核进入系统，卸载 Nvidia 驱动：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove nvidia* -y</span><br></pre></td></tr></table></figure><p>重启即可进入系统</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.cnblogs.com/dakewei/p/10902899.html">ubuntu下如何卸载nvidia显卡驱动？</a></p><p><a href="https://ubuntu.com/blog/how-to-upgrade-from-ubuntu-18-04-lts-to-20-04-lts-today">How to upgrade from Ubuntu 18.04 LTS to 20.04 LTS today</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 18.04 通过网线共享网络(转载)</title>
      <link href="posts/6ff9e8ef/"/>
      <url>posts/6ff9e8ef/</url>
      
        <content type="html"><![CDATA[<p>本文转载自<a href="https://www.cnblogs.com/jiading/p/11989966.html">Ubuntu18.04通过网线共享网络</a></p><p>这几天要给实验室一个新电脑装系统，但是实验室路由器好像有点问题，所以决定共享我的笔记本的网络，但是搜了很多教程都是基于Ubuntu16.04的，而Ubuntu18和16在设置上区别还是挺大的，最后直接搜英文才得到的结果：</p><ol><li><p>首先通过网线将一台有无线网卡、已经连接无线网络的设备和一台需要网络连接的设备相连接</p></li><li><p>终端中输入:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nm-connection-editor</span><br></pre></td></tr></table></figure></li><li><p>然后在网络连接中的“以太网”选择修改，将IPV4目录下的“方法”修改为“与其他网络共享”即可。</p></li></ol><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyTorch深度学习项目框架模板</title>
      <link href="posts/c64e04ad/"/>
      <url>posts/c64e04ad/</url>
      
        <content type="html"><![CDATA[<h1 id="pytorch-项目模板"><a class="markdownIt-Anchor" href="#pytorch-项目模板"></a> PyTorch 项目模板</h1><p>一个简单而设计良好的结构对于任何深度学习项目都是必不可少的，因此在pytorch项目中进行了大量实践和贡献之后，这里有一个pytorch项目模板，它结合了**简单性、文件夹结构的最佳实践和良好的OOP设计。**其主要的想法是每次开始你的pytorch项目的时候都会做很多相同的事情，所以包装这些共享的东西将有助于你每次开始一个新的pytorch项目时，或改变核心的想法时的代码构建过程。</p><p>所以，一个简单的Pythorch模板，可以帮助您更快地进入项目的主要部分，只关注您的核心（模型架构、训练流程等）</p><h1 id="项目结构"><a class="markdownIt-Anchor" href="#项目结构"></a> 项目结构</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">PyTorch_project</span><br><span class="line">├── config</span><br><span class="line">│   └── defaults.py             <span class="comment"># config file.</span></span><br><span class="line">├── data  </span><br><span class="line">│   ├── dataset     <span class="comment"># datasets folder that is responsible for all data handling.</span></span><br><span class="line">│   ├── transforms  <span class="comment"># data preprocess folder that is responsible for all data augmentation.</span></span><br><span class="line">│   ├── build.py            <span class="comment"># file to make dataloader.</span></span><br><span class="line">│   └── collate_batch.py    <span class="comment"># file that is responsible for merges a list of samples to form a mini#batch.</span></span><br><span class="line">├── layers              <span class="comment"># customed layers.</span></span><br><span class="line">│   └── conv_layer.py</span><br><span class="line">├── models              <span class="comment"># model.</span></span><br><span class="line">│   └── example_model.py</span><br><span class="line">├── optimizer           <span class="comment"># optimizer.</span></span><br><span class="line">│   └── default.py</span><br><span class="line">└── utils</span><br><span class="line">│   ├── logger.py</span><br><span class="line">│   └── any_other_utils_you_need</span><br><span class="line">├── tests               <span class="comment"># unit test.</span></span><br><span class="line">│   └── test_data_sampler.py</span><br><span class="line">├── requirements.txt  <span class="comment"># package required</span></span><br><span class="line">├── trainer.py        <span class="comment"># train loops.</span></span><br><span class="line">└── inference.py      <span class="comment"># inference process.</span></span><br></pre></td></tr></table></figure><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.ctolib.com/mip/L1aoXingyu-Deep-Learning-Project-Template.html">PyTorch深度学习项目框架模板(最佳实践)</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码开发 - Pytorch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Pytorch </tag>
            
            <tag> 目录结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 18.04 使用Komorebi实现动态桌面</title>
      <link href="posts/c3b0ff28/"/>
      <url>posts/c3b0ff28/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-23-36-23.png" alt="" /></p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-23-47-04.png" alt="" /></p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-23-47-32.png" alt="" /></p><h1 id="安装-komorebi"><a class="markdownIt-Anchor" href="#安装-komorebi"></a> 安装 Komorebi</h1><p>从 github 项目 <a href="https://github.com/cheesecakeufo/komorebi/releases">release 页面</a> 下载 Komorebi 的 <code>deb</code> 文件，并双击安装即可。</p><p>若不成功则使用命令安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:gnome3-team/gnome3 -y</span><br><span class="line">sudo add-apt-repository ppa:vala-team -y</span><br><span class="line">sudo add-apt-repository ppa:gnome3-team/gnome3-staging -y</span><br><span class="line">sudo apt install cmake valac libgtk-3-dev libgee-0.8-dev libclutter-gtk-1.0-dev libclutter-1.0-dev libwebkit2gtk-4.0-dev libclutter-gst-3.0-dev</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/cheesecakeufo/komorebi.git</span><br><span class="line"><span class="built_in">cd</span> komorebi</span><br><span class="line">mkdir build &amp;&amp; <span class="built_in">cd</span> build</span><br><span class="line">cmake .. &amp;&amp; sudo make install &amp;&amp; ./komorebi</span><br></pre></td></tr></table></figure><p>安装成功后启动软件，若提示缺失文件，使用 <code>apt</code> 安装：</p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-22-42-06.png" alt="" /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gstreamer1.0-libav</span><br></pre></td></tr></table></figure><h2 id="下载动态桌面视频及封面"><a class="markdownIt-Anchor" href="#下载动态桌面视频及封面"></a> 下载动态桌面视频及封面</h2><p>在 <a href="http://bbs.huoying666.com/forum-53-1.html">火萤视频桌面-资源分享板块</a> 挑选自己喜欢的动态桌面并下载。</p><p>以 <a href="http://bbs.huoying666.com/thread-3911-1-1.html">Daughter Of The Flame</a>为例，进入页面后下载视频文件，并挑选一张图片保存作为封面。我将两个文件都保存在 <code>~/Videos/&quot;Daughter Of The Flame&quot;</code> 目录下。</p><h2 id="创建动态桌面"><a class="markdownIt-Anchor" href="#创建动态桌面"></a> 创建动态桌面</h2><p>搜索 <code>komorebi</code> 打开 <code>Wallpaper Creator</code>：</p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-22-52-35.png" alt="" /></p><p>输入/选择：</p><ul><li>名称: Daughter Of The Flame</li><li>wallpaper 类型: A video</li><li>视频位置: path</li><li>封面位置: path</li></ul><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-22-58-17.png" alt="" /></p><p>选择是否在桌面显示时间及显示位置，我选择不显示，其他选项全部默认：</p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-22-59-30.png" alt="" /></p><p>选择下一步，根据提示在终端中输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv /home/dora_cmon/daughter_of_the_flame /System/Resources/Komorebi</span><br></pre></td></tr></table></figure><p>重新启动 Komerebi，右键桌面，选择 <code>Change Wallpaper</code> 即可看到刚才新建的动态桌面，选择它。</p><h1 id="关闭-komorebi-声音"><a class="markdownIt-Anchor" href="#关闭-komorebi-声音"></a> 关闭 Komorebi 声音</h1><p>确定后发现动态桌面将视频中的声音播放出来了，但是我不想要音频。经过多方查找，目前没有找到关闭动态桌面的官方方法，也许今后会有更新。</p><p>采用迂回战术，打开设置中的 <code>Sound -&gt; Applications</code>，将 <code>Komorebi</code> 静音：</p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8Komorebi%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E6%A1%8C%E9%9D%A2/2020-03-18-23-10-10.png" alt="" /></p><p>虽然方法不是很优雅，但无奈官方暂无解决办法（也有可能我没有找对），但该方法确实解决问题。</p><h1 id="进阶设置-登录锁屏-界面"><a class="markdownIt-Anchor" href="#进阶设置-登录锁屏-界面"></a> 进阶——设置 登录/锁屏 界面</h1><p>打开设置中的 <code>Background</code>，将 <code>Background</code> 和 <code>Lock Screen</code> 都设置为之前保存的封面。</p><p>若要实现密码输入界面雾化效果，请参考文章 <a href="/posts/42e35e2a/" title="Ubuntu 18.04 美化完全攻略">Ubuntu 18.04 美化完全攻略</a> 中的 <strong>GDM主题设置(登录/锁定界面)</strong> 小节。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://github.com/cheesecakeufo/komorebi">cheesecakeufo/komorebi: A beautiful and customizable wallpapers manager for Linux</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 18.04 美化完全攻略</title>
      <link href="posts/42e35e2a/"/>
      <url>posts/42e35e2a/</url>
      
        <content type="html"><![CDATA[<p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/screenshot.png" alt="" /></p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-19-16-18.png" alt="" /></p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-19-16-41.png" alt="" /></p><h1 id="预备工作"><a class="markdownIt-Anchor" href="#预备工作"></a> 预备工作</h1><h2 id="更换-apt-更新源"><a class="markdownIt-Anchor" href="#更换-apt-更新源"></a> 更换 apt 更新源</h2><p>打开 <code>Software &amp; Update</code>，点击 <code>Download from</code> 下拉框，选择阿里源 <code>China -&gt; mirrors.aliyun.com</code>：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-18-19-39-10.png" alt="" /></p><p>关闭选项卡，在弹出框中选择 <code>Reload</code>：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-18-19-40-58.png" alt="" /></p><h2 id="安装显卡驱动"><a class="markdownIt-Anchor" href="#安装显卡驱动"></a> 安装显卡驱动</h2><p>在 <code>Software &amp; Updates</code> 中打开 <code>Additional Drivers</code>，选择你的显卡：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-18-22-12-38.png" alt="" /></p><p>安装完成后重启系统。</p><h2 id="加速上网"><a class="markdownIt-Anchor" href="#加速上网"></a> 加速上网</h2><p>参考文章 <a href="/posts/b22b8242/" title="Ubuntu 18.04 使用V2ray图形化软件V2rayL加速上网">Ubuntu 18.04 使用V2ray图形化软件V2rayL加速上网</a></p><h1 id="桌面主题美化"><a class="markdownIt-Anchor" href="#桌面主题美化"></a> 桌面主题美化</h1><h2 id="安装-gnome-tweak-tool"><a class="markdownIt-Anchor" href="#安装-gnome-tweak-tool"></a> 安装 <code>gnome-tweak-tool</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line"><span class="comment"># gnome 美化软件</span></span><br><span class="line">sudo apt-get install ​gnome-tweaks ​gnome-tweak-tool</span><br><span class="line"><span class="comment"># 支持通过浏览器安装 gnome 插件</span></span><br><span class="line">​sudo apt install chrome-gnome-shell</span><br><span class="line"><span class="comment"># 开启gnome扩展</span></span><br><span class="line">sudo apt-get install gnome-shell-extensions</span><br></pre></td></tr></table></figure><p>在网页中打开 <code>https://extensions.gnome.org/</code>，点击 <code>Click here to install browser extension</code> 安装浏览器的 gnome 扩展插件。</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-00-09-19.png" alt="" /></p><p>安装完成后刷新，右上角可以看到该插件图标。</p><p>刷新页面并进入 <code>User Themes</code>，开启该插件：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-00-12-21.png" alt="" /></p><p>根据提示完成安装。</p><h2 id="更换-gnome-主题"><a class="markdownIt-Anchor" href="#更换-gnome-主题"></a> 更换 gnome 主题</h2><p>在 <a href="https://www.gnome-look.org/">gnome主题官方网站</a>选择自己心仪的主题，<strong>注意需要选择 GTK3 分类下的主题</strong>，其他分类的主题不适合 Ubuntu 18.04</p><p>以 <a href="https://www.gnome-look.org/p/1309214/">Layan gtk theme</a> 为例：</p><ul><li><p>下载 <code>Layan-dark-solid.tar.xz</code> 并解压至 <code>~/.themes/</code>目录下</p></li><li><p>重启 <code>Tweaks</code> 并在 <code>Themes -&gt; Applications</code> 中选择该主题：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-17-01-38.png" alt="" /></p></li></ul><h2 id="更换鼠标图标"><a class="markdownIt-Anchor" href="#更换鼠标图标"></a> 更换鼠标图标</h2><p>在 <code>Cursors</code> 类目下选择自己心仪的鼠标主题。以 <a href="https://www.gnome-look.org/s/Gnome/p/1197198/">Bibata</a> 为例：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-17-37-02.png" alt="" /></p><ul><li><p>下载 <code>Bibata_Classic.zip</code> 并解压至 <code>~/.icons/</code>目录下</p></li><li><p>重启 <code>Tweaks</code> 并在 <code>Themes -&gt; Cursor</code> 中选择该主题：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-17-39-17.png" alt="" /></p></li></ul><h2 id="更换软件图标"><a class="markdownIt-Anchor" href="#更换软件图标"></a> 更换软件图标</h2><p>在 <code>Full Icon Themes</code> 类目下选择自己心仪的软件图标主题。以 <a href="https://www.gnome-look.org/s/Gnome/p/1256209">Korla</a> 为例：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-17-31-44.png" alt="" /></p><ul><li><p>下载 <code>korla_1-2-5.zip</code> 并解压，解压目录中有多个风格的目录，将所需风格目录复制到至 <code>~/.icons/</code>目录下，如 <code>korla</code></p></li><li><p>重启 <code>Tweaks</code> 并在 <code>Themes -&gt; Icons</code> 中选择该主题：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-17-30-42.png" alt="" /></p></li></ul><h2 id="更换-gnome-shell-主题"><a class="markdownIt-Anchor" href="#更换-gnome-shell-主题"></a> 更换 gnome shell 主题</h2><p>在 <code>Gnome Shell Themes</code> 类目下选择自己心仪的 Shell 主题。gnome shell 不同主题安装方法有所不同，具体请参考主题页面提供的安装方法。</p><p>以 <a href="https://www.gnome-look.org/p/1203425/">Transparent Shell Theme</a> 为例，该主题安装简单与之前安装方法一致：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-18-14-36.png" alt="" /></p><ul><li><p>下载 <code>Transparent shell theme 3.7.tar.gz</code> 并解压至 <code>~/.themes</code>目录中</p></li><li><p>重启 <code>Tweaks</code> 并在 <code>Themes -&gt; Shell</code> 中选择该主题：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-18-08-54.png" alt="" /></p></li></ul><p>为了将模糊效果应用于GNOME Shell UI 元素，需要安装 <a href="https://extensions.gnome.org/extension/1251/blyr/">Blyr</a> 扩展</p><h2 id="更换-dock"><a class="markdownIt-Anchor" href="#更换-dock"></a> 更换 dock</h2><p>安装 gnome 扩展 <a href="https://extensions.gnome.org/extension/307/dash-to-dock/">Dash to Dock</a></p><p>我的配置如下：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-18-21-14.png" alt="" /></p><h2 id="动态静态-桌面设置"><a class="markdownIt-Anchor" href="#动态静态-桌面设置"></a> 动态/静态 桌面设置</h2><h3 id="静态桌面"><a class="markdownIt-Anchor" href="#静态桌面"></a> 静态桌面</h3><p>在 <a href="https://wallpapersite.com">WallPaperSite</a> 中下载心仪的壁纸，保存到 <code>~/Pictures/WallPapers</code> 中，右键选择 <code>Scripts -&gt; SetAsWallpaper</code> 即可。</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-18-23-33-05.png" alt="" /></p><h3 id="动态桌面"><a class="markdownIt-Anchor" href="#动态桌面"></a> 动态桌面</h3><p>参考文章 <a href="/posts/c3b0ff28/" title="Ubuntu 18.04 使用Komorebi实现动态桌面">Ubuntu 18.04 使用Komorebi实现动态桌面</a></p><h2 id="gdm主题设置登录锁定界面"><a class="markdownIt-Anchor" href="#gdm主题设置登录锁定界面"></a> GDM主题设置(登录/锁定界面)</h2><p>GNOME 显示管理器（GDM）是一个管理图形显示服务和处理图形用户登录的程序，使用 <a href="https://www.gnome-look.org/p/1207015/">High Ubunterra</a>主题进行美化，这个主题可以锁屏录界面几乎看起来像 macOS 锁屏，运行其脚本可以为桌面设置壁纸，同时在锁定屏幕和登录屏幕上设置相同的壁纸，且带有模糊效果。</p><ul><li><p>下载 <code>High_Ubunterra_2.3(Pass).tar.xz</code> 注意其他版本针对不同 Ubuntu 版本，具体参考主题首页。</p></li><li><p>解压后，运行其中的安装脚本 <code>install.sh</code>，运行结束按照提示，先按 <code>ALT + F2</code>，再按 <code>r</code> 回车，让其生效。</p></li><li><p>右键你的壁纸文件，选择 <code>Scripts -&gt; SetAsWallpaper</code> 即可。(<strong>注意</strong>：右键一级目录的<code>SetAsWallpaper</code>不会设置登录/锁定界面，必须是 <code>Script</code> 中的该选项)</p></li></ul><h2 id="调整缩放比例"><a class="markdownIt-Anchor" href="#调整缩放比例"></a> 调整缩放比例</h2><p>因为在设置的显示中，只能设置 <code>100%/200%</code> 缩放，然而这样不是太小就是太大。因此在 <code>Tweaks -&gt; Fonts</code> 中修改 <code>Scaling Factor</code>：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-00-21-21.png" alt="" /></p><p><strong>注意</strong>：在 <code>Tweaks</code> 中修改缩放比例后在使用 Chrome 时，可能会出现视频无法全屏，只占屏幕的一部分的情况。目前没有找到完美解决方案，但是发现 <strong>不要将 Chrome 最大化，然后点击全屏按钮，就可以正常全屏。</strong> 只能如此作一折中。</p><h2 id="plymouth-主题设置开机动画"><a class="markdownIt-Anchor" href="#plymouth-主题设置开机动画"></a> Plymouth 主题设置(开机动画)</h2><p>Plymouth 主题也就是开机动画，可以在 <a href="https://www.gnome-look.org/browse/cat/108/">Plymouth Themes</a>类目下选择自己喜欢的开机动画主题进行安装。</p><p>以 <a href="https://www.gnome-look.org/p/1368224/">Futurebuntu Ani-04 Torquoise S Plymouth Theme</a> 为例：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-18-55-36.png" alt="" /></p><ul><li><p>下载 <code>Futurebuntu-Ani-04-Torquoise-S.tar.bz2</code> 并解压</p></li><li><p>将主题目录移至 <code>/usr/share/plymouth/themes/</code>，如果没有该目录则自行创建：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mv Futurebuntu-Ani-04-Torquoise-S /usr/share/plymouth/themes/</span><br></pre></td></tr></table></figure></li><li><p>根据自己的主题，修改以下命令并执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --install /usr/share/plymouth/themes/default.plymouth  default.plymouth /usr/share/plymouth/themes/Futurebuntu-Ani-04-Torquoise-S/Futurebuntu-Ani-04-Torquoise-S.plymouth 100</span><br></pre></td></tr></table></figure></li><li><p>选择主题：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-alternatives --config default.plymouth</span><br></pre></td></tr></table></figure><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-18-53-49.png" alt="" /></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-initramfs -u</span><br></pre></td></tr></table></figure></li><li><p>不重启测试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo plymouthd ; sudo plymouth --show-splash ; <span class="keyword">for</span> ((I=0; I&lt;10; I++)); <span class="keyword">do</span> sleep 1 ; sudo plymouth --update=<span class="built_in">test</span><span class="variable">$I</span> ; <span class="keyword">done</span> ; sudo plymouth --quit</span><br></pre></td></tr></table></figure></li></ul><h2 id="grub-主题设置引导界面"><a class="markdownIt-Anchor" href="#grub-主题设置引导界面"></a> Grub 主题设置(引导界面)</h2><p>在 <code>Grub Themes</code> 类目下选择自己心仪的软件图标主题。以 <a href="https://www.gnome-look.org/s/Gnome/p/1256209">Blur grub</a> 为例：</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-19-04-56.png" alt="" /></p><ul><li><p>下载 <a href="https://www.gnome-look.org/p/1220920/">blur-grub2_hd.tar.gz</a> 并解压</p></li><li><p>执行 <code>./install.sh</code></p></li></ul><h1 id="gnome-插件推荐"><a class="markdownIt-Anchor" href="#gnome-插件推荐"></a> gnome 插件推荐</h1><ul><li><p><a href="https://extensions.gnome.org/extension/545/hide-top-bar/">Hide Top Bar</a> 自动隐藏顶栏</p><p><strong>注意</strong>:在配置中设置呼出顶栏快捷键为 <code>Alt + T</code>，原本的快捷键和 Terminal 冲突！！！</p><p><img src="/images/Ubuntu-18-04-%E7%BE%8E%E5%8C%96%E5%AE%8C%E5%85%A8%E6%94%BB%E7%95%A5/2020-03-19-15-38-54.png" alt="" /></p></li><li><p><a href="https://extensions.gnome.org/extension/1011/dynamic-panel-transparency/">Dynamic Panel Transparency</a> 将顶栏变透明</p></li><li><p><a href="https://extensions.gnome.org/extension/1634/resource-monitor/">Resource Monitor</a> 在顶栏显示资源使用情况</p></li><li><p><a href="https://extensions.gnome.org/extension/1438/scroll-workspace/">Scroll Workspace</a> 在屏幕右侧边缘滚轮切换工作区</p></li><li><p><a href="https://extensions.gnome.org/extension/971/workspace-wraparound/">Workspace Wraparound</a> 工作区循环切换(第一个工作区向上切换至最后一个工作区)</p></li></ul><h1 id="ubuntu-1804-软件推荐"><a class="markdownIt-Anchor" href="#ubuntu-1804-软件推荐"></a> Ubuntu 18.04 软件推荐</h1><p>参考文章 <a href="/posts/5c8dc1d5/" title="Ubuntu软件推荐">Ubuntu软件推荐</a></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://zhuanlan.zhihu.com/p/63584709">史上最良心的 Ubuntu desktop 美化优化指导(1)</a></p><p><a href="https://blog.csdn.net/weixin_40570554/article/details/81953751">ubuntu终极美化教程</a></p><p><a href="https://askubuntu.com/questions/1046370/how-to-change-boot-splash-screen-in-18-04">How to change boot splash screen in 18.04</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git命令如何指定秘钥</title>
      <link href="posts/bfc06ff2/"/>
      <url>posts/bfc06ff2/</url>
      
        <content type="html"><![CDATA[<h1 id="保存秘钥文件"><a class="markdownIt-Anchor" href="#保存秘钥文件"></a> 保存秘钥文件</h1><p>将秘钥移动到 <code>~/.ssh/</code> 目录(Window路径为 <code>%HOMEPATH%/.ssh/</code>)下，若已有秘钥，注意修改秘钥名称，如 <code>id_rsa_proj</code></p><h1 id="添加配置文件"><a class="markdownIt-Anchor" href="#添加配置文件"></a> 添加配置文件</h1><p>在 <code>～/.ssh/</code> 目录下创建文件 <code>config</code>，添加以下内容：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Host</span> <span class="string">project</span></span><br><span class="line">    <span class="string">HostName</span> <span class="string">gitee.com</span></span><br><span class="line">    <span class="string">User</span> <span class="string">git</span></span><br><span class="line">    <span class="string">IdentityFile</span> <span class="string">~/.ssh/id_rsa_proj</span></span><br></pre></td></tr></table></figure><ul><li><strong>project</strong>: 识别名称，自定<ul><li>HostName: Git 服务地址</li><li>User: 用户</li><li><strong>IdentityFile</strong>: 秘钥路径</li></ul></li></ul><h1 id="执行-git-命令"><a class="markdownIt-Anchor" href="#执行-git-命令"></a> 执行 git 命令</h1><p>假如仓库 ssh 地址为： <code>git@gitee.com:repository.git</code></p><p>只需将其中的 <code>gitee.com</code> 替换为第 2 步中的 <code>Host</code> 字段即可，本例为 <code>project</code>：</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git@project:repository.git</span><br></pre></td></tr></table></figure><p>之后正常进行 git 操作即可。</p><p>推荐使用 VS Code，其中集成的 Git 非常方便。</p><h1 id="常用-git-命令"><a class="markdownIt-Anchor" href="#常用-git-命令"></a> 常用 git 命令</h1><table><thead><tr><th>功能</th><th>命令</th></tr></thead><tbody><tr><td>克隆仓库</td><td><code>git clone [url]</code></td></tr><tr><td>获取远程仓库变更</td><td><code>git pull</code></td></tr><tr><td>推送本地变更至远程仓库</td><td><code>git push</code></td></tr><tr><td>显示所有本地分支[创建]</td><td><code>git branch [new branch]</code></td></tr><tr><td>切换分支</td><td><code>git checkout [branch name]</code></td></tr><tr><td>显示当前分支的版本历史</td><td><code>git log</code></td></tr><tr><td>把文件添加到缓冲区</td><td><code>git add filename</code></td></tr><tr><td>添加所有文件到缓冲区</td><td><code>git add .</code></td></tr><tr><td>提交缓冲区的所有修改</td><td><code>git commit -m &quot;commit&quot;</code></td></tr><tr><td>删除文件</td><td><code>git rm filename</code></td></tr><tr><td>显示文件变更</td><td><code>git diff filename</code></td></tr></tbody></table><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://blog.csdn.net/junbujianwpl/article/details/78650105">git免密pull指定ssh密钥文件</a></p><p><a href="https://baijiahao.baidu.com/s?id=1651596943483969859&amp;wfr=spider&amp;for=pc">20 个最常用的 Git 命令用法说明及示例</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MobaXterm </tag>
            
            <tag> ssh密钥 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot之使用JPA(六)</title>
      <link href="posts/eafa9b97/"/>
      <url>posts/eafa9b97/</url>
      
        <content type="html"><![CDATA[<p>JPA是Java Persistence API的简称，中文名Java持久层API，是JDK 5.0注解或XML描述对象－关系表的映射关系，并将运行期的实体对象持久化到数据库中。</p><p>JPA 的目标之一是制定一个可以由很多供应商实现的API，并且开发人员可以编码来实现该API，而不是使用私有供应商特有的API。</p><h1 id="数据库安装-创建"><a class="markdownIt-Anchor" href="#数据库安装-创建"></a> 数据库安装、创建</h1><p>参考 <a href="/posts/6591177e/" title="Spring Boot使用JDBC访问MySQL(五)">Spring Boot使用JDBC访问MySQL(五)</a></p><h1 id="代码编写"><a class="markdownIt-Anchor" href="#代码编写"></a> 代码编写</h1><h2 id="创建工程"><a class="markdownIt-Anchor" href="#创建工程"></a> 创建工程</h2><p>按<code>Ctrl + Shift + P</code>，输入 <code>Spring</code>，选择 <code>Spring Initializer</code>，然后选择 <code>java</code>；</p><p><code>Group Id</code> 默认；<br /><code>Artifact Id</code> 输入<code>spring-boot-jpa</code>；<br /><code>Spring Boot version</code> 选择 <code>2.2.x</code>。</p><p>添加依赖库：</p><ul><li>Spring Boot DevTools</li><li>Spring Web</li><li>Lombok</li><li>Spring Data JPA</li><li>MySQL Driver</li></ul><h2 id="目录结构"><a class="markdownIt-Anchor" href="#目录结构"></a> 目录结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">src.main</span><br><span class="line">    ├── java.com.example.springbootjdbc</span><br><span class="line">    │   ├── controller</span><br><span class="line">    │   │   └── AccountController.java</span><br><span class="line">    │   ├── DemoApplication.java</span><br><span class="line">    │   ├── domain</span><br><span class="line">    │   │   └── Account.java</span><br><span class="line">    │   ├── repository</span><br><span class="line">    │   │   ├── AccountDaoImpl.java</span><br><span class="line">    │   │   └── IAccountDAO.java</span><br><span class="line">    │   └── service</span><br><span class="line">    │       ├── IAccountService.java</span><br><span class="line">    │       └── impl</span><br><span class="line">    │           └── AccountServiceImpl.java</span><br><span class="line">    └── resources</span><br><span class="line">        └── application.properties</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="applicationyml"><a class="markdownIt-Anchor" href="#applicationyml"></a> application.yml</h2><p>删除 <code>application.properties</code> 使用 YML 配置文件：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/SpringBootLearn?useUnicode=true&amp;characterEncoding=utf8&amp;characterSetResults=utf8</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">111111</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">jpa:</span></span><br><span class="line">    <span class="attr">show-sql:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">properties:</span></span><br><span class="line">      <span class="attr">hibernate:</span></span><br><span class="line">      <span class="attr">format_sql:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="实体类accountjava"><a class="markdownIt-Anchor" href="#实体类accountjava"></a> 实体类(Account.java)</h2><p>通过 <code>@Entity</code> 注解，表明该类是一个映射的实体类, <code>@Id</code> 表示主键:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> money;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dao-层accountdaojava"><a class="markdownIt-Anchor" href="#dao-层accountdaojava"></a> dao 层(AccountDao.java)</h2><p>编写一个继承自 JpaRepository 的接口就能完成数据访问，不用编写额外代码。其中包含了几本的单表查询的方法，非常方便。</p><p>其中，</p><ul><li>Account 是对象名，而不是具体的表名</li><li>Interger 是主键的类型，一般为 <code>Integer</code> 或者 <code>Long</code>。</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountDao</span>  <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Account</span>,<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="控制器accountcontrollerjava"><a class="markdownIt-Anchor" href="#控制器accountcontrollerjava"></a> 控制器(AccountController.java)</h2><p>在本例中没有编写 service 层(直接在控制器中实现)，在实际开发中，不可省略。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/account&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    AccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/list&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">getAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Optional&lt;Account&gt; <span class="title">getAccountById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(value = &quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">updateAccount</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">int</span> id, <span class="meta">@RequestParam(value = &quot;name&quot;, required = true)</span> String name,</span></span></span><br><span class="line"><span class="params"><span class="function">                                <span class="meta">@RequestParam(value = &quot;money&quot;, required = true)</span> <span class="keyword">double</span> money)</span> </span>&#123;</span><br><span class="line">        Account account = <span class="keyword">new</span> Account();</span><br><span class="line">        account.setMoney(money);</span><br><span class="line">        account.setName(name);</span><br><span class="line">        account.setId(id);</span><br><span class="line">        Account account1 = accountDao.saveAndFlush(account);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> account1.toString();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">postAccount</span><span class="params">(<span class="meta">@RequestParam(value = &quot;name&quot;)</span> String name,</span></span></span><br><span class="line"><span class="params"><span class="function">                              <span class="meta">@RequestParam(value = &quot;money&quot;)</span> <span class="keyword">double</span> money)</span> </span>&#123;</span><br><span class="line">        Account account = <span class="keyword">new</span> Account();</span><br><span class="line">        account.setMoney(money);</span><br><span class="line">        account.setName(name);</span><br><span class="line">        Account account1 = accountDao.save(account);</span><br><span class="line">        <span class="keyword">return</span> account1.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="测试代码"><a class="markdownIt-Anchor" href="#测试代码"></a> 测试代码</h1><p>使用 <a href="https://www.postman.com/downloads/">Postman</a>进行 <code>get, post, put</code> 等测试。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多Spring Boot教程笔记见<a href="/categories/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-Spring-Boot/">代码开发 - Spring Boot</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://baike.baidu.com/item/JPA/5660672?fr=aladdin">JPA_百度百科</a></p><p><a href="https://www.fangzhipeng.com/springboot/2017/05/04/sb4-jpaJ.html">Spring Boot教程第4篇：JPA</a></p><p><a href="https://blog.csdn.net/u012675150/article/details/79351990">Spring boot 项目目录结构</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码开发 - Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot使用JDBC访问MySQL(五)</title>
      <link href="posts/6591177e/"/>
      <url>posts/6591177e/</url>
      
        <content type="html"><![CDATA[<h1 id="安装-mysql"><a class="markdownIt-Anchor" href="#安装-mysql"></a> 安装 MySQL</h1><h2 id="ubuntu"><a class="markdownIt-Anchor" href="#ubuntu"></a> Ubuntu</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mysql-server</span><br><span class="line">sudo apt install mysql-client</span><br><span class="line">sudo apt install libmysqlclient-dev</span><br></pre></td></tr></table></figure><h2 id="检查安装"><a class="markdownIt-Anchor" href="#检查安装"></a> 检查安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo netstat -tap |grep mysql</span><br></pre></td></tr></table></figure><p>出现以下行，则表示 mysql 服务已启动：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp     0   0   localhost:mysql     0.0.0.0:*   LISTEN  10165/mysqld</span><br></pre></td></tr></table></figure><h2 id="创建数据库表"><a class="markdownIt-Anchor" href="#创建数据库表"></a> 创建数据库表</h2><ul><li><p>登录数据库</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 若 root 账户无密码</span></span><br><span class="line">mysql -uroot</span><br><span class="line"><span class="comment"># 若 root 账户有密码</span></span><br><span class="line">mysql -uroot -p&lt;your_passwd&gt;</span><br></pre></td></tr></table></figure></li><li><p>修改数据库账户密码（给 <code>root</code> 本地用户设置密码）</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> password <span class="keyword">for</span> root<span class="variable">@localhost</span><span class="operator">=</span>password(&quot;111111&quot;);</span><br></pre></td></tr></table></figure></li><li><p>创建数据库</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database SpringBootLearn;</span><br><span class="line">use SpringBootLearn;</span><br></pre></td></tr></table></figure></li><li><p>创建表</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> account (</span><br><span class="line">    id <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    money <span class="keyword">double</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (id)</span><br><span class="line">)ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">4</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Zhao&#x27;</span>, <span class="string">&#x27;100&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;Qian&#x27;</span>, <span class="string">&#x27;1000&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> account <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;Sun&#x27;</span>, <span class="string">&#x27;10000&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p>查看表</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> account;</span><br></pre></td></tr></table></figure>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+----+------+-------+</span><br><span class="line">| id | name | money |</span><br><span class="line">+----+------+-------+</span><br><span class="line">|  1 | Zhao |   100 |</span><br><span class="line">|  2 | Qian |  1000 |</span><br><span class="line">|  3 | Sun  | 10000 |</span><br><span class="line">+----+------+-------+</span><br></pre></td></tr></table></figure></li></ul><h1 id="代码编写"><a class="markdownIt-Anchor" href="#代码编写"></a> 代码编写</h1><h2 id="创建工程"><a class="markdownIt-Anchor" href="#创建工程"></a> 创建工程</h2><p>按<code>Ctrl + Shift + P</code>，输入 <code>Spring</code>，选择 <code>Spring Initializer</code>，然后选择 <code>java</code>；</p><p><code>Group Id</code> 默认；<br /><code>Artifact Id</code> 输入<code>spring-boot-jdbc</code>；<br /><code>Spring Boot version</code> 选择 <code>2.2.x</code>。</p><p>添加依赖库：</p><ul><li>Spring Boot DevTools</li><li>Spring Web</li><li>Lombok</li><li>JDBC API</li><li>MySQL Driver</li></ul><h2 id="目录结构"><a class="markdownIt-Anchor" href="#目录结构"></a> 目录结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">src.main</span><br><span class="line">    ├── java.com.example.springbootjdbc</span><br><span class="line">    │   ├── controller</span><br><span class="line">    │   │   └── AccountController.java</span><br><span class="line">    │   ├── DemoApplication.java</span><br><span class="line">    │   ├── domain</span><br><span class="line">    │   │   └── Account.java</span><br><span class="line">    │   ├── repository</span><br><span class="line">    │   │   ├── AccountDaoImpl.java</span><br><span class="line">    │   │   └── IAccountDAO.java</span><br><span class="line">    │   └── service</span><br><span class="line">    │       ├── IAccountService.java</span><br><span class="line">    │       └── impl</span><br><span class="line">    │           └── AccountServiceImpl.java</span><br><span class="line">    └── resources</span><br><span class="line">        └── application.properties</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="applicationproperties"><a class="markdownIt-Anchor" href="#applicationproperties"></a> application.properties</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="string">spring.datasource.url=jdbc:mysql://localhost:3306/SpringBootLearn</span></span><br><span class="line"><span class="string">spring.datasource.username=root</span></span><br><span class="line"><span class="string">spring.datasource.password=111111</span></span><br></pre></td></tr></table></figure><h2 id="实体类accountjava"><a class="markdownIt-Anchor" href="#实体类accountjava"></a> 实体类(Account.java)</h2><p>注意如果没有引入 <code>Lombok</code> 插件，则需手动编写 <code>setter, getter</code>。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> money;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dao-层iaccountdaojava-accountdaoimplejava"><a class="markdownIt-Anchor" href="#dao-层iaccountdaojava-accountdaoimplejava"></a> dao 层(IAccountDAO.java, AccountDaoImple.java)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IAccountDAO.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountDAO</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">update</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Account <span class="title">findAccountById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Account&gt; <span class="title">findAccountList</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//AccountDaoImple.java</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title">IAccountDAO</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">final</span> Account account)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.update(<span class="string">&quot;INSERT into account(name, money) values(?, ?)&quot;</span>, </span><br><span class="line">                                    account.getName(), account.getMoney());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(<span class="keyword">final</span> Account account)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.update(<span class="string">&quot;UPDATE account SET name=?, money=? WHERE id=?&quot;</span>,</span><br><span class="line">                                    account.getName(), account.getMoney(), account.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delete</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.update(<span class="string">&quot;DELETE from TABLE account where id=?&quot;</span>, id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> List&lt;Account&gt; list = jdbcTemplate.query(<span class="string">&quot;SELECT * from account WHERE id=?&quot;</span>,</span><br><span class="line">                                <span class="keyword">new</span> Object[]&#123;id&#125;, <span class="keyword">new</span> BeanPropertyRowMapper(Account.class));</span><br><span class="line">        <span class="keyword">if</span>(list != <span class="keyword">null</span> &amp;&amp; list.size() &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">final</span> Account account = list.get(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> account;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">findAccountList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> List&lt;Account&gt; list = jdbcTemplate.query(<span class="string">&quot;SELECT * from account&quot;</span>, </span><br><span class="line">                                <span class="keyword">new</span> Object[]&#123;&#125;, <span class="keyword">new</span> BeanPropertyRowMapper(Account.class));</span><br><span class="line">        <span class="keyword">if</span>(list!=<span class="keyword">null</span> &amp;&amp; list.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="service-层iaccountservicejava-accountserviceimpljava"><a class="markdownIt-Anchor" href="#service-层iaccountservicejava-accountserviceimpljava"></a> service 层(IAccountService.java, AccountServiceImpl.java)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//IAccountService.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">update</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Account <span class="title">findAccountById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Account&gt; <span class="title">findAccountList</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//AccountServiceImple.java</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    IAccountDAO accountDAO;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDAO.add(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">update</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDAO.update(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDAO.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDAO.findAccountById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">findAccountList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountDAO.findAccountList();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="控制器accountcontrollerjava"><a class="markdownIt-Anchor" href="#控制器accountcontrollerjava"></a> 控制器(AccountController.java)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/account&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    IAccountService accountService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(value=&quot;/list&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">getAccounts</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountService.findAccountList();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">getAccountById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> accountService.findAccountById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  String <span class="title">updateAccount</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span><span class="keyword">int</span> id , </span></span></span><br><span class="line"><span class="params"><span class="function">                                 <span class="meta">@RequestParam(value = &quot;name&quot;,required = true)</span>String name,</span></span></span><br><span class="line"><span class="params"><span class="function">                                 <span class="meta">@RequestParam(value = &quot;money&quot; ,required = true)</span><span class="keyword">double</span> money)</span></span>&#123;</span><br><span class="line">        Account account=<span class="keyword">new</span> Account();</span><br><span class="line">        account.setMoney(money);</span><br><span class="line">        account.setName(name);</span><br><span class="line">        account.setId(id);</span><br><span class="line">        <span class="keyword">int</span> t=accountService.update(account);</span><br><span class="line">        <span class="keyword">if</span>(t==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> account.toString();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;fail&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  String <span class="title">postAccount</span><span class="params">(<span class="meta">@RequestParam(value = &quot;name&quot;)</span>String name,</span></span></span><br><span class="line"><span class="params"><span class="function">                               <span class="meta">@RequestParam(value = &quot;money&quot; )</span><span class="keyword">double</span> money)</span></span>&#123;</span><br><span class="line">        Account account=<span class="keyword">new</span> Account();</span><br><span class="line">        account.setMoney(money);</span><br><span class="line">        account.setName(name);</span><br><span class="line">        <span class="keyword">int</span> t= accountService.add(account);</span><br><span class="line">        <span class="keyword">if</span>(t==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> account.toString();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;fail&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="测试代码"><a class="markdownIt-Anchor" href="#测试代码"></a> 测试代码</h1><p>使用 <a href="https://www.postman.com/downloads/">Postman</a>进行 <code>get, post, put</code> 等测试：</p><p><img src="/images/Spring-Boot%E4%BD%BF%E7%94%A8JDBC%E8%AE%BF%E9%97%AEMySQL-%E4%BA%94/2020-03-30-16-38-05.png" alt="测试结果" /></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多Spring Boot教程笔记见<a href="/categories/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-Spring-Boot/">代码开发 - Spring Boot</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.fangzhipeng.com/springboot/2017/05/03/sb3-Jdbc.html">Spring Boot教程第3篇：JDBCTemplate</a></p><p><a href="https://www.jb51.net/article/157282.htm">Ubuntu上mysql的安装及使用(通用版)</a></p><p><a href="https://blog.csdn.net/u012675150/article/details/79351990">Spring boot 项目目录结构</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码开发 - Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 18.04 安装Postman</title>
      <link href="posts/73127b7d/"/>
      <url>posts/73127b7d/</url>
      
        <content type="html"><![CDATA[<p>Postman 是一款功能强大的网页调试和模拟发送HTTP请求的Chrome插件，支持几乎所有类型的HTTP请求，操作简单且方便。</p><h1 id="下载并解压-postman"><a class="markdownIt-Anchor" href="#下载并解压-postman"></a> 下载并解压 Postman</h1><p><a href="https://www.postman.com/downloads/">Postman 官网</a>下载 Linux 版本的安装包。</p><p>解压压缩包到 <code>/opt</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -xzf Postman-linux-x64-*.tar.gz -C /opt/</span><br></pre></td></tr></table></figure><p><strong>可能遇到的错误</strong>：</p><ul><li><p>错误1：</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./Postman: error while loading shared libraries: libgconf-2.so.4: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure><p>解决方案：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libgconf-2-4</span><br></pre></td></tr></table></figure></li><li><p>错误2：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Gtk-Message: Failed to load module <span class="string">&quot;canberra-gtk-module&quot;</span></span><br></pre></td></tr></table></figure><p>解决方案：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libcanberra-gtk-module</span><br></pre></td></tr></table></figure></li></ul><h1 id="创建快捷图标"><a class="markdownIt-Anchor" href="#创建快捷图标"></a> 创建快捷图标</h1><p>创建链接：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /opt/Postman/Postman /usr/bin/postman</span><br></pre></td></tr></table></figure><p>创建快捷图标：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; ~/.<span class="built_in">local</span>/share/applications/postman.desktop &lt;&lt;<span class="string">EOL</span></span><br></pre></td></tr></table></figure><p>然后输入以下代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[Desktop Entry]</span><br><span class="line">Encoding=UTF-8</span><br><span class="line">Name=Postman</span><br><span class="line">Exec=postman</span><br><span class="line">Icon=/opt/Postman/app/resources/app/assets/icon.png</span><br><span class="line">Terminal=false</span><br><span class="line">Type=Application</span><br><span class="line">Categories=Development;</span><br><span class="line">EOL</span><br></pre></td></tr></table></figure><p>在启动器搜索 Postman 并将其添加到 Dock 栏。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://ywnz.com/linuxjc/3158.html">在Ubuntu18.04系统中Postman的安装、配置及使用</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot使用Thymeleaf模板引擎(四)</title>
      <link href="posts/66045c6e/"/>
      <url>posts/66045c6e/</url>
      
        <content type="html"><![CDATA[<p><strong>模板引擎</strong></p><p><img src="/images/Spring-Boot%E4%BD%BF%E7%94%A8Thymeleaf%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E-%E5%9B%9B/2020-03-17-18-12-33.png" alt="" /></p><p>JSP、Velocity、Freemarker、Thymeleaf</p><p><strong>SpringBoot 推荐 Thymeleaf 模板引擎</strong>，语法更简单，功能更强大；</p><h1 id="引入-thymeleaf"><a class="markdownIt-Anchor" href="#引入-thymeleaf"></a> 引入 thymeleaf</h1><p>在 <code>pom.xml</code> 文件中输入以下内容引入 thymeleaf</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>若要切换 thymeleaf 版本，如 3.0.9，添加以下内容：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thymeleaf.version</span>&gt;</span>3.0.9.RELEASE<span class="tag">&lt;/<span class="name">thymeleaf.version</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 布局功能的支持程序  thymeleaf3主程序  layout2以上版本 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- thymeleaf2   layout1--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thymeleaf-layout-dialect.version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">thymeleaf-layout-dialect.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="thymeleaf-使用"><a class="markdownIt-Anchor" href="#thymeleaf-使用"></a> Thymeleaf 使用</h1><p>只要把 <code>HTML</code> 页面放在 <code>classpath:/templates/</code>，thymeleaf 就能自动渲染；</p><ul><li><p>在 <code>templates</code> 文件夹下创建 <code>success.html</code>，输 <code>！</code> 并回车生成代码，然后输入：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>成功<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>然后在 <code>HelloController.java</code> 中添加该页面的控制器：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/success&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">success</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;   <span class="comment">// templates 中的文件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访问 <code>localhost:8080/success</code> 即可看到渲染的网页。</p></li></ul><h2 id="使用步骤"><a class="markdownIt-Anchor" href="#使用步骤"></a> 使用步骤：</h2><h3 id="导入thymeleaf的名称空间"><a class="markdownIt-Anchor" href="#导入thymeleaf的名称空间"></a> 导入thymeleaf的名称空间</h3><p>在 <code>success.html</code> 文件中修改 <code>&lt;html&gt;</code> 标签：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="使用thymeleaf语法"><a class="markdownIt-Anchor" href="#使用thymeleaf语法"></a> 使用thymeleaf语法</h3><p>在 <code>success.html</code> 文件中修改 <code>&lt;body&gt;</code> 的内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>成功！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--th:text 将div里面的文本内容设置为 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;var&#125;&#125;&quot;</span>&gt;</span>显示欢迎信息<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>模板引擎会将变量 <code>var</code> 的值取出并显示。</p><h2 id="语法规则"><a class="markdownIt-Anchor" href="#语法规则"></a> 语法规则</h2><ol><li><p><code>th:text</code>改变当前元素里面的文本内容；​<code>th：任意html属性</code>替换原生属性的值</p><p><img src="/images/Spring-Boot%E4%BD%BF%E7%94%A8Thymeleaf%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E-%E5%9B%9B/2020-03-17-18-57-24.png" alt="" /></p></li><li><p>表达式</p><ul><li><p>获取变量值 Variable Expressions: <code>$&#123;...&#125;</code></p><p>(1) 获取对象的属性、调用方法</p><p>(2) 使用内置的基本对象：</p><pre><code> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ctx :</span> <span class="string">the</span> <span class="string">context</span> <span class="string">object.</span></span><br><span class="line"><span class="attr">vars:</span> <span class="string">the</span> <span class="string">context</span> <span class="string">variables.</span></span><br><span class="line"><span class="attr">locale :</span> <span class="string">the</span> <span class="string">context</span> <span class="string">locale.</span></span><br><span class="line"><span class="attr">request :</span> <span class="string">(only</span> <span class="string">in</span> <span class="string">Web</span> <span class="string">Contexts)</span> <span class="string">the</span> <span class="string">HttpServletRequest</span> <span class="string">object.</span></span><br><span class="line"><span class="attr">response :</span> <span class="string">(only</span> <span class="string">in</span> <span class="string">Web</span> <span class="string">Contexts)</span> <span class="string">the</span> <span class="string">HttpServletResponse</span> <span class="string">object.</span></span><br><span class="line"><span class="attr">session :</span> <span class="string">(only</span> <span class="string">in</span> <span class="string">Web</span> <span class="string">Contexts)</span> <span class="string">the</span> <span class="string">HttpSession</span> <span class="string">object.</span></span><br><span class="line"><span class="attr">servletContext :</span> <span class="string">(only</span> <span class="string">in</span> <span class="string">Web</span> <span class="string">Contexts)</span> <span class="string">the</span> <span class="string">ServletContext</span> <span class="string">object.</span></span><br></pre></td></tr></table></figure></code></pre><p>(3) 内置的工具对象：</p><pre><code> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">execInfo :</span> <span class="string">information</span> <span class="string">about</span> <span class="string">the</span> <span class="string">template</span> <span class="string">being</span> <span class="string">processed.</span></span><br><span class="line"><span class="attr">messages :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">obtaining</span> <span class="string">externalized</span> <span class="string">messages</span> <span class="string">inside</span> <span class="string">variables</span> <span class="string">expressions,</span> <span class="string">in</span> <span class="string">the</span> <span class="string">same</span> <span class="string">way</span> <span class="string">as</span> <span class="string">they</span> <span class="string">would</span> <span class="string">be</span> <span class="string">obtained</span> <span class="string">using</span> <span class="comment">#&#123;…&#125; syntax.</span></span><br><span class="line"><span class="attr">uris :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">escaping</span> <span class="string">parts</span> <span class="string">of</span> <span class="string">URLs/URIs</span></span><br><span class="line"><span class="attr">conversions :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">executing</span> <span class="string">the</span> <span class="string">configured</span> <span class="string">conversion</span> <span class="string">service</span> <span class="string">(if</span> <span class="string">any).</span></span><br><span class="line"><span class="attr">dates : methods for java.util.Date objects:</span> <span class="string">formatting,</span> <span class="string">component</span> <span class="string">extraction,</span> <span class="string">etc.</span></span><br><span class="line"><span class="attr">calendars :</span> <span class="string">analogous</span> <span class="string">to</span> <span class="comment">#dates , but for java.util.Calendar objects.</span></span><br><span class="line"><span class="attr">numbers :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">formatting</span> <span class="string">numeric</span> <span class="string">objects.</span></span><br><span class="line"><span class="attr">strings : methods for String objects:</span> <span class="string">contains,</span> <span class="string">startsWith,</span> <span class="string">prepending/appending,</span> <span class="string">etc.</span></span><br><span class="line"><span class="attr">objects :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">objects</span> <span class="string">in</span> <span class="string">general.</span></span><br><span class="line"><span class="attr">bools :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">boolean</span> <span class="string">evaluation.</span></span><br><span class="line"><span class="attr">arrays :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">arrays.</span></span><br><span class="line"><span class="attr">lists :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">lists.</span></span><br><span class="line"><span class="attr">sets :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">sets.</span></span><br><span class="line"><span class="attr">maps :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">maps.</span></span><br><span class="line"><span class="attr">aggregates :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">creating</span> <span class="string">aggregates</span> <span class="string">on</span> <span class="string">arrays</span> <span class="string">or</span> <span class="string">collections.</span></span><br><span class="line"><span class="attr">ids :</span> <span class="string">methods</span> <span class="string">for</span> <span class="string">dealing</span> <span class="string">with</span> <span class="string">id</span> <span class="string">attributes</span> <span class="string">that</span> <span class="string">might</span> <span class="string">be</span> <span class="string">repeated</span> <span class="string">(for</span> <span class="string">example,</span> <span class="string">as</span> <span class="string">a</span> <span class="string">result</span> <span class="string">of</span> <span class="string">an</span> <span class="string">iteration).</span></span><br></pre></td></tr></table></figure></code></pre></li><li><p>选择表达式：和${}在功能上是一样 Selection Variable Expressions: <code>*&#123;...&#125;</code></p><p>配合 <code>th:object</code>使用：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:object</span>=<span class="string">&quot;$&#123;session.user&#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Name: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*&#123;firstName&#125;&quot;</span>&gt;</span>Sebastian<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Surname: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*&#123;lastName&#125;&quot;</span>&gt;</span>Pepper<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Nationality: <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:text</span>=<span class="string">&quot;*&#123;nationality&#125;&quot;</span>&gt;</span>Saturn<span class="tag">&lt;/<span class="name">span</span>&gt;</span>.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>获取国际化内容 Message Expressions: <code>#&#123;...&#125;</code></p></li><li><p>定义URL Link URL Expressions: <code>@&#123;...&#125;</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@&#123;/order/process(execId=$&#123;execId&#125;,execType=<span class="string">&#x27;FAST&#x27;</span>)&#125;</span><br></pre></td></tr></table></figure></li><li><p>片段引用表达式 <code>Fragment Expressions: ~&#123;...&#125;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">&quot;~&#123;commons :: main&#125;&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>字面量 Literals:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Text literals: &#x27;one text&#x27; , &#x27;Another one!&#x27; ,…</span><br><span class="line">Number literals: 0 , 34 , 3.0 , 12.3 ,…</span><br><span class="line">Boolean literals: true , false</span><br><span class="line">Null literal: null</span><br><span class="line">Literal tokens: one , sometext , main ,…</span><br></pre></td></tr></table></figure></li><li><p>文本操作 Text operations:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String concatenation: +</span><br><span class="line">Literal substitutions: |The name is $&#123;name&#125;|</span><br></pre></td></tr></table></figure></li><li><p>数学运算 Arithmetic operations:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Binary operators: + , - , * , / , %</span><br><span class="line">Minus sign (unary operator): -</span><br></pre></td></tr></table></figure></li><li><p>布尔运算 Boolean operations:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Binary operators: and , or</span><br><span class="line">Boolean negation (unary operator): ! , not</span><br></pre></td></tr></table></figure></li><li><p>比较运算 Comparisons and equality:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Comparators: &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le )</span><br><span class="line">Equality operators: == , != ( eq , ne )</span><br></pre></td></tr></table></figure></li><li><p>条件运算(三元运算符) Conditional operators:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">If-then: (if) ? (then)</span><br><span class="line">If-then-else: (if) ? (then) : (else)</span><br><span class="line">Default: (value) ?: (defaultvalue)</span><br></pre></td></tr></table></figure></li><li><p>Special tokens:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">No-Operation: _ </span><br></pre></td></tr></table></figure></li></ol><h1 id="实例演示"><a class="markdownIt-Anchor" href="#实例演示"></a> 实例演示：</h1><p>修改 <code>HelloController.java</code> 的 <code>success</code> 控制器：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/success&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">success</span><span class="params">(Map&lt;String, Object&gt; map)</span> </span>&#123;</span><br><span class="line">    map.put(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;&lt;h1&gt;你好&lt;/h1&gt;&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;users&quot;</span>, Arrays.asList(<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;lisi&quot;</span>, <span class="string">&quot;wangwu&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改 <code>success.html</code> 文件的 <code>&lt;body&gt;</code> 中的内容：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>成功<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--th:text 将div里面的文本内容设置为--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div01&quot;</span> <span class="attr">class</span>=<span class="string">&quot;myDiv&quot;</span> <span class="attr">th:id</span>=<span class="string">&quot;$&#123;hello&#125;&quot;</span> <span class="attr">th:class</span>=<span class="string">&quot;$&#123;hello&#125;&quot;</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;hello&#125;&quot;</span>&gt;</span></span><br><span class="line">        显示欢迎信息</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;hello&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">th:utext</span>=<span class="string">&quot;$&#123;hello&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- th:each 每次遍历都会生成当前这个标签: 3 个 h4 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;user&#125;&quot;</span> <span class="attr">th:each</span>=<span class="string">&quot;user:$&#123;users&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">th:each</span>=<span class="string">&quot;user:$&#123;users&#125;&quot;</span>&gt;</span> [[$&#123;user&#125;]]<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>运行结果如下：</p><p><img src="/images/Spring-Boot%E4%BD%BF%E7%94%A8Thymeleaf%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E-%E5%9B%9B/2020-03-17-19-46-52.png" alt="" /></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多Spring Boot教程笔记见<a href="/categories/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-Spring-Boot/">代码开发 - Spring Boot</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.bilibili.com/video/av20965295">尚硅谷SpringBoot顶尖教程(springboot之idea版spring boot)</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码开发 - Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot从HelloWorld开始(三)</title>
      <link href="posts/9fa67ccf/"/>
      <url>posts/9fa67ccf/</url>
      
        <content type="html"><![CDATA[<p>功能：浏览器发送 hello 请求，服务器接受请求并处理，响应 Hello World 字符串。</p><h1 id="创建-maven-工程jar"><a class="markdownIt-Anchor" href="#创建-maven-工程jar"></a> 创建 Maven 工程（jar）</h1><p>按<code>Ctrl + Shift + P</code>，输入 <code>Spring</code>，选择 <code>Spring Initializer: Generate a Maven Project</code>：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-05-16.png" alt="generate" /></p><p>然后选择 <code>java</code>：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-06-12.png" alt="java" /></p><p><code>Group Id</code> 默认；<br /><code>Artifact Id</code> 输入<code>spring-boot-helloworld</code>；<br /><code>Spring Boot version</code> 选择 <code>2.2.x</code>。</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-08-17.png" alt="2.2.4" /></p><p>搜索添加需要的依赖库，鼠标单击可勾选，这里添加以下几个：</p><ul><li>Spring Boot DevTools（代码修改热更新，无需重启）</li><li>Spring Web（集成tomcat、SpringMVC）</li><li>Lombok（智能生成setter、getter、toString等接口，无需手动生成，代码更简洁）</li></ul><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-09-58.png" alt="依赖库" /></p><p>然后弹出目录选择框，选择生成项目的目录位置。生成结束后会在桌面右下角弹出提示，点击<code>open</code>。</p><p>点击右下角加载按钮，等待下载 Maven 依赖：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-26-49.png" alt="加载" /></p><p><strong>注意</strong>：此时可能下载地址并不是阿里云镜像，速度极其缓慢（原因参考<a href="/posts/cea3c7c6/" title="配置了maven的国内镜像后，项目未通过镜像下载">配置了maven的国内镜像后，项目未通过镜像下载</a>）<strong>在 <code>pom.xml</code> 中添加以下内容</strong>：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- pom.xml 添加内容如下 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下载完成后如下图：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-17-29.png" alt="下载完成" /></p><h1 id="代码编写"><a class="markdownIt-Anchor" href="#代码编写"></a> 代码编写</h1><h2 id="目录结构"><a class="markdownIt-Anchor" href="#目录结构"></a> 目录结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">com</span><br><span class="line">└── example</span><br><span class="line">    └── springboothelloworld</span><br><span class="line">        ├── controller</span><br><span class="line">        │   └── helloController.java</span><br><span class="line">        └── DemoApplication.java</span><br></pre></td></tr></table></figure><h2 id="编写主程序"><a class="markdownIt-Anchor" href="#编写主程序"></a> 编写主程序</h2><p>VS Code 已经自动写好主程序，<code>DemoApplication.java</code> 就是程序入口。</p><h2 id="编写-controller"><a class="markdownIt-Anchor" href="#编写-controller"></a> 编写 Controller</h2><p>在同级目录下创建 <code>controller</code> 目录，在其下创建 <code>helloController.java</code>文件(新建文件后输入 <code>class</code> 并选择第二个选项可自动补全，<code>import</code> 文件在编辑文本时也会自动补全):</p><p><img src="/images/Sping-Boot%E4%B8%8EWeb%E5%BC%80%E5%8F%91-%E4%B8%89/autofill.gif" alt="" />）：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springboothelloworld.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * helloController</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">helloController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="运行程序"><a class="markdownIt-Anchor" href="#运行程序"></a> 运行程序</h1><p>回到 <code>DemoApplication.java</code>，按下<code>F5</code>即可运行程序：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-50-53.png" alt="运行程序" /></p><p>浏览器进入<code>127.0.0.1:8080/hello</code>，看到返回 Hello World：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-20-52-56.png" alt="hello" /></p><h1 id="简化部署"><a class="markdownIt-Anchor" href="#简化部署"></a> 简化部署</h1><p>点击左侧 <code>MAVEN PROJECTS</code> 右键 <code>spring-boot-helloworld</code>，选择 <code>package</code> 进行打包：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-21-00-57.png" alt="package" /></p><p>打包后文件保存在 <code>target</code> 文件夹中：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-21-12-50.png" alt="包" /></p><p>进入 <code>target</code> 目录，输入命令 <code>java -jar spring-boot-helloworld-0.0.1-SNAPSHOT.jar</code>，即可直接运行该包：</p><p><img src="/images/Spring-Boot%E4%BB%8EHelloWorld%E5%BC%80%E5%A7%8B-%E4%B8%89/2020-02-26-21-14-58.png" alt="直接运行" /></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多Spring Boot教程笔记见<a href="/categories/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-Spring-Boot/">代码开发 - Spring Boot</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.bilibili.com/video/av20965295">尚硅谷SpringBoot顶尖教程(springboot之idea版spring boot)</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码开发 - Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot环境配置(二)</title>
      <link href="posts/552685ae/"/>
      <url>posts/552685ae/</url>
      
        <content type="html"><![CDATA[<h1 id="环境准备"><a class="markdownIt-Anchor" href="#环境准备"></a> 环境准备</h1><ul><li>jdk 8</li><li>maven 3</li><li>SpringBoot 2</li><li>VS Code</li></ul><h1 id="jdk-8"><a class="markdownIt-Anchor" href="#jdk-8"></a> JDK 8</h1><p><a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html">官方网站</a>下载 JDK 并安装。</p><h2 id="windows-将路径修改为你的-jdk-安装路径"><a class="markdownIt-Anchor" href="#windows-将路径修改为你的-jdk-安装路径"></a> Windows （将路径修改为你的 jdk 安装路径）：</h2><p>右键计算机 -&gt; 属性 -&gt; 高级系统设置 -&gt; 高级 -&gt; 环境变量，设置<code>Path</code> 和 <code>JAVA_HOME</code> 环境变量：</p><p><img src="/images/Spring-Boot%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-%E4%BA%8C/2020-02-26-16-45-47.png" alt="path" /></p><p><img src="/images/Spring-Boot%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-%E4%BA%8C/2020-02-26-16-47-54.png" alt="java_home" /></p><h2 id="ubuntu"><a class="markdownIt-Anchor" href="#ubuntu"></a> Ubuntu:</h2><p>通常自带 JAVA，执行命令 <code>java -version</code>，若版本为 <code>1.8.x</code> 则已有 jdk 8：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openjdk version &quot;1.8.0_242&quot;</span><br></pre></td></tr></table></figure><p>若没有安装 JAVA 或版本不对，则：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install openjdk-8-jdk</span><br></pre></td></tr></table></figure><h2 id="验证安装"><a class="markdownIt-Anchor" href="#验证安装"></a> 验证安装</h2><p>输入命令 <code>java -version</code> 检测是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openjdk version <span class="string">&quot;1.8.0_242&quot;</span></span><br><span class="line">OpenJDK Runtime Environment (build 1.8.0_242-8u242-b08-0ubuntu3~18.04-b08)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)</span><br></pre></td></tr></table></figure><h1 id="maven"><a class="markdownIt-Anchor" href="#maven"></a> Maven</h1><h2 id="windows"><a class="markdownIt-Anchor" href="#windows"></a> Windows：</h2><p><a href="https://maven.apache.org/download.cgi">官方网站</a>下载二进制 <code>zip</code> 文件并解压(<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/">清华镜像站</a>)。</p><p>配置环境变量：</p><p>右键计算机 -&gt; 属性 -&gt; 高级系统设置 -&gt; 高级 -&gt; 环境变量，设置<code>Path</code> 和 <code>MAVEN_HOME</code> 环境变量：</p><p><img src="/images/Spring-Boot%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-%E4%BA%8C/2020-02-26-16-59-00.png" alt="Path" /></p><p><img src="/images/Spring-Boot%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-%E4%BA%8C/2020-02-26-17-01-26.png" alt="MAVEN_HOME" /></p><h2 id="ubuntu-2"><a class="markdownIt-Anchor" href="#ubuntu-2"></a> Ubuntu:</h2><p><a href="https://maven.apache.org/download.cgi">官方网站</a>下载二进制 <code>tar.gz</code> 文件(<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/">清华镜像站</a>)并解压至 <code>/usr/local/maven</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zxvf apache-maven-3.6.3-bin.tar.gz -C /usr/<span class="built_in">local</span></span><br></pre></td></tr></table></figure><p>配置环境变量：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;MAVEN_HOME=/usr/local/apache-maven-3.6.3&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;PATH=\$&#123;PATH&#125;:\$&#123;MAVEN_HOME&#125;/bin&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h2 id="验证安装-2"><a class="markdownIt-Anchor" href="#验证安装-2"></a> 验证安装</h2><p>然后在命令行输入<code>mvn -v</code>检测是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)</span><br><span class="line">Maven home: C:\Program Files\apache-maven-3.6.3\bin\..</span><br><span class="line">Java version: 13.0.2, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jdk-13.0.2</span><br><span class="line">Default locale: zh_CN, platform encoding: GBK</span><br><span class="line">OS name: <span class="string">&quot;windows 10&quot;</span>, version: <span class="string">&quot;10.0&quot;</span>, arch: <span class="string">&quot;amd64&quot;</span>, family: <span class="string">&quot;windows&quot;</span></span><br></pre></td></tr></table></figure><h2 id="仓库换源"><a class="markdownIt-Anchor" href="#仓库换源"></a> 仓库换源</h2><p>配置阿里云仓库：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/images/Spring-Boot%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-%E4%BA%8C/2020-03-25-16-49-35.png" alt="" /></p><h1 id="vs-code"><a class="markdownIt-Anchor" href="#vs-code"></a> VS Code</h1><p>安装插件：</p><ul><li>Java Extension Pack</li><li>Spring Boot Extension Pack</li></ul><p>在配置文件中添加(修改成自己的地址）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">Java</span> <span class="string">Config</span></span><br><span class="line"><span class="attr">&quot;java.home&quot;:</span> <span class="string">&quot;/usr/lib/jvm/java-1.8.0-openjdk-amd64/&quot;</span><span class="string">,</span>   <span class="string">//java</span> <span class="string">jdk地址</span></span><br><span class="line"><span class="attr">&quot;java.configuration.maven.userSettings&quot;:</span> <span class="string">&quot;/usr/local/apache-maven-3.6.3/confsettings.xml&quot;</span><span class="string">,</span>    <span class="string">//mvaen配置文件路径</span></span><br><span class="line"><span class="string">//</span> <span class="string">Maven</span> <span class="string">Config</span></span><br><span class="line"><span class="attr">&quot;maven.executable.path&quot;:</span> <span class="string">&quot;/usr/local/apache-maven-3.6.3/bin/mvn&quot;</span><span class="string">,</span>  <span class="string">//maven命令执行路径</span></span><br><span class="line"><span class="attr">&quot;maven.terminal.useJavaHome&quot;:</span> <span class="literal">true</span><span class="string">,</span></span><br><span class="line"><span class="attr">&quot;maven.terminal.customEnv&quot;:</span> [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;environmentVariable&quot;:</span> <span class="string">&quot;JAVA_HOME&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;value&quot;:</span> <span class="string">&quot;/usr/lib/jvm/java-1.8.0-openjdk-amd64/&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">]<span class="string">,</span></span><br></pre></td></tr></table></figure><p>完成后重新启动 VS Code。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多Spring Boot教程笔记见<a href="/categories/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-Spring-Boot/">代码开发 - Spring Boot</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.bilibili.com/video/av20965295">尚硅谷SpringBoot顶尖教程(springboot之idea版spring boot)</a></p><p><a href="https://blog.csdn.net/shuaigexiaobo/article/details/85280084">JDK介绍与安装</a></p><p><a href="https://blog.csdn.net/qq_36160730/article/details/91579235">Maven windows 安装</a></p><p><a href="https://www.jianshu.com/p/ef859019603d">vs code 安装与配置 springboot</a></p><p><a href="https://blog.csdn.net/qq_29695701/article/details/90705181">Ubuntu安装maven</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码开发 - Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Boot简介(一)</title>
      <link href="posts/f236ae72/"/>
      <url>posts/f236ae72/</url>
      
        <content type="html"><![CDATA[<p>Spring Boot 是由 Pivotal 团队在2013年开始研发、2014年4月发布第一个版本的全新开源的轻量级框架。它基于 Spring4.0 设计，不仅继承了 Spring 框架原有的优秀特性，而且还通过简化配置来进一步<strong>简化了 Spring 应用的整个搭建和开发过程</strong>。另外 Spring Boot 通过集成大量的框架使得依赖包的版本冲突，以及引用的不稳定性等问题得到了很好的解决。</p><p><strong>优点</strong>：</p><ul><li>快速创建独立运行的 Spring 项目以及与主流框架集成</li><li>使用嵌入式的 Servlet 容器，应用无需打成 WAR 包</li><li>starters 自动依赖于版本控制</li><li>大量的自动配置，简化开发，也可修改默认值</li><li>无需配置XML，无代码生成，开箱即用</li><li>准生产环境的的运行时应用监控</li><li>与云计算的天然集成</li></ul><p><strong>缺点</strong>：</p><p>入门容易，精通难</p><h1 id="微服务简介"><a class="markdownIt-Anchor" href="#微服务简介"></a> 微服务简介</h1><p>微服务是一个新兴的<strong>软件架构</strong>，就是<strong>把一个大型的单个应用程序和服务拆分为数十个的支持微服务</strong>。一个微服务的策略可以让工作变得更为简便，它可扩展单个组件而不是整个的应用程序堆栈，从而满足服务等级协议。</p><p>每个功能元素最终都是一个可独立替换和独立升级的软件单元。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多Spring Boot教程笔记见<a href="/categories/%E4%BB%A3%E7%A0%81%E5%BC%80%E5%8F%91-Spring-Boot/">代码开发 - Spring Boot</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.bilibili.com/video/av20965295">尚硅谷SpringBoot顶尖教程(springboot之idea版spring boot)</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码开发 - Spring Boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> Spring Boot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>截取Ubuntu右键菜单截图</title>
      <link href="posts/9edd276c/"/>
      <url>posts/9edd276c/</url>
      
        <content type="html"><![CDATA[<p>搜索并打开 <code>gnome-screenshot</code>，设置延迟 5s，然后点击截图按钮，迅速在目标区域右键，等待截图即可。</p><p><img src="/images/Problem-%E6%88%AA%E5%8F%96Ubuntu%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E6%88%AA%E5%9B%BE/2020-03-18-23-29-19.png" alt="" /></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://ywnz.com/linuxjc/3056.html">Ubuntu 18.04下开启gnome-screenshot截图工具</a></p>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
            <tag> 截图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code新建HTML文件自动补全</title>
      <link href="posts/156d98ff/"/>
      <url>posts/156d98ff/</url>
      
        <content type="html"><![CDATA[<p>新建文件后输入 <code>!</code> 并选择第一项即可自动补全。</p>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> JAVA </tag>
            
            <tag> 自动补全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code新建JAVA类自动补全</title>
      <link href="posts/da966b0f/"/>
      <url>posts/da966b0f/</url>
      
        <content type="html"><![CDATA[<p>新建文件后输入 <code>class</code> 并选择第二个可自动补全，<code>import</code> 文件在编辑文本时也会自动补全):</p><p><img src="/images/Sping-Boot%E4%B8%8EWeb%E5%BC%80%E5%8F%91-%E4%B8%89/autofill.gif" alt="" /></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://github.com/redhat-developer/vscode-java/issues/579">New Class Wizard? #579</a></p>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> JAVA </tag>
            
            <tag> 自动补全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>配置了maven的国内镜像后，项目未通过镜像下载</title>
      <link href="posts/cea3c7c6/"/>
      <url>posts/cea3c7c6/</url>
      
        <content type="html"><![CDATA[<p>本文转载自<a href="https://blog.csdn.net/pkx1993/article/details/86691426">配置了maven的国内镜像后，问题：(https://repo.maven.apache.org/maven2): Not authorized , ReasonPhrase:Authorizatio</a></p><h1 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题：</h1><p>最近学习springboot,从网上导入工程后，都出现maven无法下载相关资源的问题。</p><h1 id="解决思路如下"><a class="markdownIt-Anchor" href="#解决思路如下"></a> 解决思路如下：</h1><ol><li>怀疑是网络限制的原因，故在网上找了相关的解决方案，使用了阿里的云仓库，在maven的settings.xml文件的Mirrors中添加了如下内容：</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 阿里云仓库 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/nexus/content/repositories/central/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 中央仓库1 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo1<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo1.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 中央仓库2 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>repo2<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Human Readable Name for this Mirror.<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo2.maven.org/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>添加完成后，发现部分资源 可以下载了，但仍然有许多资源无法下载，后来参考了https://blog.sonatype.com/using-nexus-3-as-your-repository-part-1-maven-artifacts，发现pom.xml都是继承自super pom，<br />super pom中的有如下内容：</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Central Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo.maven.apache.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Central Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://repo.maven.apache.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">enabled</span>&gt;</span>false<span class="tag">&lt;/<span class="name">enabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshots</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">releases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">updatePolicy</span>&gt;</span>never<span class="tag">&lt;/<span class="name">updatePolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">releases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br></pre></td></tr></table></figure><p>故当maven下载资源时，会优先使用http://repo.maven.apache.org/maven2去下载。</p><p>最终解决方案是在自定义的 <code>pom.xml</code> 中加入如下内容：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://host:port/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://host:port/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br></pre></td></tr></table></figure><p>原作者未提及，作一补充：</p><p>若要修改为阿里源，则在 <code>pom.xml</code> 中添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">pluginRepositories</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginRepository</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">pluginRepositories</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MobaXterm </tag>
            
            <tag> ssh密钥 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu软件推荐</title>
      <link href="posts/5c8dc1d5/"/>
      <url>posts/5c8dc1d5/</url>
      
        <content type="html"><![CDATA[<h1 id="windows-常用软件-linux-版"><a class="markdownIt-Anchor" href="#windows-常用软件-linux-版"></a> Windows 常用软件 Linux 版</h1><h2 id="工具娱乐"><a class="markdownIt-Anchor" href="#工具娱乐"></a> 工具/娱乐</h2><h3 id="微信网页版"><a class="markdownIt-Anchor" href="#微信网页版"></a> 微信网页版</h3><p>因为不想安装 <code>Wine</code> 或 <code>electronic-wechat</code> 等，因此使用网页版微信，虽然不是最好的解决办法，但还是比较优雅的。该方法需要 <a href="#chrome">Chrome</a> 的配合。</p><p>使用 Chrome 打开<a href="https://wx.qq.com">微信网页版</a>，点击右上角菜单，选择 <code>More tools -&gt; Create Shortcut...</code></p><p><img src="/images/Ubuntu%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/2020-03-12-16-47-00.png" alt="" /></p><p>在弹出的通知中勾选 <code>Open as window</code> 然后点击 <code>Create</code>。系统会在桌面生成微信网页版的图标，双击并选择 <code>Trust and Launch</code>：</p><p><img src="/images/Ubuntu%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/2020-03-12-16-52-03.png" alt="" /></p><p>然后固定到 <code>dock</code>即可：</p><p><img src="/images/Ubuntu%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/2020-03-12-16-55-16.png" alt="" /></p><p>我认为效果不输 <code>wine</code> 等软件。</p><h3 id="qq-linux-版"><a class="markdownIt-Anchor" href="#qq-linux-版"></a> QQ Linux 版</h3><p>界面烂透了还得扫码登录，就不能好好做吗？？！但是基础聊天、文件传输等功能没问题。由于我对 Windows 软件依赖不强，且不想装 <code>wine</code>，因此凑和用了。</p><p><a href="https://im.qq.com/linuxqq/download.html">官网下载</a> <code>deb</code> 格式安装包，双击安装即可</p><h3 id="搜狗拼音输入法-linux-版"><a class="markdownIt-Anchor" href="#搜狗拼音输入法-linux-版"></a> 搜狗拼音输入法 Linux 版</h3><p>参考文章 <a href="/posts/69aa783c/" title="Ubuntu 18.04 安装中文输入法">Ubuntu 18.04 安装中文输入法</a></p><h3 id="百度网盘-linux-版"><a class="markdownIt-Anchor" href="#百度网盘-linux-版"></a> 百度网盘 Linux 版</h3><p><a href="https://pan.baidu.com/download">官网下载</a> <code>deb</code> 格式安装包，双击安装即可</p><h3 id="网易云音乐-linux-版"><a class="markdownIt-Anchor" href="#网易云音乐-linux-版"></a> 网易云音乐 Linux 版</h3><p><a href="https://music.163.com/#/download">官网下载</a> <code>deb</code> 格式安装包，双击安装即可</p><h2 id="办公开发"><a class="markdownIt-Anchor" href="#办公开发"></a> 办公/开发</h2><h3 id="v2rayl"><a class="markdownIt-Anchor" href="#v2rayl"></a> V2rayL</h3><p>参考文章 <a href="/posts/b22b8242/" title="Ubuntu 18.04 使用V2ray图形化软件V2rayL加速上网">Ubuntu 18.04 使用V2ray图形化软件V2rayL加速上网</a></p><h3 id="chrome"><a class="markdownIt-Anchor" href="#chrome"></a> Chrome</h3><p>安装 V2rayL 并加速上网成功后：</p><p><strong>Proxychains</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install proxychains</span><br></pre></td></tr></table></figure><p>修改配置 <code>sudo vi /etc/proxychains.conf</code>，注释掉 <code>socks4</code> 行，添加 <code>socks5</code> 行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#socks4   127.0.0.1 9050</span></span><br><span class="line">socks5    127.0.0.1 1080</span><br></pre></td></tr></table></figure><p>在终端执行 <code>proxychains curl www.google.com</code>，查看是否加速成功。</p><p><strong>安装 Chrome</strong>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains firefox www.google.com</span><br></pre></td></tr></table></figure><p>进入浏览器后根据提示下载 <code>chrome</code> 的<code>deb</code>安装包，双击安装即可。</p><p><strong>安装插件 Proxy SwitchyOmega</strong></p><p>用同样的方式启动 <code>Chrome</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains google-chrome</span><br></pre></td></tr></table></figure><p>打开扩展市场：</p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8V2ray%E5%9B%BE%E5%BD%A2%E5%8C%96%E8%BD%AF%E4%BB%B6V2rayL%E5%8A%A0%E9%80%9F%E4%B8%8A%E7%BD%91/2020-03-18-22-02-34.png" alt="" /></p><p>搜索并安装 <code>Proxy SwitchyOmega</code>，扩展添加完成后，根据提示打开配置页，修改 <code>proxy</code> 配置：</p><p><img src="/images/Ubuntu-18-04-%E4%BD%BF%E7%94%A8V2ray%E5%9B%BE%E5%BD%A2%E5%8C%96%E8%BD%AF%E4%BB%B6V2rayL%E5%8A%A0%E9%80%9F%E4%B8%8A%E7%BD%91/2020-03-18-22-07-11.png" alt="" /></p><p>以后使用时按右上角插件切换代理模式即可。</p><p><strong>将网页固定位 APP</strong></p><p>Chrome 可以将任意网页生成为 APP，并固定至 dock，以微信网页版为例，参考小节 <a href="#%E5%BE%AE%E4%BF%A1%E7%BD%91%E9%A1%B5%E7%89%88">微信网页版</a>。</p><h3 id="wps"><a class="markdownIt-Anchor" href="#wps"></a> WPS</h3><p>WPS 对 Linux 的支持很好，<a href="https://wps.cn/product/wpslinux/">官网下载</a><code>deb</code> 格式安装包，双击安装即可</p><h3 id="vs-code"><a class="markdownIt-Anchor" href="#vs-code"></a> VS Code</h3><p><a href="https://code.visualstudio.com/Donload">官网下载</a><code>deb</code> 格式安装包，双击安装即可</p><h3 id="virtual-box"><a class="markdownIt-Anchor" href="#virtual-box"></a> Virtual Box</h3><p><a href="https://www.virtualbox.org/wiki/Linux_Downloads">官网下载</a><code>deb</code> 格式安装包，双击安装即可</p><h3 id="teamviewer-linux-版"><a class="markdownIt-Anchor" href="#teamviewer-linux-版"></a> Teamviewer Linux 版</h3><p><a href="https://www.teamviewer.cn/cn/download/linux/">官网下载</a> <code>deb</code> 格式安装包，双击安装即可</p><h3 id="jetbrains-系列"><a class="markdownIt-Anchor" href="#jetbrains-系列"></a> JetBrains 系列</h3><p>官网下载<a href="https://www.jetbrains.com/zh-cn/toolbox-app/">JetBrains Toolbox</a><code>tar.gz</code>压缩包，解压后双击安装即可</p><p><img src="/images/Ubuntu%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/2020-03-13-15-38-42.png" alt="" /></p><p>然后在 TOOLBOX 中安装旗下软件即可。</p><h3 id="postman"><a class="markdownIt-Anchor" href="#postman"></a> Postman</h3><p>postman是一款功能强大的网页调试和模拟发送HTTP请求的Chrome插件，支持几乎所有类型的HTTP请求，操作简单且方便。</p><p>安装方式参考 <a href="/posts/73127b7d/" title="Ubuntu 18.04 安装Postman">Ubuntu 18.04 安装Postman</a></p><h1 id="linux-软件"><a class="markdownIt-Anchor" href="#linux-软件"></a> Linux 软件</h1><h2 id="截图编辑软件-flameshot"><a class="markdownIt-Anchor" href="#截图编辑软件-flameshot"></a> 截图编辑软件 flameshot</h2><p>参考文章 <a href="/posts/11d2fdcd/" title="Ubuntu 18.04 截图工具-flameshot(转载)">Ubuntu 18.04 截图工具-flameshot(转载)</a></p><p><img src="/images/Ubuntu-18-04-%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7-flameshot-%E8%BD%AC%E8%BD%BD/2020-03-12-15-49-30.png" alt="" /></p><h2 id="dropbox"><a class="markdownIt-Anchor" href="#dropbox"></a> Dropbox</h2><p>注意需要科学上网！</p><p>为了跨平台，因此选择了 Dropbox。免费账户只有 2G，即使刷完邀请也能到 18G，同时还有链接最多 3 个设备的限制，真的是非常小气了。而收费版巨贵无比，好在我个人使用也算够用。</p><p><a href="https://dropbox.com/install?os=lnx">官网下载</a><code>deb</code> 格式安装包，双击安装。安装完成后，因为首次登录需要配置代理，因此先在命令行进行安装(科学上网及 proxychains 提前配置好)：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains /usr/bin/dropbox start -i</span><br></pre></td></tr></table></figure><p>安装完成后链接电脑，然后在 <code>Dropbox Preferences -&gt; Proxies</code> 中设置代理：</p><p><img src="/images/Ubuntu%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/2020-03-12-17-07-15.png" alt="" /></p><p>关闭命令行，重启软件即可。</p><h2 id="mysql"><a class="markdownIt-Anchor" href="#mysql"></a> MySQL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mysql-server</span><br><span class="line">sudo apt install mysql-client</span><br><span class="line">sudo apt install libmysqlclient-dev</span><br></pre></td></tr></table></figure><p>执行命令 <code>sudo netstat -tap |grep mysql</code>，检查是否安装成功：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp     0   0   localhost:mysql     0.0.0.0:*   LISTEN  10165/mysqld</span><br></pre></td></tr></table></figure><p>出现以上行，则代表安装成功。</p><p>登录数据库：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 若 root 账户无密码</span></span><br><span class="line">mysql -uroot</span><br><span class="line"><span class="comment"># 若 root 账户有密码</span></span><br><span class="line">mysql -uroot -p&lt;your_passwd&gt;</span><br></pre></td></tr></table></figure><p>修改数据库账户密码（给 <code>root</code> 本地用户设置密码）</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">set</span> password <span class="keyword">for</span> root<span class="variable">@localhost</span><span class="operator">=</span>password(&quot;111111&quot;);</span><br></pre></td></tr></table></figure><h2 id="dbeaver-数据库管理系统"><a class="markdownIt-Anchor" href="#dbeaver-数据库管理系统"></a> DBeaver 数据库管理系统</h2><p><a href="https://dbeaver.io/download/">官网下载</a><code>deb</code> 格式安装包，双击安装即可</p><h1 id="未完代续"><a class="markdownIt-Anchor" href="#未完代续"></a> 未完代续</h1><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.maketecheasier.com/turn-website-to-app-linux/">How to Turn Any Website into an App on Linux - Make Tech Easier</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 18.04 安装中文输入法</title>
      <link href="posts/69aa783c/"/>
      <url>posts/69aa783c/</url>
      
        <content type="html"><![CDATA[<h1 id="安装-fcitx-和搜狗拼音输入法"><a class="markdownIt-Anchor" href="#安装-fcitx-和搜狗拼音输入法"></a> 安装 fcitx 和搜狗拼音输入法</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install fcitx</span><br></pre></td></tr></table></figure><p><a href="https://pinyin.sogou.com/linux/">官网下载</a>搜狗拼音输入法 <code>deb</code> 格式安装包，双击安装</p><h1 id="安装中文字体"><a class="markdownIt-Anchor" href="#安装中文字体"></a> 安装中文字体</h1><p>进入 <code>Settings -&gt; Region &amp; Language</code>，点击<code>Manage Installed Languages</code>：</p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-16-10-21.png" alt="" /></p><p>根据提示安装语言支持：</p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-16-11-48.png" alt="" /></p><p>选择 <code>fcitx</code>：</p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-16-12-45.png" alt="" /></p><h1 id="配置输入法"><a class="markdownIt-Anchor" href="#配置输入法"></a> 配置输入法</h1><p>打开 <code>Fcitx</code>：</p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-16-15-06.png" alt="" /></p><p>打开配置界面：</p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-16-15-50.png" alt="" /></p><ul><li><p>若已有 <code>Sogou Pinyin</code></p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-17-23-26.png" alt="" /></p><p>继续下一步。</p></li><li><p>若没有 <code>Sogou Pinyin</code></p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-16-18-21.png" alt="" /></p><p>添加输入法，取消掉 <code>Only Show Current Language</code> 复选框，搜索 <code>sogou pinyin</code>(图为我之前安装goole pinyin时的截图，因为不好用所以转搜狗输入法)：</p></li></ul><p>完成后，可以调整各输入法顺序，第一个为默认输入法。</p><p>在 <code>Global Config</code> 界面根据自己的习惯设置切换输入法快捷键，这里我设置为 <code>left shift</code>：</p><p><img src="/images/Ubuntu-18-04-%E5%AE%89%E8%A3%85%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95/2020-03-12-16-20-49.png" alt="" /></p><p><strong>P.S</strong> 首次运行，输入时可能不显示中文，稍等一会就好。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://baijiahao.baidu.com/s?id=1619306801356144376&amp;wfr=spider&amp;for=pc">Ubuntu 18.04 安装中文输入法</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu设置sudo免密码</title>
      <link href="posts/314a888b/"/>
      <url>posts/314a888b/</url>
      
        <content type="html"><![CDATA[<p>编辑 <code>sudo vi /etc/sudoers</code>（如果没有写权限，则 <code>sudo chmod +w /etc/sudoers</code>），添加一行命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username ALL=(ALL:ALL) NOPASSWD:ALL</span><br></pre></td></tr></table></figure><p>添加后效果如下：</p><figure class="highlight plaintext"><figcaption><span>User privilege specification</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root    ALL=(ALL:ALL) ALL</span><br><span class="line"></span><br><span class="line"># Members of the admin group may gain root privileges</span><br><span class="line">%admin ALL=(ALL) ALL</span><br><span class="line"></span><br><span class="line"># Allow members of group sudo to execute any command</span><br><span class="line">%sudo   ALL=(ALL:ALL) ALL</span><br><span class="line">username ALL=(ALL:ALL) NOPASSWD:ALL</span><br></pre></td></tr></table></figure><p>注意将 <code>username</code> 修改为自己的</p><p>注意添加位置，若在靠前的位置添加，可能会被之后的配置覆盖。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu图形界面换源</title>
      <link href="posts/739ef46d/"/>
      <url>posts/739ef46d/</url>
      
        <content type="html"><![CDATA[<p>搜索 <code>Software &amp; Update</code>，并进入：</p><p><img src="/images/Ubuntu%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E6%8D%A2%E6%BA%90/2020-03-12-15-32-18.png" alt="" /></p><p>点击 <code>Download from</code> 右侧的选择按钮：</p><p><img src="/images/Ubuntu%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E6%8D%A2%E6%BA%90/2020-03-12-15-34-06.png" alt="" /></p><p>选择 <code>China</code> 中的阿里源，关闭界面，点击<code>Reload</code>即可：</p><p><img src="/images/Ubuntu%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E6%8D%A2%E6%BA%90/2020-03-12-15-35-19.png" alt="" /></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 18.04 截图工具-flameshot(转载)</title>
      <link href="posts/11d2fdcd/"/>
      <url>posts/11d2fdcd/</url>
      
        <content type="html"><![CDATA[<p>本文转载自<a href="https://www.jianshu.com/p/c37a3483a415">Ubuntu 18.04 截图工具-flameshot</a></p><p>今天发现了一款Ubuntu下很好看的截图工具，功能也很强大，名字叫flameshot<br />具体安装命令如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install flameshot</span><br></pre></td></tr></table></figure><p>启动后，长成这个样子，每一个紫色小圈圈都代表一个功能， 是不是很强大</p><p><img src="/images/Ubuntu-18-04-%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7-flameshot-%E8%BD%AC%E8%BD%BD/2020-03-12-15-49-30.png" alt="" /></p><p>如果觉得每次启动不方便，还可以添加一个快捷键，操作如下：<br />在 设置-设备-键盘-“+”添加一个新的快捷键<br />我定义的名字是shot，快捷键Ctrl+Alt+S（你也可以定义任何快捷键，但最好不要和其他起冲突）</p><p><img src="/images/Ubuntu-18-04-%E6%88%AA%E5%9B%BE%E5%B7%A5%E5%85%B7-flameshot-%E8%BD%AC%E8%BD%BD/2020-03-12-15-50-02.png" alt="" /></p><p>这样以后在写文章的时候，就可以配合一下截图啦！！</p><p><strong>原作者遗漏</strong>：</p><p>设置快捷键时，命令填 <code>flameshot gui</code></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo跨平台同步</title>
      <link href="posts/454ba26/"/>
      <url>posts/454ba26/</url>
      
        <content type="html"><![CDATA[<p>由于使用 Windows 和 Linux 双系统，在加上想令办公电脑和家用电脑均可维护博客，因此需要在不同电脑、不同平台之间同步 Hexo。尝试过直接使用 Onedrive, Dropbox 等云同步平台，但是文件夹中的插件（<code>npm 下载的包</code>）在不同电脑、不同平台并不兼容，因此考虑使用 Git 实现多端同步。</p><h1 id="创建分支"><a class="markdownIt-Anchor" href="#创建分支"></a> 创建分支</h1><h2 id="创建同步分支"><a class="markdownIt-Anchor" href="#创建同步分支"></a> 创建同步分支</h2><p>在 Github/Gitee 网页端进入 Hexo 的部署仓库，当前只有 <code>master</code> 分支。在 <code>branch</code> 界面创建新的分支，分支名自定，我设置为 <code>sync</code>。</p><h2 id="设置默认分支"><a class="markdownIt-Anchor" href="#设置默认分支"></a> 设置默认分支</h2><p>将 <code>sync</code> 分支设置为默认分支，在拉取仓库时即可直接拉取该分支。</p><ul><li><code>sync</code> 分支用于存放博客的源文件</li><li><code>master</code> 分支用于存放生成的静态网页</li></ul><h1 id="上传源文件"><a class="markdownIt-Anchor" href="#上传源文件"></a> 上传源文件</h1><h2 id="创建本地分支"><a class="markdownIt-Anchor" href="#创建本地分支"></a> 创建本地分支</h2><p>在本地创建目录 <code>～/Document/blog</code> 并进入该文件夹，克隆刚才创建的仓库（分支）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@gitee.com:your_name/your_repository.git</span><br></pre></td></tr></table></figure><h2 id="复制源文件"><a class="markdownIt-Anchor" href="#复制源文件"></a> 复制源文件</h2><p>在克隆好的仓库中，输入 <code>git branch</code> 查看当前分支，已经是 <code>sync</code> 分支了。将除 <code>.git</code> 以外的所有文件及文件夹删掉。</p><p>然后将除<code>.deploy_git, node_modules/, public/</code> 外博客源文件全部复制过来。</p><p>修改 <code>.gitignore</code>，如果没有就创建一个，输入以下内容，在 <code>git push</code> 时自动忽略：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br></pre></td></tr></table></figure><p>注意，因为 <code>git</code> 不能嵌套上传，如果在 <code>theme</code> 中有克隆过的主题文件，需要将主题文件夹中的 <code>.git</code> 文件夹删掉。</p><h2 id="push-源文件"><a class="markdownIt-Anchor" href="#push-源文件"></a> push 源文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;add branch&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h1 id="安装相关依赖"><a class="markdownIt-Anchor" href="#安装相关依赖"></a> 安装相关依赖</h1><h2 id="安装-nodejs"><a class="markdownIt-Anchor" href="#安装-nodejs"></a> 安装 Node.js</h2><ul><li><p>Windows</p><ul><li>下载<a href="https://nodejs.org/en/">Node.js</a>并安装</li></ul></li><li><p>Linux</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure></li></ul><p>检查是否安装成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><strong>安装cnpm</strong></p><p>cnpm是淘宝团队做的国内镜像，因为npm的服务器位于国外可能会影响安装。淘宝镜像与官方同步频率目前为 10分钟 一次以保证尽量与官方服务同步。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install cnpm -g --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h2 id="安装hexo"><a class="markdownIt-Anchor" href="#安装hexo"></a> 安装Hexo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>检查是否安装成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><h2 id="安装插件"><a class="markdownIt-Anchor" href="#安装插件"></a> 安装插件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo cnpm install --save</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="部署博客"><a class="markdownIt-Anchor" href="#部署博客"></a> 部署博客</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><h1 id="同步源文件"><a class="markdownIt-Anchor" href="#同步源文件"></a> 同步源文件</h1><ul><li><p>拉取远程分支</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch</span><br><span class="line">git merge</span><br></pre></td></tr></table></figure></li><li><p>编辑博客后，推送分支</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit –m &quot;your commit&quot;</span><br><span class="line">git push </span><br></pre></td></tr></table></figure></li></ul><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.cnblogs.com/shuofxz/p/11736825.html">Hexo多台电脑同步</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客百度谷歌收录</title>
      <link href="posts/3b6da06d/"/>
      <url>posts/3b6da06d/</url>
      
        <content type="html"><![CDATA[<h1 id="百度收录"><a class="markdownIt-Anchor" href="#百度收录"></a> 百度收录</h1><h2 id="添加网站"><a class="markdownIt-Anchor" href="#添加网站"></a> 添加网站</h2><p>登录百度搜索资源平台，然后进入<a href="https://ziyuan.baidu.com/site">站点管理</a>页面，进行身份验证，成功后点击添加网站按钮添加博客网址。</p><ul><li><p>第一步：输入网站地址，如 https://dora_cmon.gitee.io</p></li><li><p>第二步：选择站点属性，最多可选三项，如影视动漫、信息技术等</p></li><li><p>第三步：验证网站的所有权</p></li></ul><h2 id="验证网站的所有权"><a class="markdownIt-Anchor" href="#验证网站的所有权"></a> 验证网站的所有权</h2><p>验证网站有三种方式：文件验证、HTML标签验证、CNAME验证。任选其一即可，Butterfly 主题能够很方便的进行 HTML 标签验证。</p><h3 id="文件验证"><a class="markdownIt-Anchor" href="#文件验证"></a> 文件验证</h3><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-12-55-24.png" alt="" /></p><p>下载百度验证文件，放到 <code>themes/next/source</code> 文件夹下，（因为站点source下面的html文件都会被按照主题样式重新渲染，最后html文件的内容会被改变，百度验证就不能识别。）虽然可以更改html文件让主题不去重新渲染此html文件，但直接放到主题下的 <code>source</code> 文件夹而不去更改文件内容更方便。</p><p><strong>为保持验证通过的状态,成功验证后请不要删除HTML文件</strong></p><h3 id="html标签验证"><a class="markdownIt-Anchor" href="#html标签验证"></a> HTML标签验证</h3><p>将以下代码添加到您的网站首页HTML代码的 <code>&lt;head&gt;</code> 标签与 <code>&lt;/head&gt;</code> 标签之间，完成操作后请点击“验证”按钮。</p><p>‘’'xml</p><meta name="baidu-site-verification" content="c4z6ZbMZ8I" />'''<p><strong>注意</strong>：content这个值每个网站都是不一样的，要替换成你自己网站的值</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;baidu-site-verification&quot;</span> <span class="attr">content</span>=<span class="string">&quot;c4z6ZbMZ8I&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    page contents</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>为保持验证通过的状态,成功验证后请不要删除该标签</strong></p><p>在 Butterfly 主题中，直接配置 <code>butterfly.yml</code> 文件中的 <code>baidu_site_verification</code> 字段为 <code>c4z6ZbMZ8I</code> 即可，非常方便（注意将随机值换成自己的）。</p><h3 id="cname验证"><a class="markdownIt-Anchor" href="#cname验证"></a> CNAME验证</h3><p>CNME验证的方法适用于博客已绑定域名的情况下，将 c4z6ZbMZ8I.dora_cmon.gitee.io 使用 CNAME 解析到 <a href="http://ziyuan.baidu.com">ziyuan.baidu.com</a>，完成操作后请点击“完成验证”按钮。</p><p><strong>为保持验证通过的状态,成功验证后请不要删除该DNS记录</strong></p><h2 id="链接提交"><a class="markdownIt-Anchor" href="#链接提交"></a> 链接提交</h2><p>完成网站所有权验证后就可以向百度提交链接了，找到 <code>数据引入-&gt;链接提交</code> 进入提交页，链接提交分成自动提交和手动提交两种方式。</p><h3 id="自动提交"><a class="markdownIt-Anchor" href="#自动提交"></a> 自动提交</h3><p>自动提交分为三种：</p><ul><li><p><strong>主动推送</strong>：通过主动调用百度提供的接口提交链接</p></li><li><p><strong>自动推送</strong>：在页面被访问时，页面URL将立即被推送给百度</p></li><li><p><strong>sitemap</strong>：sitemap文件里包含站点的所有页面地址，提供给搜索引擎的爬虫爬取</p></li></ul><p><strong>主动推送</strong></p><p>安装插件 <code>sudo cnpm install hexo-baidu-url-submit --save</code></p><p>然后在根目录的配置文件 <code>_config.yml</code> 中新增字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#设置百度主动推送</span></span><br><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">100</span>  <span class="comment">#比如200，代表提交最新的200个链接</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">dora_cmon.gitee.io</span> <span class="comment"># 在百度站长平台中注册的域名，这个改为你自己的域名</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">your_token</span> <span class="comment"># 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidu_urls.txt</span> <span class="comment"># 文本文档的地址， 新链接会保存在此文本文档里，这个默认</span></span><br></pre></td></tr></table></figure><p>token 从站长平台获取：</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-19-16-11-42.png" alt="" /></p><p>再配置 <code>deploy</code> 项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@gitee.com:dora_cmon/dora_cmon.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">type:</span> <span class="string">baidu_url_submitter</span></span><br></pre></td></tr></table></figure><p>在执行 <code>hexo d</code> 时，新的连接会自动向百度推送。</p><p><img src="../images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-19-16-12-55.png" alt="" /></p><p><strong>自动推送</strong></p><p>在 Butterfly 主题中，直接配置 <code>butterfly.yml</code> 文件中的 <code>baidu_push</code> 字段为 <code>true</code> 即可。</p><p>在其他主题中，除以上设置外，还需要进入站点根目录 <code>\themes\next\layout\_scripts</code> 目录，修改 <code>baidu_push.swig</code> 文件为以下内容，若无该文件直接创建一个：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.baidu_push %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> bp = <span class="built_in">document</span>.createElement(<span class="string">&#x27;script&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> curProtocol = <span class="built_in">window</span>.location.protocol.split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (curProtocol === <span class="string">&#x27;https&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">        bp.src = <span class="string">&#x27;https://zz.bdstatic.com/linksubmit/push.js&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">        bp.src = <span class="string">&#x27;http://push.zhanzhang.baidu.com/push.js&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;script&quot;</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">    s.parentNode.insertBefore(bp, s);</span></span><br><span class="line"><span class="javascript">&#125;)();</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>重新编译生成部署即可，这样每次访问一个页面都会主动把这个页面的地址提交给百度。</p><p>访问博客任一页面，然后按F12，切换到Elements，如果看到如下代码说明以上js代码插入成功：</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-13-18-52.png" alt="" /></p><p><strong>sitemap</strong></p><p>安装sitemap生成器插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo cnpm install hexo-generator-sitemap --save</span><br><span class="line">sudo cnpm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p>然后修改站点配置文件 <code>_config.yml</code>，将 <code>url</code> 改成博客的地址：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://dora_cmon.gitee.io</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br></pre></td></tr></table></figure><p>然后在最后添加以下字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自动生成sitemap</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure><p>重新生成部署，会在public目录下生成sitemap.xml、baidusitemap.xml两个文件。</p><p>此时访问域名下的这两个文件（以我为例）：</p><ul><li>https://dora_cmon.gitee.io/baidusitemap.xml</li><li>https://dora_cmon.gitee.io/sitemap.xml</li></ul><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-13-28-21.png" alt="" /></p><p>最后在 <code>自动提交-&gt;sitemap</code> 页面填入sitemap的地址并提交：</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-13-29-35.png" alt="" /></p><h1 id="谷歌收录"><a class="markdownIt-Anchor" href="#谷歌收录"></a> 谷歌收录</h1><p>收录逻辑与百度大同小异，以下做简要记录。</p><p>进入<a href="https://www.google.com/webmasters/tools/home?hl=zh-CN">Google站点提交入口</a>，提交网址：</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-13-36-12.png" alt="" /></p><p>验证网站所有权：</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-13-37-21.png" alt="" /></p><p>若为 Butterfly 主题，修改 <code>butterfly.yml</code> 配置文件中的 <code>google_site_verification</code> 字段即可。</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-13-41-27.png" alt="" /></p><p><strong>链接提交</strong>：</p><ul><li><p>sitemap</p><p>在 <code>站点地图</code> 页面输入之前产生的站点地图链接 <code>sitemap.xml</code>，提交即可：</p></li></ul><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E7%99%BE%E5%BA%A6%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95/2020-03-05-13-43-54.png" alt="" /></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.jianshu.com/p/7d3d87b52ad7">Hexo系列：（四）Hexo博客提交百度和Google收录</a></p><p><a href="https://blog.csdn.net/mqdxiaoxiao/article/details/93378785">Hexo博客百度收录</a></p><p><a href="https://jerryc.me/posts/21cfbf15/#%E7%B6%B2%E7%AB%99%E9%A9%97%E8%AD%89">hexo-theme-butterfly安裝文檔</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> 码云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code配置Latex</title>
      <link href="posts/a7554b7c/"/>
      <url>posts/a7554b7c/</url>
      
        <content type="html"><![CDATA[<h1 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h1><h2 id="安装-texlive"><a class="markdownIt-Anchor" href="#安装-texlive"></a> 安装 texlive</h2><p>打开<a href="https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/Images/">清华镜像网站</a>，下载<code>texlive.iso</code>, 加载到虚拟光驱并以管理员方式运行<code>install-tl-windows.bat</code>，除安装路径自定义外，其余选项皆默认。（安装约30min）</p><h2 id="安装插件latex-workshop"><a class="markdownIt-Anchor" href="#安装插件latex-workshop"></a> 安装插件：LaTeX Workshop</h2><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AELatex/2020-02-21-22-52-17.png" alt="latex_workshop" /></p><h1 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h1><p>按<code>Ctrl+,</code>进入配置界面并按右上角切换到<code>settings.json</code>文件，添加以下内容：</p><h2 id="配置编译引擎程序"><a class="markdownIt-Anchor" href="#配置编译引擎程序"></a> 配置编译引擎程序</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;latex-workshop.latex.tools&quot;</span>: [</span><br><span class="line">    <span class="comment">// 编译工具和命令</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;latexmk&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;latexmk&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;-synctex=1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-interaction=nonstopmode&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-file-line-error&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-pdf&quot;</span>,</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;xelatex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;xelatex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;-synctex=1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-interaction=nonstopmode&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-file-line-error&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-pdf&quot;</span>,</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;-synctex=1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-interaction=nonstopmode&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-file-line-error&quot;</span>,</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p><strong>将 tools 中的 <code>%DOC%</code> 替换成<code>%DOCFILE%</code>可以支持中文路径下的文件。</strong></p><h2 id="配置编译链"><a class="markdownIt-Anchor" href="#配置编译链"></a> 配置编译链</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;latex-workshop.latex.recipes&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;XeLaTeX&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;PDFLaTeX&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;latexmk&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;latexmk&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;BibTeX&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;bibtex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;pdf -&gt; bib -&gt; pdf*2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;xe -&gt; bib -&gt; xe*2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">], </span><br></pre></td></tr></table></figure><h2 id="配置临时文件清理方式"><a class="markdownIt-Anchor" href="#配置临时文件清理方式"></a> 配置临时文件清理方式</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;latex-workshop.latex.autoClean.run&quot;</span>: <span class="string">&quot;onBuilt&quot;</span>,</span><br></pre></td></tr></table></figure><p>设置需清理文件的后缀(<strong>注意不要清理<code>.gz</code>文件，正反向搜索依赖该文件</strong>)</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;latex-workshop.latex.clean.fileTypes&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;*.aux&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.bbl&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.blg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.idx&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.ind&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.lof&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.lot&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.out&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.toc&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.acn&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.acr&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.alg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.glg&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.glo&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.gls&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.ist&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.fls&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.log&quot;</span>,</span><br><span class="line">        <span class="string">&quot;*.fdb_latexmk&quot;</span>,</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure><h2 id="配置自动编译"><a class="markdownIt-Anchor" href="#配置自动编译"></a> 配置自动编译</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;latex-workshop.latex.autoBuild.run&quot;</span>: <span class="string">&quot;never&quot;</span>,</span><br></pre></td></tr></table></figure><p>编译完成后，自动打开PDF并跳转至光标所在行：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;latex-workshop.synctex.afterBuild.enabled&quot;</span>: <span class="literal">true</span>,</span><br></pre></td></tr></table></figure><h2 id="配置pdf浏览方式"><a class="markdownIt-Anchor" href="#配置pdf浏览方式"></a> 配置PDF浏览方式</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// external-外部浏览，tab-内部分栏，browser-浏览器</span></span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.viewer&quot;</span>: <span class="string">&quot;external&quot;</span>,</span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.ref.viewer&quot;</span>:<span class="string">&quot;external&quot;</span>,</span><br><span class="line"><span class="comment">// 当选择外部PDF浏览器时，安装SumatraPDF并设置以下两项</span></span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.viewer.command&quot;</span>: <span class="string">&quot;C:/Program Files/SumatraPDF/SumatraPDF.exe&quot;</span>,    <span class="comment">//SumatraPDF.exe的实际路径</span></span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.viewer.args&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;%PDF%&quot;</span>,  </span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>设置正向、反向跳转：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.synctex.command&quot;</span>: <span class="string">&quot;C:/Program Files/SumatraPDF/SumatraPDF.exe&quot;</span>,  <span class="comment">//SumatraPDF.exe的实际路径</span></span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.synctex.args&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;-forward-search&quot;</span>,</span><br><span class="line">    <span class="string">&quot;%TEX%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;%LINE%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;%PDF%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;-inverse-search&quot;</span>,</span><br><span class="line">    <span class="string">&quot;\&quot;C:/Program Files/Microsoft VS Code/bin/code.cmd\&quot; -g \&quot;%f\&quot;:\&quot;%l\&quot;&quot;</span>, <span class="comment">//修改为你的具体文件路径</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure><h1 id="配置文件内容汇总"><a class="markdownIt-Anchor" href="#配置文件内容汇总"></a> 配置文件内容汇总</h1><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Latex Config */</span></span><br><span class="line"><span class="string">&quot;latex-workshop.latex.tools&quot;</span>: [ </span><br><span class="line">    <span class="comment">// 编译工具和命令</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;latexmk&quot;</span>,         </span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;latexmk&quot;</span>,         </span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;-synctex=1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-interaction=nonstopmode&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-file-line-error&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-pdf&quot;</span>,</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span>         </span><br><span class="line">        ]     </span><br><span class="line">    &#125;,     </span><br><span class="line">    &#123;         </span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;xelatex&quot;</span>,         </span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;xelatex&quot;</span>,         </span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;-synctex=1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-interaction=nonstopmode&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-file-line-error&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-pdf&quot;</span>,</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span>         </span><br><span class="line">        ]     </span><br><span class="line">    &#125;,     </span><br><span class="line">    &#123;         </span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;pdflatex&quot;</span>,         </span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;pdflatex&quot;</span>,         </span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;-synctex=1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-interaction=nonstopmode&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-file-line-error&quot;</span>,</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;%DOCFILE%&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">],</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;latex-workshop.latex.recipes&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;XeLaTeX&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;PDFLaTeX&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;latexmk&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;latexmk&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;BibTeX&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;bibtex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;pdf -&gt; bib -&gt; pdf*2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;pdflatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;xe -&gt; bib -&gt; xe*2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;tools&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;bibtex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span>,</span><br><span class="line">            <span class="string">&quot;xelatex&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">], </span><br><span class="line"></span><br><span class="line"><span class="string">&quot;latex-workshop.latex.autoClean.run&quot;</span>: <span class="string">&quot;onBuilt&quot;</span>,</span><br><span class="line"><span class="string">&quot;latex-workshop.latex.clean.fileTypes&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;*.aux&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.bbl&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.blg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.idx&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.ind&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.lof&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.lot&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.out&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.toc&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.acn&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.acr&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.alg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.glg&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.glo&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.gls&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.ist&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.fls&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.log&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*.fdb_latexmk&quot;</span>,</span><br><span class="line">],</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;latex-workshop.latex.autoBuild.run&quot;</span>: <span class="string">&quot;never&quot;</span>,</span><br><span class="line"><span class="string">&quot;latex-workshop.synctex.afterBuild.enabled&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.viewer&quot;</span>: <span class="string">&quot;external&quot;</span>,</span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.ref.viewer&quot;</span>:<span class="string">&quot;external&quot;</span>,</span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.viewer.command&quot;</span>: <span class="string">&quot;C:/Program Files/SumatraPDF/SumatraPDF.exe&quot;</span>,    <span class="comment">//SumatraPDF.exe的实际路径</span></span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.viewer.args&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;%PDF%&quot;</span>,  </span><br><span class="line">],</span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.synctex.command&quot;</span>: <span class="string">&quot;C:/Program Files/SumatraPDF/SumatraPDF.exe&quot;</span>,  <span class="comment">//SumatraPDF.exe的实际路径</span></span><br><span class="line"><span class="string">&quot;latex-workshop.view.pdf.external.synctex.args&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;-forward-search&quot;</span>,</span><br><span class="line">    <span class="string">&quot;%TEX%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;%LINE%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;%PDF%&quot;</span>,</span><br><span class="line">    <span class="string">&quot;-inverse-search&quot;</span>,</span><br><span class="line">    <span class="string">&quot;\&quot;C:/Program Files/Microsoft VS Code/bin/code.cmd\&quot; -g \&quot;%f\&quot;:\&quot;%l\&quot;&quot;</span>, <span class="comment">//修改为你的具体文件路径</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多VS Code相关配置见<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-VS-Code/">环境搭建 - VS Code</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.jianshu.com/p/8f8da0517a31">Win10 安装 TeXLive 2018 - 简书</a></p><p><a href="https://zhuanlan.zhihu.com/p/38178015">使用VSCode编写LaTeX - 知乎</a></p><p><a href="https://github.com/James-Yu/LaTeX-Workshop/issues/637">Synctex inverse search doesn't work half the time (and How I got forward search to work for SumatraPDF) · Issue #637 · James-Yu/LaTeX-Workshop · GitHub</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> 配置 </tag>
            
            <tag> Latex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>斐讯N1盒子开箱、降级、刷YYF固件全记录(转载)</title>
      <link href="posts/7407c973/"/>
      <url>posts/7407c973/</url>
      
        <content type="html"><![CDATA[<p>本文转载自<a href="https://www.jianshu.com/p/105f12a6cecb">斐讯N1盒子开箱、降级、刷YYF固件全记录</a></p><h1 id="硬件准备"><a class="markdownIt-Anchor" href="#硬件准备"></a> 硬件准备</h1><ol><li><p>盒子+遥控器+刷机线（购于某多）</p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-17-45.png" alt="" /></p></li><li><p>降级恢复线刷功能软件</p><ul><li>官方固件为V2.19的，可直接加电进行线刷；</li><li>官方固件为V2.22需在电脑端运行adb脚本使N1进入线刷模式然后进行线刷；</li><li>官方固件为V2.25版以上的，则需要在电脑执行降级操作之后才能线刷；</li><li>已经刷过YYF固件，可直接加电进行线刷。</li></ul><p>下载链接-百度云</p><p>链接：<a href="https://pan.baidu.com/s/1KBxq4MveOAQ-n4pBOcfrHQ">https://pan.baidu.com/s/1KBxq4MveOAQ-n4pBOcfrHQ</a>     密码：0uxv</p><p>下载后请进行安装，后面会用到此软件的驱动。</p></li><li><p>斐讯盒子N1_YYFROM讯飞语音实用版固件<br />官方网址为 <a href="http://yyfrom.com/cms/">http://yyfrom.com/cms/</a> 因为我卖了T1遥控器，支持语音，所以用的是2019/4/21更新的讯飞语音版，固件大小：521M。</p><p>YYF也有纯净版本，其他的有W大,RUSH大等版本，大家可以自行选择。</p></li></ol><h1 id="降级"><a class="markdownIt-Anchor" href="#降级"></a> 降级</h1><ol><li><p>盒子插网线接入和电脑同一局域网，记下盒子获得的内网IP地址，在主界面使用鼠标点击四次固件版本号打开adb。</p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-18-12.png" alt="" /></p></li><li><p>在电脑端保持目录结构解压 斐讯T1、N1官方系统降级工具.zip，3、电脑端运行 onekey 子目录下的 run.bat ，按提示操作：</p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-18-49.png" alt="" /></p></li></ol><p>实测官方 1.6T57 版本 T1  降级后即可线刷</p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-19-05.png" alt="" /></p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-19-24.png" alt="" /></p><p>盒子重启进入fastboot模式，叮咚一声windows发现新硬件，打开设备管理器观察。自动安装驱动后的硬件设备为 ‘ Android Phone - Android ADB Interface ’。</p><p>这里WIN10系统如果有问题，总是进入recovery模式，可以看我另外一篇文章：</p><p><a href="https://www.jianshu.com/p/87e9813f923f">https://www.jianshu.com/p/87e9813f923f</a></p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-19-34.png" alt="" /></p><h1 id="刷机"><a class="markdownIt-Anchor" href="#刷机"></a> 刷机</h1><p>连接设备，打开USB_Burning_Tool，加载YYF固件包，<strong>去掉“擦除FLASH”和“擦除bootloader”，否则会出错。，切记！！！切记！！！</strong></p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-19-43.png" alt="" /></p><p>开始刷机。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-%E5%88%B7%E6%9C%BA/">折腾造作-刷机</a></p><h1 id="大功告成"><a class="markdownIt-Anchor" href="#大功告成"></a> 大功告成</h1><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-19-58.png" alt="" /></p><p><img src="/images/%E6%96%90%E8%AE%AFN1%E7%9B%92%E5%AD%90%E5%BC%80%E7%AE%B1%E3%80%81%E9%99%8D%E7%BA%A7%E3%80%81%E5%88%B7YYF%E5%9B%BA%E4%BB%B6%E5%85%A8%E8%AE%B0%E5%BD%95-%E8%BD%AC%E8%BD%BD/2020-03-02-13-20-06.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> 折腾造作 - 刷机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 刷机 </tag>
            
            <tag> 斐讯 </tag>
            
            <tag> 盒子 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code配置Spring Boot</title>
      <link href="posts/49760de/"/>
      <url>posts/49760de/</url>
      
        <content type="html"><![CDATA[<h1 id="环境准备"><a class="markdownIt-Anchor" href="#环境准备"></a> 环境准备</h1><ul><li>jdk 13.0.2</li><li>maven 3.6.3</li><li>SpringBoot 1.5.9</li><li>VS Code</li></ul><h2 id="jdk"><a class="markdownIt-Anchor" href="#jdk"></a> JDK</h2><p><a href="https://www.oracle.com/java/technologies/javase-downloads.html">官方网站</a>下载JDK并安装。</p><p>右键计算机 -&gt; 属性 -&gt; 高级系统设置 -&gt; 高级 -&gt; 环境变量，设置<code>Path</code> 和 <code>JAVA_HOME</code> 环境变量：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-16-45-47.png" alt="path" /></p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-16-47-54.png" alt="java_home" /></p><p>然后在命令行输入<code>java --version</code>检测是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java 13.0.2 2020-01-14</span><br><span class="line">Java(TM) SE Runtime Environment (build 13.0.2+8)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 13.0.2+8, mixed mode, sharing)</span><br></pre></td></tr></table></figure><h2 id="maven"><a class="markdownIt-Anchor" href="#maven"></a> Maven</h2><p><a href="https://maven.apache.org/download.cgi">官方网站</a>下载maven并解压。</p><p>右键计算机 -&gt; 属性 -&gt; 高级系统设置 -&gt; 高级 -&gt; 环境变量，设置<code>Path</code> 和 <code>MAVEN_HOME</code> 环境变量：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-16-59-00.png" alt="Path" /></p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-17-01-26.png" alt="MAVEN_HOME" /></p><p>然后在命令行输入<code>mvn -v</code>检测是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)</span><br><span class="line">Maven home: C:\Program Files\apache-maven-3.6.3\bin\..</span><br><span class="line">Java version: 13.0.2, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jdk-13.0.2</span><br><span class="line">Default locale: zh_CN, platform encoding: GBK</span><br><span class="line">OS name: <span class="string">&quot;windows 10&quot;</span>, version: <span class="string">&quot;10.0&quot;</span>, arch: <span class="string">&quot;amd64&quot;</span>, family: <span class="string">&quot;windows&quot;</span></span><br></pre></td></tr></table></figure><p>创建仓库文件夹<code>C:\Program Files\apache-maven-3.6.3\maven-repository</code>并在<code>C:\Program Files\apache-maven-3.6.3\conf\settings.xml</code>中添加仓库地址：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>C:\Program Files\apache-maven-3.6.3\maven-repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-17-14-04.png" alt="仓库地址" /></p><p>然后配置阿里云仓库</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-17-31-04.png" alt="ali" /></p><h1 id="vs-code"><a class="markdownIt-Anchor" href="#vs-code"></a> VS Code</h1><p>安装插件：</p><ul><li>Java Extension Pack</li><li>Maven for Java</li><li>Spring Boot Extension Pack</li></ul><p>在配置文件中添加(修改成自己的地址）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;java.home&quot;</span>: <span class="string">&quot;C:\\Program Files\\Java\\jdk-13.0.2&quot;</span>,   <span class="comment">//java jdk地址</span></span><br><span class="line"><span class="string">&quot;java.configuration.maven.userSettings&quot;</span>: <span class="string">&quot;C:\\Program Files\\apache-maven-3.6.3\\conf\\settings.xml&quot;</span>,    <span class="comment">//mvaen配置文件路径</span></span><br><span class="line"><span class="string">&quot;maven.executable.path&quot;</span>: <span class="string">&quot;C:\\Program Files\\apache-maven-3.6.3\\bin\\mvn.cmd&quot;</span>,  <span class="comment">//maven命令执行路径</span></span><br><span class="line"><span class="string">&quot;maven.terminal.useJavaHome&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;maven.terminal.customEnv&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;environmentVariable&quot;</span>: <span class="string">&quot;JAVA_HOME&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;C:\\Program Files\\Java\\jdk-13.0.2&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>完成后重新启动 VS Code。</p><h1 id="hello-world-项目"><a class="markdownIt-Anchor" href="#hello-world-项目"></a> Hello World 项目</h1><p>功能：浏览器发送 hello 请求，服务器接受请求并处理，响应 Hello World 字符串。</p><h2 id="创建-maven-工程jar"><a class="markdownIt-Anchor" href="#创建-maven-工程jar"></a> 创建 Maven 工程（jar）</h2><p>按<code>Ctrl+Shift+P</code>，输入<code>Spring</code>，选择 <code>Spring Initializer: Generate a Maven Project</code>：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-05-16.png" alt="generate" /></p><p>然后选择 <code>java</code>：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-06-12.png" alt="java" /></p><p><code>Group Id</code> 默认，<code>Artifact Id</code> 输入<code>spring-boot-helloworld</code>默认，<code>Spring Boot version</code> 选择 <code>2.2.4</code>：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-08-17.png" alt="2.2.4" /></p><p>搜索添加需要的依赖库，鼠标单击可勾选，这里添加以下几个：</p><ul><li>Spring Boot DevTools（代码修改热更新，无需重启）</li><li>Spring Web（集成tomcat、SpringMVC）</li><li>Lombok（智能生成setter、getter、toString等接口，无需手动生成，代码更简介）</li></ul><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-09-58.png" alt="依赖库" /></p><p>然后弹出目录选择框，创建<code>helloworld</code>目录并在该目录下生成项目。生成结束后会在右下角弹出提示，点击<code>open</code>。</p><p>打开 <code>src/main/java/com/example/demo/DemoApplication.java</code>文件，并点击右下角加载按钮，等待下载依赖：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-26-49.png" alt="加载" /></p><p>下载可能很慢，完成后如下图：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-17-29.png" alt="下载完成" /></p><h2 id="编写主程序"><a class="markdownIt-Anchor" href="#编写主程序"></a> 编写主程序</h2><p>VS Code 已经自动写好主程序，<code>DemoApplication.java</code>就是程序入口。</p><h2 id="编写相关的controller-service"><a class="markdownIt-Anchor" href="#编写相关的controller-service"></a> 编写相关的Controller, Service</h2><p>在同级目录下创建 <code>controller</code> 目录，在其下创建 <code>helloworldController.java</code>文件（注意将<code>Group Id</code> 和<code>Artifact Id</code>换成自己的）：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-34-26.png" alt="创建文件" /></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.doracmon.springboothelloworld.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">helloworldController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello world!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="运行程序"><a class="markdownIt-Anchor" href="#运行程序"></a> 运行程序</h2><p>回到 <code>DemoApplication.java</code>，点击左侧Debug按钮，然后点击 <code>create a launch.json file</code>：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-47-43.png" alt="launch" /></p><p>自动生成的文件如下，不用修改。</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-48-47.png" alt="生成文件" /></p><p>回到主程序，然后按下<code>F5</code>即可运行程序：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-50-53.png" alt="运行程序" /></p><p>浏览器进入<code>127.0.0.1:8080/hello</code>，看到返回 Hello World：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-20-52-56.png" alt="hello" /></p><h2 id="简化部署"><a class="markdownIt-Anchor" href="#简化部署"></a> 简化部署</h2><p>点击左侧 <code>MAVEN PROJECTS</code> 右键 <code>spring-boot-helloworld</code>，选择 <code>package</code> 进行打包：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-21-00-57.png" alt="package" /></p><p>打包后在 <code>target</code> 文件夹中：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-21-12-50.png" alt="包" /></p><p>进入 <code>target</code> 目录的命令行，输入 <code>java -jar spring-boot-helloworld-0.0.1-SNAPSHOT.jar</code>，即可直接运行该包：</p><p><img src="/images/Spring-Boot%E5%85%A5%E9%97%A8-%E4%B8%80/2020-02-26-21-14-58.png" alt="直接运行" /></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多VS Code相关配置见<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-VS-Code/">环境搭建 - VS Code</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.bilibili.com/video/av20965295">尚硅谷SpringBoot顶尖教程(springboot之idea版spring boot)</a></p><p><a href="https://blog.csdn.net/shuaigexiaobo/article/details/85280084">JDK介绍与安装</a></p><p><a href="https://blog.csdn.net/qq_36160730/article/details/91579235">Maven windows 安装</a></p><p><a href="https://www.jianshu.com/p/ef859019603d">vs code 安装与配置 springboot</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring Boot </tag>
            
            <tag> VS Code </tag>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker修改镜像源</title>
      <link href="posts/cb6da15d/"/>
      <url>posts/cb6da15d/</url>
      
        <content type="html"><![CDATA[<p>安装 docker 后拉取镜像非常慢，尝试更换为中国镜像源，更换多个镜像源后发现阿里源最快。</p><h1 id="获取加速器地址"><a class="markdownIt-Anchor" href="#获取加速器地址"></a> 获取加速器地址</h1><p><a href="https://cr.console.aliyun.com/cn-hangzhou/mirrors">阿里云镜像加速器</a></p><p><a href="/image/Docker%E4%BF%AE%E6%94%B9%E9%95%9C%E5%83%8F%E6%BA%90/%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E5%99%A8.png">镜像加速器</a></p><h1 id="修改配置文件"><a class="markdownIt-Anchor" href="#修改配置文件"></a> 修改配置文件</h1><p>修改配置文件<code>/etc/docker/daemon.json</code>:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://yanc7cda.mirror.aliyuncs.com&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="重载守护进程重启docker"><a class="markdownIt-Anchor" href="#重载守护进程重启docker"></a> 重载守护进程，重启docker</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure><h1 id="查看加速器是否生效"><a class="markdownIt-Anchor" href="#查看加速器是否生效"></a> 查看加速器是否生效</h1><p>输入命令 <code>docker info</code>，如果存在以下字段则表示成功：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">Registry Mirrors:</span></span><br><span class="line"> <span class="string">https://yanc7cda.mirror.aliyuncs.com</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Docker/">环境搭建-Docker</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://cloud.tencent.com/developer/article/1335788">【Docker】更新docker镜像源</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
            <tag> 换源 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10+Ubuntu双系统时钟不一致解决办法</title>
      <link href="posts/710a6b23/"/>
      <url>posts/710a6b23/</url>
      
        <content type="html"><![CDATA[<p>双系统安装完成后，会出现两系统时间不一致的现象。这是因为两系统对CMOS始终的定义不同，可以通过修改Windows注册表解决：</p><p>按<code>Win + R</code>，输入 regedit 打开注册表-&gt;定位到<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\TimeZoneInformation</code>-&gt;新建一个DWORD(32位)值，命名为<code>RealTimeIsUniversal</code>-&gt;赋值为<code>1</code>-&gt;重新同步时间即可。</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%92%9F%E4%B8%8D%E4%B8%80%E8%87%B4%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/2020-02-23-22-56-53.png" alt="注册表Time" /></p><p>如果以上操作后，系统时间还是不一致，尝试在Ubuntu系统中输入命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-local-rtc 1 --adjust-system-clock</span><br></pre></td></tr></table></figure><p>这样，双系统时间应当会保持一致。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
            <tag> 双系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10+Ubuntu双系统搭建</title>
      <link href="posts/ea70757b/"/>
      <url>posts/ea70757b/</url>
      
        <content type="html"><![CDATA[<h1 id="准备工作"><a class="markdownIt-Anchor" href="#准备工作"></a> 准备工作：</h1><p><strong>环境</strong>：已有Win10系统，一块SSD，分割约128G安装Ubuntu 18.0系统。</p><p><strong>工具</strong>：</p><ul><li><a href="https://www.ubuntu.com/download/desktop">Ubuntu 18.0 LTS </a></li><li><a href="https://cn.ultraiso.net/xiazai.html">UltraISO</a></li></ul><h1 id="分割硬盘"><a class="markdownIt-Anchor" href="#分割硬盘"></a> 分割硬盘</h1><p>在此电脑右键，打开 管理-&gt;磁盘管理</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86.png" alt="磁盘管理" /></p><p>磁盘0是要安装双系统的磁盘，<strong>恢复分区</strong>用于Win10还原，<strong>EFI分区</strong>为Win10引导分区，均保留。</p><p>从C盘压缩128G空间，对C盘-&gt;右键-&gt;压缩卷，等待系统查询可压缩空间。这时，很有可能出现可压缩空间远小于实际空闲空间的情况，这是因为文件存储并不是连续的，而压缩空间必须是一段连续的空间。如果出现这种情况，尝试以下解决方案：</p><ul><li><p><strong>法一</strong>：C盘右键-&gt;属性-&gt;工具-&gt;优化-&gt;选择C盘并优化(该方法针对<strong>机械硬盘</strong>)</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E7%B3%BB%E7%BB%9F%E7%A2%8E%E7%89%87%E6%95%B4%E7%90%86.png" alt="系统碎片整理" /></p><p>若为机械硬盘，磁盘整理后应当可以压缩出接近空闲空间的大小。</p></li><li><p><strong>法二</strong>：若磁盘为 SSD 或上述操作无效，可尝试使用 Disk Genius 软件执行压缩卷操作，进入软件后选定C盘，右键-&gt;调整分区大小-&gt;输入合适的大小-&gt;开始-&gt;调整成功后保存更改。</p><p>使用该方法可能提示错误：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/DG%E5%A4%B1%E8%B4%A5.png" alt="DG失败" /></p></li><li><p><strong>法三</strong>：使用 Smart Defrag 整理空闲空间，选择C盘-&gt;智能磁盘整理-&gt;可用空间碎片整理。这一步操作比较耗时！</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%8F%AF%E7%94%A8%E7%A9%BA%E9%97%B4%E7%A2%8E%E7%89%87%E6%95%B4%E7%90%86.png" alt="可用空间碎片整理" /></p><p>下面是整理后的磁盘文件分布：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E7%A2%8E%E7%89%87%E6%95%B4%E7%90%86%E5%AE%8C%E6%88%90.png" alt="碎片整理完成" /></p><p>完成磁盘可用空间整理后，重新进入C盘-&gt;右键-&gt;压缩卷，可压缩空间基本是全部可用空间了。</p><p>输入合适的大小，执行压缩卷操作：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%8E%8B%E7%BC%A9%E5%8D%B7.png" alt="压缩卷" /></p><p>可将最后829MB的分区格式化后合并到新压缩出来的卷中，但不推荐这钟做法。若系统磁盘管理无法删除该分区，可使用Disk Genius删除，选中该分区右键-&gt;删除当前分区-&gt;保存更改，<strong>注意别删错分区</strong>。</p></li></ul><h1 id="安装ubuntu-180系统"><a class="markdownIt-Anchor" href="#安装ubuntu-180系统"></a> 安装Ubuntu 18.0系统</h1><h2 id="制作启动u盘"><a class="markdownIt-Anchor" href="#制作启动u盘"></a> 制作启动U盘</h2><p>使用<a href="https://cn.ultraiso.net/xiazai.html">UltraISO</a>打开<strong>Ubuntu 18.0</strong>镜像文件，启动-&gt;写入硬盘映像-&gt;选择U盘（<strong>注意不要选错</strong>）-&gt;写入(<strong>此举会丢失U盘中所有文件，做好备份</strong>)</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%86%99%E5%85%A5%E7%A1%AC%E7%9B%98%E6%98%A0%E5%83%8F.png" alt="写入硬盘映像" /></p><h2 id="可能需要的操作"><a class="markdownIt-Anchor" href="#可能需要的操作"></a> 可能需要的操作</h2><p>关闭Win10快速启动和Security Boot：</p><ul><li>我安装时并未关闭Win10快速启动，故此步可忽略，若出现问题考虑是否该步造成。</li><li>Security Boot原本就是关闭的（可在BIOS中关闭，方法自寻），故不确定是否必须。</li></ul><h2 id="安装ubuntu系统"><a class="markdownIt-Anchor" href="#安装ubuntu系统"></a> 安装Ubuntu系统</h2><h3 id="修改bios为uefi-only"><a class="markdownIt-Anchor" href="#修改bios为uefi-only"></a> 修改BIOS为UEFI ONLY</h3><p>重新启动电脑，进入BIOS-&gt;Startup-&gt;设置UEFI Only（不同电脑BIOS可能不同）-&gt;按<code>F10</code>保存退出：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/UEFI_ONLY.jpg" alt="UEFI_ONLY" /></p><p>**注意：**如果有<code>Boot device List F12 Option</code>选项则设置为<code>Enabled</code>。</p><h3 id="安装ubuntu"><a class="markdownIt-Anchor" href="#安装ubuntu"></a> 安装Ubuntu</h3><p>在计算机启动过程中按F12，选择从U盘启动（USB HDD）：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%90%AF%E5%8A%A8%E9%80%89%E9%A1%B9.jpg" alt="启动选项" /></p><p>**建议：**安装过程不要联网，不要选安装更新/第三方软件，因为在更换源之前更新下载速度会极慢，可在系统安装好并更改源后再更新。</p><p>进入U盘后选择<code>Install Ubuntu</code>，出现选项则默认继续：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/Install_Ubuntu.jpg" alt="Install_Ubuntu" /></p><p>在安装类型时选<code>安装Ubunt，与Windows Boot Manager共存</code>：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%AE%89%E8%A3%85%E7%B1%BB%E5%9E%8B.jpg" alt="安装类型" /></p><p>点击现在安装后，提示将写入磁盘改动，选择继续：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%86%99%E5%85%A5%E7%A3%81%E7%9B%98%E6%94%B9%E5%8A%A8.jpg" alt="写入磁盘改动" /></p><p>选择时区，一般默认即可（若不为上海/北京，则手动选择）：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E9%80%89%E6%8B%A9%E6%97%B6%E5%8C%BA.jpg" alt="选择时区" /></p><p>接着系统就开始自动安装，Ubuntu 18.0不需要手动设置各分区大小，旧版本可能需要。若安装旧版，可参考博客<a href="https://blog.csdn.net/jky95624/article/details/78785755/">亲测!UEFI启动模式下，电脑安装win10和Ubuntu双系统</a>进行手动分区。</p><p>安装完成后重启即可进入Ubuntu的双系统引导界面，第一个即为启动Ubuntu，第三个为启动Windows。</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%90%AF%E5%8A%A8Ubuntu.jpg" alt="启动Ubuntu" /></p><h2 id="设置默认启动系统"><a class="markdownIt-Anchor" href="#设置默认启动系统"></a> 设置默认启动系统</h2><p>分三种情况：①默认Ubuntu；②默认Win10；。</p><h3 id="默认进入ubuntu系统"><a class="markdownIt-Anchor" href="#默认进入ubuntu系统"></a> 默认进入Ubuntu系统</h3><p>进入BIOS，设置<code>ubuntu</code>为第一项，<code>Windows Boot Manager</code>为第二项即可（<strong>图片非该情况</strong>）：</p><p><img src="/images/Win10-Ubuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA/%E5%BC%95%E5%AF%BC%E9%A1%BA%E5%BA%8F.jpg" alt="引导顺序" /></p><h3 id="默认进入win10系统"><a class="markdownIt-Anchor" href="#默认进入win10系统"></a> 默认进入Win10系统</h3><p>这里有两种设置方式（个人喜欢第二种）：</p><ul><li><p><strong>直接进入Win10引导，进入Ubuntu需按<code>F12</code>再选择系统：</strong></p><p>进入BIOS，修改引导顺序，设置<code>Windows Boot Manager</code>为第一项，<code>ubuntu</code>为第二项；</p><p>电脑在启动时会自动进入Win10系统，如果想要进入Ubuntu系统，则在启动时按<code>F12</code>选择ubuntu系统即可。</p></li><li><p><strong>进入Ubuntu引导，默认选择Windows Boot Manager，进入Ubuntu只需在引导界面按上下键选择即可：</strong></p><p>进入BIOS，设置<code>ubuntu</code>为第一项，<code>Windows Boot Manager</code>为第二项；</p><p>进入Ubuntu系统，编辑<code>/etc/default/grub</code>文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/default/grub</span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改该项</span></span><br><span class="line">GRUB_DEFAULT=2# 更改数字设置默认启动项(0表示第一个，以此类推)</span><br></pre></td></tr></table></figure><p>更新引导（<code>update-grub</code>和<code>update-grub2</code>实际上完全相同）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo update-grub</span><br></pre></td></tr></table></figure><p>这样，电脑在启动时在Ubuntu引导界面停留，若无操作则进入Windows，否则可通过上下键选择系统。</p></li></ul><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多 Ubuntu 相关见<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-Ubuntu/">折腾造作 - Ubuntu</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.cnblogs.com/EasonJim/p/7471650.html">Ubuntu中update-grub2与update-grub的区别</a></p><p><a href="https://www.cnblogs.com/hb91/p/5809710.html">ubuntu更改启动顺序</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> Linux </tag>
            
            <tag> 双系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LAEO-Net revisiting people Looking At Each Other in videos</title>
      <link href="posts/abcef5ad/"/>
      <url>posts/abcef5ad/</url>
      
        <content type="html"><![CDATA[<p>原文连接：<a href="http://openaccess.thecvf.com/content_CVPR_2019/papers/Marin-Jimenez_LAEO-Net_Revisiting_People_Looking_at_Each_Other_in_Videos_CVPR_2019_paper.pdf">http://openaccess.thecvf.com/content_CVPR_2019/papers/Marin-Jimenez_LAEO-Net_Revisiting_People_Looking_at_Each_Other_in_Videos_CVPR_2019_paper.pdf</a></p><h1 id="摘要"><a class="markdownIt-Anchor" href="#摘要"></a> 摘要</h1><p>本文解决了在视频序列中检测人互相看着对方的问题。</p><p>我们提出了LAEO-Net，这是一种用于确定视频中LAEO的新型深层CNN，与之前工作不同的是LAEO-Net将时空轨迹作为输入，并以此解释整体轨迹。 它由三个分支组成，其中两个分支代表角色的头部，另一个分支代表其相对位置。</p><p>此外，我们引入了两个新的LAEO数据集：UCO-LAEO和AVA-LAEO。 实验全面评估证明了LAEO Net确定两个人互相注视的状态及其发生时的帧窗口的能力。 我们的模型在现有的TVHID-LAEO视频数据集上取得了最先进的结果，大大优于以前的方法。</p><p>最后，我们将LAEO-Net应用于社交网络分析，在该分析中，我们根据人们LAEO的频率和持续时间自动推断出两人之间的社会关系。</p><h1 id="引言"><a class="markdownIt-Anchor" href="#引言"></a> 引言</h1><p>眼神交流（相互注视）是两个人之间非语言交流的重要组成部分。 眼神接触的持续时间和频率取决于参与者关系的性质，如吸引或对立关系，并且能反映出参与者之间的力量关系。</p><p>我们提出了一种新的用于确定视频材料中LAEO的深度卷积神经网络（CNN），即LAEO-Net。 先前的研究通常只考虑单个帧，与之不同，我们的方法通过使用时空模型确定在某时间段内两个人物是否互相注视。</p><p>逐帧LAEO的问题在于，当人物眨眼或瞬间移动其头部时，则该帧将被视为非LAEO，这会严重影响一段时间内LAEO测量的准确性。 我们提出的模型考虑了多个帧上的头部轨迹，并根据其头部的姿势和相对位置确定了两个人物在一段时间内是否为LAEO。</p><p><strong>贡献：</strong></p><ul><li><p>引入了一个由三个分支组成的时空LAEO模型，一个分支用于每个角色的跟踪头部，一个分支用于其相对位置，以及一个融合块。</p></li><li><p>第一篇以轨迹为输入并在整体轨迹中解释人物LAEO，而不是仅使用单个帧。</p></li><li><p>引入两个新的数据集：</p><ul><li>（i）UCO-LAEO，由129个（3-12秒）片段组成</li><li>（ii）AVA-LAEO，使用LAEO注释扩展了现有的大规模AVA数据集，用作训练和验证集</li></ul></li><li><p>模型在现有 TVHIDLAEO 数据集上达到了最先进的水平（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">3\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">3</span><span class="mord">%</span></span></span></span>）。</p></li><li><p>通过使用LAEO得分，从电视资料中的人物互动中计算出一个社交网络。</p></li></ul><h1 id="laeo-net"><a class="markdownIt-Anchor" href="#laeo-net"></a> LAEO-Net</h1><p>给定一个视频片段，我们的目标是确定是否有两个人在看着对方（LAEO）。</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-21-22-08-19.png" alt="Structure" /></p><p>LAEO-Net由三个输入分支，一个融合层和一个全连接的层组成，如图2所示。其中两个输入流确定了头的姿势（绿色分支），第三个代表了它们的相对位置和比例 （红色分支）。 融合层将来自三个分支进行嵌入组合，再通过全连接层（蓝色层）预测LAEO分类。 该网络使用时空3D卷积，并可应用于视频剪辑中的头部轨道。</p><ul><li><p><strong>Head-pose 分支</strong>：</p><p>由两个人物分支构成组成，每个分支的输入是一个<code>64×64</code>像素的<code>K</code>帧RGB裁剪张量，包含相同顺序的人物头部。</p><p>每个分支对头部裁剪帧进行编码，其上有<strong>四个3D转换层</strong>，每层后跟一个dropout和一个flatten层（图2中的绿色分支）。 将flatten层的输出进行L2归一化，然后再用于进一步处理。 此分支将编码目标对的每个人的头部序列，从而获得两个嵌入向量。</p><p>每层的设置如下：</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-21-22-20-27.png" alt="setting" /></p></li><li><p><strong>Head-map 分支</strong>：</p><p>该分支使用 Head-map 将两个头部轨迹之间的相对位置随时间嵌入。 特别的，我们定义一个<code>64 X 64</code> 的图来描述所有在<code>K</code> 帧轨道中心检测到的头部的2D高斯图。</p><p>除两个头部外，此分支还为场景中的其他人编码信息。 根据其大小和规模，第三个人可以在两个人物之间切割视线（图3）， 此信息有助于LAEO-Net区分此类情况。</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-21-22-25-28.png" alt="多人" /></p><p>该分支由四个2D转换层组成（表1）。 为了获得head-map的嵌入，我们对最后一个conv层的输出进行整理，并应用L2归一化。</p></li><li><p><strong>融合模块</strong>：</p><p>将不同分支的输出嵌入矢量连接起来，并由一个全连接层和一个交替的loss层（图2中的蓝色层）进行进一步处理。 最后接由两个隐藏单元（即表示非LAEO和LAEO类）组成的Softmax层。</p></li><li><p><strong>LAEO loss 函数</strong>：</p><p>我们使用标准的二分类交叉熵作为损失：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">L</mi><mrow><mi>L</mi><mi>A</mi><mi>E</mi><mi>O</mi></mrow></msub><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mi>c</mi><mo>⋅</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mi>c</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>c</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mi>c</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal L_{LAEO} = -(c \cdot \log(\hat p_c) + (1-c) \cdot \log(1-\hat p_c))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">L</span><span class="mord mathdefault mtight">A</span><span class="mord mathdefault mtight" style="margin-right:0.05764em;">E</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">O</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><p>其中， <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span> 是ground-truth类（0 表示不是 LAEO，1 表示是LAEO），<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mover accent="true"><mi>p</mi><mo>^</mo></mover><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">\hat p_c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">p</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是对于类别 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span> 的预测可能性。</p></li></ul><h1 id="数据集"><a class="markdownIt-Anchor" href="#数据集"></a> 数据集</h1><p>引入两个新的数据集：UCO-LAEO和AVA-LAEO，可用于训练和测试。</p><p>还引入了另外两个数据集：</p><ul><li>AFLW: 用于预训练 head-pose 分支并生成合成数据</li><li>TVHID: 仅用于测试。 新引入的UCO-LAEO和AVALAEO数据集可用于培训和测试LAEO-Net。</li></ul><p>带有注释的新数据集和评估代码可从以下网站在线获得：http//www.robots.ox.ac.uk/~vgg/research/laeonet/</p><h2 id="uco-laeo-数据集"><a class="markdownIt-Anchor" href="#uco-laeo-数据集"></a> UCO-LAEO 数据集</h2><p>由129张（3-12秒长）的片段组成，每个帧中的所有头部都被框选出来，并被标注为LAEO或非LAEO。</p><p><strong>标注设置</strong>：标注所有帧，确定此帧是否包含任何人物对的LAEO。视觉上模棱两可的案例被排除。 我们将100个LAEO片段分为77个训练数据，8个验证数据和15个测试数据。</p><h2 id="ava-laeo-数据集"><a class="markdownIt-Anchor" href="#ava-laeo-数据集"></a> AVA-LAEO 数据集</h2><p>来自“Atomic Visual Actions”数据集（AVA v2.2），AVA帧使用每秒80个原子动作的边界框进行标注（每秒），且不包含LAEO标注； 因此，我们增强了有LAEO标注的子集中bounding-box的标签。</p><p><strong>标注设置</strong>：</p><p>在训练集和验证集中，我们选择带有多个人的帧，并标注为“watch（一个人）”，分别得到40,166和10,631帧。 仅考虑观察者和被观察者都可见的情况（因为被观察者在框架中可能不可见）。</p><p>为了进行标注，我们遵循与UCO-LAEO中相同的过程，即在帧级别为LAEO（非LAEO）或模棱两可的情况下为每对人类边界框进行注释。</p><h2 id="附加数据集"><a class="markdownIt-Anchor" href="#附加数据集"></a> 附加数据集</h2><p><strong>AFLW数据集</strong>。 使用“‘Annotated Facial Landmarks in the Wild”数据集来</p><p>（a）训练head-pose分支</p><p>（b）生成用于训练的合成数据</p><p>图像中，它包含约25,000个从FlickR获得的带标注的面孔，每个面孔都带有一组面部标志。 根据这些标志，可以估算出头部姿势（即偏航角，俯仰角和侧倾角）。 要创建一系列的头部剪裁，我们将输入图像复制K次。 将两个中间副本保持不变，并随机地扰动其他副本，即较小的偏移，缩放和亮度变化。</p><h1 id="训练-laeo-net"><a class="markdownIt-Anchor" href="#训练-laeo-net"></a> 训练 LAEO-Net</h1><h2 id="头部检测及追踪"><a class="markdownIt-Anchor" href="#头部检测及追踪"></a> 头部检测及追踪</h2><ul><li><p><strong>头部检测</strong></p><p>头部检测检测整个头部，包括脸部（如果可见）以及后脑勺。 使用 Single Shot Multi-box Detector（SSD）来训练头部检测器。 以 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>4</mn></mrow></msup></mrow><annotation encoding="application/x-tex">10^{-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span>（前50个epochs）的学习率训练模型，在其余的训练中将其降低0.1倍。 为了提高速度和获得更好的性能，我们使用批处理归一化，并使用数据增强来提高鲁棒性。</p><p>使用“Hollywood heads”数据集训练头像检测器。 它由1120帧的头部标注组成，分为720个训练帧和200个验证和测试帧。 我们首先使用训练集训练检测器，并在验证模型后，在整个数据集上进行训练，以作为提炼阶段。</p></li><li><p><strong>头部追踪</strong></p><p>获得头部检测器后，我们将其沿时间分组到轨迹中。对于构造轨道，我们使用在线链接算法，在所有的头部检测中，我们每帧只保留 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">N = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span> 个最高得分的对象。 如果检测的某帧得分<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>h</mi><mrow><mi>f</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">h_{f + 1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>最高，没有被其他轨道拾取且 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><msubsup><mi>h</mi><mi>f</mi><mi>T</mi></msubsup><mo separator="true">,</mo><msub><mi>h</mi><mrow><mi>f</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo>&gt;</mo><mo>=</mo><mi>τ</mi></mrow><annotation encoding="application/x-tex">ov(h^T_f, h_{f+1}) &gt;= \tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2605469999999999em;vertical-align:-0.4192159999999999em;"></span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-2.4168920000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4192159999999999em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span></span></span></span>（ov 表示重叠的部分），则将轨道 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span> 从帧 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span> 扩展到帧 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">f + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。如果在M个连续的帧中不存在这样的帧，则轨道停止；否则，对头部检测进行插值。 轨道的分数定义为其检测的平均分数。 在给定的帧中，新的轨道从未拾取的头部检测开始。 为了避免轨道上的偏移效果，我们会同时向前和向后跟踪时间。</p></li></ul><h2 id="预训练和-head-pose-分支"><a class="markdownIt-Anchor" href="#预训练和-head-pose-分支"></a> 预训练和 head-pose 分支</h2><p>由于图像分辨率或自遮挡的原因，我们仅根据头部的姿势对注视行为进行建模。</p><p>我们使用三个角度（按信息递减的顺序）对头部方向进行建模：</p><ul><li><p>（a）偏航角，即向右，向左看</p></li><li><p>（b）俯仰角，即向上，向下看</p></li><li><p>（c）横滚角，即平面内旋转</p></li></ul><p>我们使用这样的模型来预训练 head-pose 分支。从预训练中学到的权重，无需进一步调整（冻结权重）。</p><p><strong>head-pose 预训练的损失函数</strong>。 令 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>α</mi><mo separator="true">,</mo><mi>β</mi><mo separator="true">,</mo><mi>γ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\alpha, \beta, \gamma)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05278em;">β</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span></span></span></span> 分别表示偏航，俯仰和滚转角。 定义一个用于估计每个姿势角度的损失：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">L</mi><mi>α</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="script">L</mi><mi>β</mi></msub><mo separator="true">,</mo><msub><mi mathvariant="script">L</mi><mi>γ</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal L_\alpha, \mathcal L_\beta, \mathcal L_\gamma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 并用 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mn>1</mn><mo>−</mo><mi>s</mi><mi>m</mi><mi>o</mi><mi>o</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">L1-smooth</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">L</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord mathdefault">h</span></span></span></span> 损失进行建模。</p><p>鉴于偏航角是主要因素，我们制定了一条规则对偏航角符号的错误估计进行惩罚（如，无法确定人物是向左看还是向右看）：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">L</mi><mi>s</mi></msub><mo>=</mo><mi>max</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mo>−</mo><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mo stretchy="false">(</mo><mover accent="true"><mi>α</mi><mo>^</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathcal L_s = \max(0, -sign(\alpha) \cdot sign(\hat \alpha))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">−</span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">^</span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>g</mi><mi>n</mi><mo stretchy="false">(</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sign(\alpha)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span> 是符号函数（即，对于正输入返回+1，对于负输入返回-1，如果输入为0则返回0）应用于偏航角，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span></span></span></span> 是 ground truth。</p><p>因此，用于训练head-pose分支的损失函数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">L</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal L_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 由下式给出：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi mathvariant="script">L</mi><mi>h</mi></msub><mo>=</mo><msub><mi>ω</mi><mi>α</mi></msub><mo>⋅</mo><msub><mi mathvariant="script">L</mi><mi>α</mi></msub><mo>+</mo><msub><mi>ω</mi><mi>β</mi></msub><mo>⋅</mo><msub><mi mathvariant="script">L</mi><mi>β</mi></msub><mo>+</mo><msub><mi>ω</mi><mi>γ</mi></msub><mo>⋅</mo><msub><mi mathvariant="script">L</mi><mi>γ</mi></msub><mo>+</mo><msub><mi>ω</mi><mi>s</mi></msub><mo>⋅</mo><msub><mi mathvariant="script">L</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">\mathcal L_h = \omega_\alpha \cdot \mathcal L_\alpha + \omega_\beta \cdot \mathcal L_\beta + \omega_\gamma \cdot \mathcal L_\gamma + \omega_s \cdot \mathcal L_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.730558em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.730558em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathcal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>ω</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">\omega_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是在训练过程中通过交叉验证选择的正权重。由于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>ω</mi><mi>α</mi></msub></mrow><annotation encoding="application/x-tex">\omega_\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是决定头部方向的主要因素，我们在实验中使用：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>ω</mi><mi>α</mi></msub><mo>=</mo><mn>0.6</mn><mo separator="true">,</mo><msub><mi>ω</mi><mi>β</mi></msub><mo>=</mo><mn>0.3</mn><mo separator="true">,</mo><msub><mi>ω</mi><mi>γ</mi></msub><mo>=</mo><mn>0.1</mn><mo separator="true">,</mo><msub><mi>ω</mi><mi>s</mi></msub><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">\omega_\alpha= 0.6, \omega_\beta= 0.3,\omega_\gamma= 0.1,\omega_s = 0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9305479999999999em;vertical-align:-0.286108em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05278em;">β</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9305479999999999em;vertical-align:-0.286108em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05556em;">γ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span></span></span></span>。 请注意，权重相加不必等于1。</p><h2 id="训练-laeo-net-2"><a class="markdownIt-Anchor" href="#训练-laeo-net-2"></a> 训练 LAEO-Net</h2><p>我们使用真实和合成数据训练LAEO-Net，同时使用数据增强技术，例如图像扰动，平移，亮度变化，缩放变化等。对于第一个 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">N = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 的epochs，我们仅使用合成数据训练LAEO-Net，然后在接下来的每一步训练中，交替使用真实数据和合成数据。 为了提高模型的性能，我们还使用了 hard negative mining。我们采用了课程学习策略，该策略通过在训练期调节 hard negatives incorporated 的难度来促进学习。 在我们的实验中，超参数 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>τ</mi></mrow><annotation encoding="application/x-tex">\tau</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.1132em;">τ</span></span></span></span> 的值在 2 个 epoch 后增加，随着其值的增加，允许使用难度更大的例子。</p><p><strong>合成数据</strong>。 为了生成其他合成数据，我们使用带有 head-pose 信息的图像。</p><ul><li><p>为了生成正样本，我们选择角度与LAEO相符的头部图像对，同时生成一致的几何信息。</p></li><li><p>为了生成负样本，我们</p><ul><li><p>（i）改变候选对的几何形状，破坏LAEO状态。例如，通过镜像使一个人的头部方向翻转</p></li><li><p>（ii）选择姿势与LAEO不相符的头部图像对，例如两者朝着同一方向看。</p></li></ul></li></ul><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-22-19-46-53.png" alt="生成图像对" /></p><h1 id="实验结果"><a class="markdownIt-Anchor" href="#实验结果"></a> 实验结果</h1><p><strong>实施细节</strong>。LAEO-Net 使用 Keras 实现。 为了训练LAEO-Net，我们使用 Adam 优化器对9个样本进行了mini-batches：4个正例，4个反例和1个不明例。 学习率初始为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>4</mn></mrow></msup></mrow><annotation encoding="application/x-tex">10^{-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span>，当验证集上的 AP 连续 5 次迭代未提高时，学习率降低 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0.2</mn></mrow><annotation encoding="application/x-tex">0.2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span></span></span></span> 倍，最小可调整至 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>8</mn></mrow></msup></mrow><annotation encoding="application/x-tex">10^{-8}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span></span>。 Dropput 设置为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0.5</mn></mrow><annotation encoding="application/x-tex">0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span>。 在将训练好的模型应用于测试集之前，使用最新的学习率，将 UCO-LAE 验证集的样本添加到训练集中，作为几个额外的epoch。</p><h2 id="评估协议和评分方法"><a class="markdownIt-Anchor" href="#评估协议和评分方法"></a> 评估协议和评分方法</h2><p><strong>LAEO分类AP</strong>是我们用来评估LAEO预测的指标。</p><ul><li><p>类似于物体检测，如果其与地面真实框重叠的交点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>I</mi><mi>o</mi><mi>U</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">(IoU)&gt; 0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span>，则检测是正确的。</p></li><li><p>如果两个head-map都正确定位并且其标签（LAEO，非LAEO）正确，则检测到的人物对是正确的。</p></li><li><p>性能用平均精度（AP）衡量，用Precision Recall（PR）曲线下的面积计算。如果标注不可用，则根据有效的 ground truth 标注，在帧级别（将每个人物对对视为独立样本），或镜头级别测量 AP。</p></li></ul><h2 id="合成数据的重要性"><a class="markdownIt-Anchor" href="#合成数据的重要性"></a> 合成数据的重要性</h2><p>使用合成数据可以获得更多训练样本，从而使模型具有更高的可泛化性，同时减少了过度拟合的可能性。</p><p>在 UCO-LAEO 上训练和测试 LAEO-Net 得到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>79.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP  = 79.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">9</span><span class="mord">.</span><span class="mord">5</span><span class="mord">%</span></span></span></span>，若在以下设置下进行训练：</p><ul><li><p>（i）没有合成数据且没有 hard negative mining 的结果 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>64.8</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 64.8\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">6</span><span class="mord">4</span><span class="mord">.</span><span class="mord">8</span><span class="mord">%</span></span></span></span>，即降低<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>14.7</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">14.7\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mord">.</span><span class="mord">7</span><span class="mord">%</span></span></span></span>，</p></li><li><p>（ii）有合成数据但没有 hard negative mining 的结果 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>70.2</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 70.2\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mord">%</span></span></span></span>，即降低 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>9.3</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">9.3\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">9</span><span class="mord">.</span><span class="mord">3</span><span class="mord">%</span></span></span></span> ，</p></li><li><p>（iii）没有合成数据但具有 hard negative mining 的结果 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>71.2</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 71.2\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">1</span><span class="mord">.</span><span class="mord">2</span><span class="mord">%</span></span></span></span>，即降低 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>8.2</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">8.2\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">8</span><span class="mord">.</span><span class="mord">2</span><span class="mord">%</span></span></span></span>，</p></li><li><p>（iv）仅使用合成数据（无真实数据和 hard negative mining）的结果 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>76.9</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 76.9\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">6</span><span class="mord">.</span><span class="mord">9</span><span class="mord">%</span></span></span></span>，即减少 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2.6</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">2.6\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">2</span><span class="mord">.</span><span class="mord">6</span><span class="mord">%</span></span></span></span>，</p></li></ul><p>这些结果表明在训练过程中使用合成数据的意义。</p><h2 id="ablation-study"><a class="markdownIt-Anchor" href="#ablation-study"></a> Ablation study</h2><p>研究体系结构选择的影响，特别是head-map分支和时间窗口 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span> 的长度。</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-22-20-10-48.png" alt="ablation" /></p><p>我们评估不带 head-map 分支的 LAEO-Net，观察到添加 head-map 分支可以改善性能（对于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">K = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>，从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>73.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">73.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">3</span><span class="mord">.</span><span class="mord">5</span><span class="mord">%</span></span></span></span> 提高到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>79.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">79.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">9</span><span class="mord">.</span><span class="mord">5</span><span class="mord">%</span></span></span></span>），它可以学习两个头部之间的空间关系。 此外，要评估使用 K 帧与使用单个帧相比时空窗口的重要性，用不同的 K 训练和评估LAEO-Net，其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>5</mn><mo separator="true">,</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">K = 1,5,10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。表3显示，当K从仅 1 帧增加到 5 帧时，AP 性能有改善（1.2%），而当 K 从 1 到 10 帧增加时，AP 性能有显着提高（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6.8</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">6.8\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">6</span><span class="mord">.</span><span class="mord">8</span><span class="mord">%</span></span></span></span>）。 在这项工作中，我们使用 K = 10 帧。 训练 LAEO-Net 并冻结 head-map 分支的权重会使 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>75.1</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 75.1\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">5</span><span class="mord">.</span><span class="mord">1</span><span class="mord">%</span></span></span></span> 提高至 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>79.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 79.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">9</span><span class="mord">.</span><span class="mord">5</span><span class="mord">%</span></span></span></span>，这表明冻结权重会导致性能改进。</p><p><strong>与替代架构的比较</strong>。  LAEO-Net 的核心分支是 head-pose 分支。 另外，我们使用 head-map 分支来描述轨迹中两个头部轨迹之间随时间的相对位置。 在这里，我们考虑了 head-map 的一种替代方法，即几何信息分支，其中，根据时间的变化，两个头部的相对位置是根据其几何形状进行编码的。</p><p>几何信息分支随时间推移嵌入了两个头部轨迹之间的相对位置（相对于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 标准化参考系统），以及头部轨道的相对比例。 该分支输入是一个元组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>d</mi><mi>x</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mi>y</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mi>r</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(d_x, d_y, s_r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">d_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>y</mi></msub></mrow><annotation encoding="application/x-tex">d_y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 是从左头部 L 到 右头部 R 的向量的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span> 分量，而 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>s</mi><mi>r</mi></msub><mo>=</mo><msub><mi>s</mi><mi>L</mi></msub><mi mathvariant="normal">/</mi><msub><mi>s</mi><mi>R</mi></msub></mrow><annotation encoding="application/x-tex">s_r = s_L / s_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 是两者之间的比例。 编码网络由两个全连接层组成，分别具有64个和16个隐藏单元。 因此，它输出一个16维向量来编码两个目标头部之间的几何关系。</p><p>当我们用几何分支替换 head-map 分支时，对于 UCO-LAEO 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">K = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>，具有几何分支的 LAEO-Net 的分类 AP 比具有 head-map 的 AP 小 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>3</mn><mo>−</mo><mn>5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">3-5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">5</span><span class="mord">%</span></span></span></span>。这与预期相同，即使两个分支都编码相同的信息（即两个头部的相对位置），head-map 分支也提供了更丰富的场景表示，因此结果是更好的 AP。请注意，同时使用 head-map 和几何分支不会导致任何进一步的性能改进，这实际上是两个分支的组合只是增加了网络参数的数量，而没有提供任何其他信息。 因此，我们得出结论，就 AP 性能而言，建议的 LAEO-Net 是最有效的体系结构。</p><h2 id="uco-laeo和ava-laeo的结果"><a class="markdownIt-Anchor" href="#uco-laeo和ava-laeo的结果"></a> UCO-LAEO和AVA-LAEO的结果</h2><p>我们验证了模型 UCO-LAEO 和 AVA-LAEO 数据集上的结果，如表4所示。</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-22-20-53-00.png" alt="ap" /></p><ul><li><p>在 UCO-LAEO 上进行训练和测试时，性能为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>79.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">79.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">9</span><span class="mord">.</span><span class="mord">5</span><span class="mord">%</span></span></span></span>，证明了我们模型的有效性。</p></li><li><p>在 AVA-LAEO 上进行训练和测试时，性能为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>50.6</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">50.6\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mord">%</span></span></span></span>。</p></li></ul><p>结果表明，UCO-LAEO 和 AVA-LAEO 之间的性能存在显着差距。 这是由于与其他数据集相比，AVA-LAEO的性质不同：</p><ul><li><p>（1）未提供头部标注（仅每秒钟人的边界框）</p></li><li><p>（2）包含具有挑战性的视觉概念，例如（a）低分辨率电影，（b）场景中的许多人，（c）模糊，小脑袋和（d）特定的服装风格，尽管存在这些困难，但是 LAEO-Net 在 AVA-LAEO 上仍达到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>50.6</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 50.6\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mord">%</span></span></span></span>。</p></li></ul><p>为了检查 LAEO-Net 对其他数据集的一般性，我们还报告了在使用不同数据集进行训练和测试时的结果，如在 UCO-LAEO 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>77.8</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 77.8\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">7</span><span class="mord">7</span><span class="mord">.</span><span class="mord">8</span><span class="mord">%</span></span></span></span>，在 AVA-LAEO 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>39.1</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 39.1\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">3</span><span class="mord">9</span><span class="mord">.</span><span class="mord">1</span><span class="mord">%</span></span></span></span>。这些结果表明，域移位确实会影响性能，但是同时我们的模型能够推广到其他未见数据集。 为了评估这些数据集的难度和 LAEO-Net 的有效性，我们还将其与 chance level 分类进行了比较，LAEO-Net 大大超过了 chance level：UCO-LAEO 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>+</mo><mn>40</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">+40\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">4</span><span class="mord">0</span><span class="mord">%</span></span></span></span>，AVA-LAEO 为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>+</mo><mn>33</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">+33\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">3</span><span class="mord">3</span><span class="mord">%</span></span></span></span>。</p><p>将 LAEO-Net 应用于 UCO-LAEO 和 AVA-LAEO时，我们得到图6的结果。对于这两个数据集，展示一些排名最高的LAEO人物对。</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-22-21-57-20.png" alt="compare" /></p><p>我们观察到，LAEO-Net 利用头部的方向及其时间一致性，准确地确定 LAEO 所在的帧。</p><h2 id="tvhid-laeo-的结果"><a class="markdownIt-Anchor" href="#tvhid-laeo-的结果"></a> TVHID-LAEO 的结果</h2><p>我们将 LAEO-Net 与 TVHID 上的最新技术进行了比较，即唯一带有 LAEO 标注的视频数据集。 我们使用平均 AP 衡量 TVHID 的两个测试集。 在此数据集上，在 UCO-LAEO 和 AVA-LAEO 上训练的 LAEO-Net 分别实现 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>91.8</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 91.8\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">9</span><span class="mord">1</span><span class="mord">.</span><span class="mord">8</span><span class="mord">%</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>P</mi><mo>=</mo><mn>90.7</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">AP = 90.7\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">9</span><span class="mord">0</span><span class="mord">.</span><span class="mord">7</span><span class="mord">%</span></span></span></span>。 这两个结果都大大优于所有其他方法（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mo>−</mo><mn>3</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">2-3\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">3</span><span class="mord">%</span></span></span></span>）。</p><p>我们将 LAEO-Net 应用到 TVHID 上，并获得图7所示的结果。</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-22-22-09-27.png" alt="tvhid" /></p><p>我们的模型在多种情况和场景下成功检测到人LAEO，例如不同的光照，比例，背景杂乱。 通过检查剩余的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>8</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">8\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">8</span><span class="mord">%</span></span></span></span> 错误，我们注意到在大多数错误下，ground truth 标签是不明确的 （图7中的前两个红色框）。 但是在某些情况下，头部姿势和相对位置不足以模拟 LAEO 情况，因为 LAEO 事件只能通过检查眼睛注视来确定（图7中最后一个红色框）。 我们的方法很难解决这类困难的情况，这些情况通常是通过眼动追踪技术来处理的。可能的扩展可能包括眼动追踪分支。</p><h1 id="社交网络分析朋友关系"><a class="markdownIt-Anchor" href="#社交网络分析朋友关系"></a> 社交网络分析：朋友关系</h1><p>一种确定社交意愿的基本方式是人们是否愿意 LAEO。眼神交流持续的时间和频率反映人与人之间的力量关系，吸引力或对抗性。 我们提出 LAEO-Net 在社交场景中的应用：给定头部轨迹，我们会根据人们 LAEO 随时间变化的频率和持续时间自动推断人与人之间的关系（例如彼此喜欢，浪漫的关系）。 特别的，计算人物 LAEO 的帧数与他们在同一场景的帧之间的比率能够确定其是否为朋友关系。 比率越高，它们之间的交互就越多。</p><p><strong>数据集和过程</strong>。 在本实验中，我们使用电视节目“老友记”的两集（s03ep12和s05ep14）。 首先，检测并跟踪所有头部轨迹，这将导致近 3k 的头部轨迹。 然后，无需进一步训练，在每个轨道对上应用 LAEO-Net 来确定两个人物是否 LAEO。</p><p><strong>人物标注</strong>。 为了确定头部轨迹对应于哪个人物，我们标注所有产生的头部轨迹，以描绘一个主要人物（超过一半的轨道），不相关的人物（约30%），错误的人物（约15%）或一些次要的人物（其余人物）。</p><p><strong>实验与讨论</strong>。 我们的目标是自动了解角色之间的潜在关系。 因此，我们将两个人物之间的“相似度”作为两个人物并存的帧上的平均 LAEO 得分，并描绘出图8（更粗的边缘表示更高的分数和更强的关系）。</p><p><img src="/images/LAEO-Net-revisiting-people-Looking-At-Each-Other-in-videos/2020-02-22-22-21-11.png" alt="朋友关系" /></p><p>我们观察到 LAEO 得分捕获了角色之间的主要关系，例如罗斯和瑞秋与距离较远的角色，例如菲比和钱德勒。 我们的研究揭示了所有显着的配对关系，表明人们越是 LAEO，他们的互动和社会关系就越强。</p><h1 id="结论"><a class="markdownIt-Anchor" href="#结论"></a> 结论</h1><p>在本文中，我们着重介绍了视频中人们彼此注视（LAEO）的问题。 我们提出了 LAEO-Net，这是一种深度跟踪体系结构，该体系结构将头部轨道作为输入并确定轨道中的人是否为 LAEO。 这是首次使用轨道而不是边界框作为输入来推理整个轨道上的人的工作。LAEO-Net 由三个分支组成，一个分支用于跟踪每个角色的头部，另一个分支用于两个头部的相对位置。 此外，我们引入了两个新的 LAEO 视频数据集：UCO-LAEO 和 AVA-LAEO。我们的实验结果表明，LAEO-Net 能够正确检测 LAEO 事件及其发生的时间窗口。我们的模型在 TVHID-LAEO 数据集上实现了最新的结果。 最后，我们通过将模型应用于社会案例场景来证明我们模型的一般性，在该案例中，我们根据两个人的 LAEO 频率自动推断他们之间的社会关系。</p>]]></content>
      
      
      <categories>
          
          <category> 科研学习 - 文献阅读 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 翻译 </tag>
            
            <tag> LAEO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>conda安装opencv-python</title>
      <link href="posts/8f8e3189/"/>
      <url>posts/8f8e3189/</url>
      
        <content type="html"><![CDATA[<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install --channel https://conda.anaconda.org/menpo opencv3</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Anaconda </tag>
            
            <tag> opencv </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code配置Python</title>
      <link href="posts/8c3c2e8/"/>
      <url>posts/8c3c2e8/</url>
      
        <content type="html"><![CDATA[<h1 id="安装-python-插件"><a class="markdownIt-Anchor" href="#安装-python-插件"></a> 安装 Python 插件</h1><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEPython/2020-02-22-22-48-26.png" alt="安装" /></p><h1 id="配置解释器"><a class="markdownIt-Anchor" href="#配置解释器"></a> 配置解释器</h1><p>点击左下角，选择解释器：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEPython/2020-02-22-22-53-57.png" alt="解释器" /></p><h1 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h1><p>右键选择 <code>Run Python File in Terminal</code>，即可运行 Python 文件。</p><h1 id="debug"><a class="markdownIt-Anchor" href="#debug"></a> Debug</h1><p>点击 debug 按钮或按<code>F5</code>即可开始 debug。</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEPython/2020-02-22-22-57-32.png" alt="debug" /></p><h1 id="anaconda-优化"><a class="markdownIt-Anchor" href="#anaconda-优化"></a> Anaconda 优化</h1><p>如果使用 Anaconda 可以安装插件 Anaconda Extension Pack：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEPython/2020-02-22-23-04-39.png" alt="anaconda" /></p><p>该插件大大增强了代码提示功能。原始的代码提示基本只包含了python标准库，有了这个插件之后各种第三方库基本都能实现代码提示了，并且还会额外显示每个方法的帮助。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多VS Code相关配置见<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-VS-Code/">环境搭建 - VS Code</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://zhuanlan.zhihu.com/p/66157046">用 VSCode 愉快地写 Python</a></p><p><a href="https://blog.csdn.net/hnshhshjq/article/details/80140401">用vscode写python的插件推荐</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> 配置 </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客部署至码云</title>
      <link href="posts/a91be4ad/"/>
      <url>posts/a91be4ad/</url>
      
        <content type="html"><![CDATA[<h1 id="创建仓库"><a class="markdownIt-Anchor" href="#创建仓库"></a> 创建仓库</h1><p>在码云上创建一个仓库，设置为公开或私有都可以,仓库名命名为Gitee的个人空间地址名（可以在设置 -&gt; 个人资料 -&gt; 个人空间地址查看）：</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E8%87%B3%E7%A0%81%E4%BA%91/2020-02-22-14-09-40.png" alt="个人空间地址" /></p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E8%87%B3%E7%A0%81%E4%BA%91/2020-02-22-14-18-37.png" alt="新建仓库" /></p><p>部署后就可以通过<code>Gitee个人空间地址名.gitee.io</code>域名访问博客了（不带子目录）；如果仓库名设置为其它，那么访问域名将会是<code>个人空间地址名.gitee.io/仓库名</code>（带子目录）。</p><h1 id="部署"><a class="markdownIt-Anchor" href="#部署"></a> 部署</h1><h2 id="安装插件"><a class="markdownIt-Anchor" href="#安装插件"></a> 安装插件</h2><p>安装部署插件包，在博客根目录打开<code>Git Bash</code>，输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cnpm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h2 id="站点配置文件"><a class="markdownIt-Anchor" href="#站点配置文件"></a> 站点配置文件</h2><p>复制仓库地址，选择https（部署需要账户密码）或ssh（部署不需要密码，但需要先配置ssh key）：</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E8%87%B3%E7%A0%81%E4%BA%91/2020-02-22-14-36-27.png" alt="仓库地址" /></p><p>打开站点配置文件<code>_config.yml</code>，在repo中添上仓库地址，部署分支设置为master：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/dora_cmon/dora_cmon.git</span> <span class="comment">#仓库地址</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span> <span class="comment">#部署分支</span></span><br></pre></td></tr></table></figure><p>如果域名带子目录，那么还需要多一步设置，在站点配置文件中找到如下配置，url设置为你的完整域名，root设置为你的子目录（若将仓库名和个人空间名设置相同，则可跳过该步）。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://github.com/dora_cmon/</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/dora_com</span></span><br></pre></td></tr></table></figure><h2 id="部署博客"><a class="markdownIt-Anchor" href="#部署博客"></a> 部署博客</h2><p>在博客根目录输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>打开博客仓库页面 -&gt; 服务 -&gt; GiteePages服务，首次需要先启动，勾选上Https。每次博客有改动都需要在此页面手动更新一下，等待部署完成后即可打开域名访问。</p><p><img src="/images/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E8%87%B3%E7%A0%81%E4%BA%91/2020-02-22-14-31-20.png" alt="创建page" /></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://gavincrown.gitee.io/2019/09/24/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0GitHub%E5%92%8C%E7%A0%81%E4%BA%91/">Hexo博客部署到GitHub和码云</a></p><p><a href="https://www.jianshu.com/p/5014133ba61a">使用Gitee+Hexo搭建个人博客</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> 码云 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小米路由器青春版刷入Breed教程(转载)</title>
      <link href="posts/e97c1325/"/>
      <url>posts/e97c1325/</url>
      
        <content type="html"><![CDATA[<p>本文转载自<a href="https://www.jianshu.com/p/e4e0a5818c3d">小米路由器青春版刷入Breed教程</a>。工具打包在<a href="https://pan.baidu.com/s/1zo_7w3DD1nXRpv9S0ATsJA">百度网盘</a></p><h1 id="刷回旧版固件开启ssh"><a class="markdownIt-Anchor" href="#刷回旧版固件开启ssh"></a> 刷回旧版固件，开启SSH</h1><p>因小米官方并未开放青春版SSH开启工具，所以必须刷回旧版固件利用BUG获取权限。</p><h2 id="刷入旧版固件"><a class="markdownIt-Anchor" href="#刷入旧版固件"></a> 刷入旧版固件</h2><p>自行下载小米路由器青春版的2.1.22的开发版固件，并按官方教程刷入，并进入路由器设置好密码等一系列操作。</p><h2 id="登录路由管理界面"><a class="markdownIt-Anchor" href="#登录路由管理界面"></a> 登录路由管理界面</h2><p>地址栏输入192.168.31.1，输入账号密码后，浏览器地址栏可以看到类似如下URL</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.31.1/cgi-bin/luci/;stok=351a9142135557c27acdeae2175381f9/web/home<span class="comment">#router </span></span><br></pre></td></tr></table></figure><h2 id="更改root密码"><a class="markdownIt-Anchor" href="#更改root密码"></a> 更改root密码</h2><p>将以上地址URL中的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/web/home<span class="comment">#router</span></span><br></pre></td></tr></table></figure><p>改成</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/api/xqsystem/set_name_password?oldPwd=当前路由的密码&amp;newPwd=新的路由密码</span><br></pre></td></tr></table></figure><p>然后查看网页的返回结果，如果返回的JSON字符串是</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;code&quot;</span>:<span class="number">0</span>&#125;</span><br></pre></td></tr></table></figure><p>就已经成功的更改了root密码了。</p><h2 id="启用路由器telnet登录"><a class="markdownIt-Anchor" href="#启用路由器telnet登录"></a> 启用路由器telnet登录</h2><p>以同样的方式修改网址URL，把</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/web/home<span class="comment">#router</span></span><br></pre></td></tr></table></figure><p>改为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/api/xqnetwork/set_wifi_ap?ssid=xiaomi&amp;encryption=NONE&amp;enctype=NONE&amp;channel=1%3B%2Fusr%2Fsbin%2Ftelnetd</span><br></pre></td></tr></table></figure><p>然后查看返回的JSON数据</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">&quot;msg&quot;</span>:<span class="string">&quot;未能连接到指定WiFi(Probe timeout)&quot;</span>,<span class="attr">&quot;code&quot;</span>:<span class="number">1616</span>&#125;</span><br></pre></td></tr></table></figure><p>返回码有可能不同，但是这里已经可以通过telnet的方式来登录路由器了。</p><h2 id="启用路由器ssh登录"><a class="markdownIt-Anchor" href="#启用路由器ssh登录"></a> 启用路由器SSH登录</h2><p>下载Putty并打开，选填以下参数：连接类型：telnet；主机名称：<code>192.168.31.1</code>；打开后看到login，输入root，密码为刚修改后的新密码。</p><p>登录后依次执行下面的三条指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&quot;:x;N;s/if \[.*\; then\n.*return 0\n.*fi/#tb/;b x&quot;</span> /etc/init.d/dropbear</span><br><span class="line">/etc/init.d/dropbear start</span><br><span class="line">nvram <span class="built_in">set</span> ssh_en=1; nvram commit</span><br></pre></td></tr></table></figure><p>到此SSH已完成开启。</p><h1 id="备份并刷入breed固件"><a class="markdownIt-Anchor" href="#备份并刷入breed固件"></a> 备份并刷入Breed固件</h1><h2 id="备份原厂bin"><a class="markdownIt-Anchor" href="#备份原厂bin"></a> 备份原厂bin</h2><h3 id="putty操作"><a class="markdownIt-Anchor" href="#putty操作"></a> Putty操作</h3><p>打开Putty，按以下选择或填写：主机名：<code>192.168.31.1</code>；端口号22；连接类型：ssh。如有提示点击更新或者确定。弹出窗口输入用户名：root；密码：上面设置的新密码。然后在Putty命令行窗口中输入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/mtd</span><br></pre></td></tr></table></figure><p>可以看到有十个固件和分区，看名字可以知道第一个mtd0固件包含已全部分区的数据（All），第二个是Bootloader。 输入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/mtd0 of=/tmp/all.bin</span><br></pre></td></tr></table></figure><p>这表示备份第一个固件到tmp文件夹的<code>all.bin</code>文件中，如有需要可按对应的方式备份其他分区数据。</p><h3 id="winscp操作"><a class="markdownIt-Anchor" href="#winscp操作"></a> Winscp操作</h3><p>打开Winscp，按以下选择或填写：文件协议：SCP；主机名：<code>192.168.31.1</code>；端口号：22；用户名：root；密码：上面设置的新密码。如有提示点击更新或者确定。进入/tmp文件夹将<code>all.bin</code>文件拷贝出来备份。到此备份操作完成。</p><h2 id="下载并刷入breed"><a class="markdownIt-Anchor" href="#下载并刷入breed"></a> 下载并刷入Breed</h2><h3 id="下载breed"><a class="markdownIt-Anchor" href="#下载breed"></a> 下载Breed</h3><p>Breed发布地址：<a href="http://www.right.com.cn/forum/thread-161906-1-1.html%EF%BC%8C%E8%BF%9B%E5%85%A5%E4%BD%9C%E8%80%85%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80">http://www.right.com.cn/forum/thread-161906-1-1.html，进入作者提供的下载地址</a> <a href="https://breed.hackpascal.net">https://breed.hackpascal.net</a>，选择<code>breed-mt7688-reset38.bin</code>和<code>md5sum.txt</code><br />下载。（注意：下载后一定要校验bin文件的MD5值，将校验结果与<code>md5sum.txt</code>文件中对应bin文件的MD5值比对，如MD5值不符，重新下载并校验）。将<code>breed-mt7688-reset38.bin</code>改名为<code>breed.bin</code>，方便后续操作。</p><h3 id="刷入breed"><a class="markdownIt-Anchor" href="#刷入breed"></a> 刷入Breed</h3><p>通过WinScp把<code>breed.bin</code>传入到<code>/tmp</code>中。然后使用Putty，输入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mtd -r write /tmp/breed.bin Bootloader</span><br></pre></td></tr></table></figure><p>将breed刷入bootloader，刷入成功后按提示重启路由器（注意：breed作者并不推荐此方法）。到此breed固件刷入完毕。</p><h1 id="breed的使用与固件推荐"><a class="markdownIt-Anchor" href="#breed的使用与固件推荐"></a> Breed的使用与固件推荐</h1><h2 id="进入breed控制台"><a class="markdownIt-Anchor" href="#进入breed控制台"></a> 进入breed控制台</h2><p>拔掉路由器电源，使路由关机，用取卡针或者其他尖锐物戳着reset键，然后插上电源，待路由器后方的网络接口灯闪烁时松开reset键即可，然后用一条网线把电脑和路由器的WAN口相连，打开浏览器访问<code>192.168.1.1</code>，即可进入breed控制台。进入后即可开始对路由器进行刷机。</p><h2 id="路由器固件推荐"><a class="markdownIt-Anchor" href="#路由器固件推荐"></a> 路由器固件推荐</h2><p>推荐使用Padavan固件，固件发布地址：<a href="http://www.right.com.cn/forum/thread-161324-1-1.html%EF%BC%88%E6%B3%A8%E6%84%8F%EF%BC%9A%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8%E9%9D%92%E6%98%A5%E7%89%88%E8%AF%B7%E9%80%89%E6%8B%A9MI-NANO%E4%B8%93%E7%89%88%EF%BC%8C%E7%9B%AE%E5%89%8D%E6%9C%80%E6%96%B0%E7%89%88%E5%9B%BA%E4%BB%B6%E5%90%8D%E7%A7%B0%E5%A6%82%E4%B8%8B%EF%BC%9A">http://www.right.com.cn/forum/thread-161324-1-1.html（注意：小米路由器青春版请选择MI-NANO专版，目前最新版固件名称如下：</a><code>MI-NANO_3.4.3.9-099.trx</code>）。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-%E5%88%B7%E6%9C%BA/">折腾造作-刷机</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.jianshu.com/p/e4e0a5818c3d">小米路由器青春版刷入Breed教程 - 简书</a><br /><a href="http://biji.io/2017/4963.html">小米路由器青春版刷华硕固件 – 设计笔记</a></p>]]></content>
      
      
      <categories>
          
          <category> 折腾造作 - 刷机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小米 </tag>
            
            <tag> 路由器 </tag>
            
            <tag> 刷机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Notepad++, Everything, FreeFileSync提高工作效率的三个免费软件神器(转载)</title>
      <link href="posts/e031942d/"/>
      <url>posts/e031942d/</url>
      
        <content type="html"><![CDATA[<p>本文转载自<a href="https://zhuanlan.zhihu.com/p/38942108?utm_source=wechat_session&amp;utm_medium=social&amp;utm_oi=646731722364948480">Notepad++, Everything, FreeFileSync——提高工作效率的三个免费软件神器 - 知乎</a></p><p>还在用windows自带的记事本或写字板编辑文本文档？</p><p>还在用window自带的搜索服务查找文件？</p><p>还在手动备份重要数据和资料？</p><p>如果你对以上三个问题中任何一个的回答是“是”的话，我建议你看完下面的内容。</p><p>我会简单的介绍三个十分有用的免费软件，保证能提高你的办公室工作效率，为你节约出大量的时间用来刷知乎。</p><p>注：前方多图，非wifi读者注意避让。</p><p>一、Notepad++</p><p>这是一个免费但强大的文本编辑工具，只要用过一次，你就再也不会想打开windows自带记事本或写字板了。而且整个软件十分小巧，安装包才4M多。</p><p>官方下载连链接：<a href="https://notepad-plus-plus.org/download">Notepad++ v7.5.7 - Current Version</a>，下载最新版的installer，双击，无脑下一步就行。</p><p>安装完成后，应该会自动在右键菜单添加一个“edit with notepad++”选项，可以用于打开任何纯文本文档：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-25-49.png" alt="右键" /></p><p>打开后的界面是这样子的，支持常见的程序语言格式（包括latex)、代码高亮、自动补全等功能，建议在 设置-首选项-文件关联 中关联自己常用的文件格式：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-26-08.png" alt="关联文件格式" /></p><p>可以同时打开多个文件，并且ctrl+shift+s批量保存文件，拖拽文件标签可以打开双视图模式</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-26-36.png" alt="双视图" /></p><p>支持多文件批量查找、计数、替换，并且支持正则表达式：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-27-06.png" alt="批量操作" /></p><p>按住alt键再拉光标，可以进行多行的列编辑（编辑规律的数据超好用有没有）：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-27-21.png" alt="多行编辑" /></p><p>二、Everything</p><p>这是一个文件搜索软件。比windows资源管理器自带的搜索功能上强大很多，而且搜索速度非常快，除第一次需要初始化之外，不管文件夹多大几乎每次搜索都是秒出结果。</p><p>官方下载连链接：<a href="https://www.voidtools.com/downloads/">Downloads - voidtools</a> 。软件同样很小巧，installer只有1M多，下载双击后，无脑下一步就行。</p><p>安装好，运行，建议在 工具-选项-常规 里把“集成到资源管理器右键菜单”勾选并应用。</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-27-46.png" alt="集成右键" /></p><p>这样，在任意文件夹里点击右键，会出现搜索Everything选项：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-28-06.png" alt="右键" /></p><p>点击后，就能在当前目录及所有子目录下搜索文件，例如输入.txt，就能搜索所有txt格式的文件，多个关键字用空格（逻辑与）或“|”字符（逻辑或）分离：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-28-25.png" alt="多关键字" /></p><p>支持区分大小写、匹配文件路径、正则表达式、按文件类型搜索：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-29-15.png" alt="高级搜索" /></p><p>支持高级搜索：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-29-37.png" alt="高级搜索" /></p><p>搜索处理大量文本时，配合Notepad++食用味道更佳：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-29-57.png" alt="配合" /></p><p>选择上图中的“复制完整路径和文件名”，可以批量输出文件路径，创建文件地址数据库，方便用python等文本处理脚本批量调用。</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-30-18.png" alt="批量调用" /></p><p>三、FreeFileSync</p><p>自从隔壁实验室同学因为火灾把电脑烧毁导致延期毕业后，我所有的重要数据都是本地一份，同步盘随时同步一份（国内可以用 onedirve 或者 坚果云），移动硬盘每天定时同步一份。</p><p>FreeFileSync就是用于本地自动备份和同步文件的软件，大部分功能免费。</p><p>官方下载连链接：<a href="https://freefilesync.org/download.php">FreeFileSync</a> 。下载运行安装后，界面如下。看起来稍微有点复杂，但只需要设置一次，保存成批处理程序以后自动执行即可：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-32-02.png" alt="设置" /></p><p>首先把你的所有需要备份的重要数据整理到一个文件夹内，把这个文件夹地址输入到上图左边的路径框中。在创建一个存放备份文件的文件夹（建议放在另一个硬盘，通过物理隔离保护数据），地址输入到右边的路径框。</p><p>然后点击“比较设置”，选择“文件时间和大小”，也就是根据文件的修改时间和大小，来判断文件是否和备份文件夹中的一致，从而判断是否需要更新备份。</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-32-22.png" alt="判断规则" /></p><p>再点击“同步设置”，选择镜像。这样一来，任何对重要数据文件夹的修改都会同步到你的备份文件夹中。</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-32-39.png" alt="同步设置" /></p><p>然后点击“另存为批处理程序”，点击另存为，得到一个xxx.ffs_batch文件。</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-32-58.png" alt="另存为" /></p><p>以后，只要双击运行这个xxx.ffs_batch文件，程序就会自动同步并备份你的数据了。是不是很方便很省心？告诉你，还有更省心的。使用windows自带的“计划任务”功能，可以定时自动执行xxx.ffs_batch程序，从而完全不用你管自动备份你的重要数据。</p><p>用WIN10的Cortana搜索并打开“计划任务”（非WIN10系统在控制面板里搜）。点击创建基本任务：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-33-19.png" alt="创建基本任务" /></p><p>名称随便输一个（如Backup），点击下一步：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-33-40.png" alt="触发器" /></p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-33-57.png" alt="触发事件" /></p><p>设置每天自动运行的时间，建议设置成电脑一定会开机的时间段。点击下一步：</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-34-11.png" alt="操作" /></p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-34-23.png" alt="启动程序" /></p><p>操作选择“启动程序”，路径框里选择刚才得到的xxx.ffs_batch脚本，点击下一步，完成即可。这样，系统就会每天定时备份你的文件了。</p><p><img src="/images/Notepad-Everything-FreeFileSync%E6%8F%90%E9%AB%98%E5%B7%A5%E4%BD%9C%E6%95%88%E7%8E%87%E7%9A%84%E4%B8%89%E4%B8%AA%E5%85%8D%E8%B4%B9%E8%BD%AF%E4%BB%B6%E7%A5%9E%E5%99%A8%EF%BC%88%E8%BD%AC%E8%BD%BD%EF%BC%89/2020-02-20-10-34-40.png" alt="设置完成" /></p><p>从此，妈妈再也不用担心我的数据丢失了。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7/">软件工具</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Notepad++ </tag>
            
            <tag> Everything </tag>
            
            <tag> FreeFileSync </tag>
            
            <tag> 转载 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>斐讯K2路由器硬刷救砖</title>
      <link href="posts/37c9dfc0/"/>
      <url>posts/37c9dfc0/</url>
      
        <content type="html"><![CDATA[<p>由于刷错Breed导致路由器变砖，通过编程器救回来了，总成本约30元。</p><h1 id="准备工作"><a class="markdownIt-Anchor" href="#准备工作"></a> 准备工作</h1><p><strong>硬件</strong>：淘宝购买即可</p><ul><li>变砖的K2路由器（变砖前备份过eeprom，我提供了自己的eeprom但不保证适用于其他设备）</li><li>CH341A编程器（15元左右）</li><li>SOP8夹子线（15元左右）</li></ul><p><strong>软件</strong>：<a href="https://pan.baidu.com/s/1XtbxTPZCOr8M_lMqJlJjaA">百度网盘</a>, 提取码：pwbv</p><ul><li>编程器驱动</li><li>CH341A编程器软件</li><li>K2路由器breed</li><li>PandoraBox K2固件</li></ul><h1 id="硬操作"><a class="markdownIt-Anchor" href="#硬操作"></a> 硬操作</h1><h2 id="路由拆顶盖"><a class="markdownIt-Anchor" href="#路由拆顶盖"></a> 路由拆顶盖</h2><p>后盖封条处两侧有两颗螺丝，拆掉：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-18-25-22.png" alt="后盖" /></p><p>然后用卡片沿顶盖缝隙撬开取下顶盖：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-18-31-52.png" alt="拆开" /></p><p>flash芯片就是图中的小不点。</p><h2 id="连接ch341编程器"><a class="markdownIt-Anchor" href="#连接ch341编程器"></a> 连接CH341编程器</h2><p>编程器背面可以看到24，25两个区域，我们要使用25区域：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-18-34-24.png" alt="ch341" /></p><p>按照下图连接板子，USB口朝左，1 引脚在右上角：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-17-53.png" alt="ch341正面" /></p><p>然后用SOP8夹子将编程器和路由器flash芯片连接起来，芯片有很小的4，5标注，顺着线将4，5一侧和编程器板子上的4，5一侧对应：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-58-25.png" alt="45引脚" /></p><p>将编程器插入电脑，编程器和路由器均会亮红灯（注意亮灯不一定接触良好，还需要再软件中检测）：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-22-34.png" alt="连接" /></p><h1 id="软件操作"><a class="markdownIt-Anchor" href="#软件操作"></a> 软件操作</h1><h2 id="安装驱动"><a class="markdownIt-Anchor" href="#安装驱动"></a> 安装驱动</h2><p>插入编程器并安装驱动，若安装失败尝试禁用驱动程序强制签名，具体方法参考<a href="https://jingyan.baidu.com/article/624e74594dbc8d34e8ba5aa6.html">Win10怎么禁用驱动程序强制签名</a>。</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-26-44.png" alt="安装驱动" /></p><h2 id="给flash芯片编程"><a class="markdownIt-Anchor" href="#给flash芯片编程"></a> 给flash芯片编程</h2><p>驱动安装成功后，打开编程器软件，点击<code>检测</code>:</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-30-02.png" alt="检测" /></p><p>左侧出现flash芯片信息则表示识别成功。若失败用点力重新夹一下夹子，然后重新检测！</p><p>识别成功后，点击读取：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-32-09.png" alt="读取" /></p><p>读取到内容后，应该点击保存按钮进行备份，但因为路由器已经变砖且我在变砖前备份过eeprom，因此跳过备份。</p><p>点击打开，选取breed文件，这里是<code>breed-mt7620-phicomm-psg1208.bin</code>：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-36-13.png" alt="打开" /></p><p>然后点击写入，注意不要移动接触线和板子，写入过程断线可能直接报废。写入完成后点击校验，检查写入是否正确：</p><p><img src="/images/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%99%A8%E7%A1%AC%E5%88%B7%E6%95%91%E7%A0%96/2020-02-19-19-39-38.png" alt="编程校验成功" /></p><p>这样就救砖成功了！</p><h1 id="使用breed"><a class="markdownIt-Anchor" href="#使用breed"></a> 使用breed</h1><p>用网线连接路由器，按住路由器开机键再插入电源，进入breed模式。</p><p>由于eeprom不一定能通用，建议先刷入<code>PandoraBox-ralink-mt7620-phicomm-k2-2018-12-31-git-4b6a3d5ca-squashfs-sysupgrade.bin</code>尝试是否可以打开，刷入时选择“公版”。</p><p>如果依旧打不开尝试将eeprom和PandoraBox固件都刷入。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E6%8A%98%E8%85%BE%E9%80%A0%E4%BD%9C-%E5%88%B7%E6%9C%BA/">折腾造作-刷机</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://cloud.tencent.com/developer/article/1378161">【Phi】斐讯K2救砖记 – 从编程器到复活</a></p><p><a href="https://www.right.com.cn/FORUM/thread-197786-1-1.html">【2019.01.01更新】K1K2K2g和K2P等官方Pandorabox固件</a></p><p><a href="https://jingyan.baidu.com/article/624e74594dbc8d34e8ba5aa6.html">Win10怎么禁用驱动程序强制签名</a></p>]]></content>
      
      
      <categories>
          
          <category> 折腾造作 - 刷机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 路由器 </tag>
            
            <tag> 刷机 </tag>
            
            <tag> 斐讯 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code配置C/C++</title>
      <link href="posts/e3726273/"/>
      <url>posts/e3726273/</url>
      
        <content type="html"><![CDATA[<h1 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h1><ul><li><p>下载并安装MinGW-w64</p><p>推荐使用离线方式安装，因网络原因，在线安装大概率失败。</p><ul><li><p>在线安装包</p><p>进入<a href="https://sourceforge.net/projects/mingw-w64/files/">MinGW-w64</a>页面下载并安装<code>MinGW-w64</code>。</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEC-C/1582037372703.png" alt="1582037372703" /></p></li><li><p>离线压缩包</p><p>若在线安装因为网络原因失败，可下载<a href="https://sourceforge.net/projects/mingw-w64/files/">压缩包</a>。往下稍微翻一下，选最新版本中的<code>x86_64-posix-seh</code>。下载完成后解压到合适的位置，如<code>C:\Program Files\mingw64</code>，然后手动添加环境变量：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEC-C/1582043841169.png" alt="1582043841169" /></p></li></ul></li><li><p>下载插件：C/C++ 插件</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEC-C/1582035915993.png" alt="1582035915993" /></p></li></ul><h1 id="创建配置文件"><a class="markdownIt-Anchor" href="#创建配置文件"></a> 创建配置文件</h1><p>在项目工程目录下创建<code>.vscode</code>文件，分别创建三个文件：</p><ul><li><p><code>c_cpp_properties.json</code>，将文件中的目录替换成你的MinGW安装目录：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Win32&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;includePath&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span>,</span><br><span class="line">                <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++&quot;</span>,</span><br><span class="line">                <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++/x86_64-w64-mingw32&quot;</span>,</span><br><span class="line">                <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++/backward&quot;</span>,</span><br><span class="line">                <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include&quot;</span>,</span><br><span class="line">                <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++/tr1&quot;</span>,</span><br><span class="line">                <span class="string">&quot;C:/Program Files/mingw64/x86_64-w64-mingw32/include&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">&quot;defines&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;_DEBUG&quot;</span>,</span><br><span class="line">                <span class="string">&quot;UNICODE&quot;</span>,</span><br><span class="line">                <span class="string">&quot;__GNUC__=6&quot;</span>,</span><br><span class="line">                <span class="string">&quot;__cdecl=__attribute__((__cdecl__))&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">&quot;intelliSenseMode&quot;</span>: <span class="string">&quot;msvc-x64&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;browse&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;path&quot;</span>: [</span><br><span class="line">                    <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++/x86_64-w64-mingw32&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++/backward&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;C:/Program Files/mingw64/lib/gcc/x86_64-w64-mingw32/8.1.0/include/c++/tr1&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;C:/Program Files/mingw64/x86_64-w64-mingw32/include&quot;</span></span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">&quot;limitSymbolsToIncludedHeaders&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">&quot;databaseFilename&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;compilerPath&quot;</span>: <span class="string">&quot;C:/Program Files (x86)/mingw64/bin/gcc.exe&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;cStandard&quot;</span>: <span class="string">&quot;c11&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;cppStandard&quot;</span>: <span class="string">&quot;c++17&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="number">4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>launch.json</code>，将<code>miDebuggerPath</code>替换成你的MinGW安装目录：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;C++ Launch (GDB)&quot;</span>,                </span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;cppdbg&quot;</span>,                         </span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,                        </span><br><span class="line">            <span class="attr">&quot;targetArchitecture&quot;</span>: <span class="string">&quot;x86&quot;</span>,                </span><br><span class="line">            <span class="attr">&quot;program&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;\\$&#123;fileBasename&#125;.exe&quot;</span>,                 </span><br><span class="line">            <span class="attr">&quot;miDebuggerPath&quot;</span>:<span class="string">&quot;C:/Program Files/mingw64/bin/gdb.exe&quot;</span>, </span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: [],     </span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span>: <span class="literal">false</span>,                  </span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span>,                  </span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span>: <span class="literal">true</span>,                  </span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span>: <span class="string">&quot;g++&quot;</span>　　                  </span><br><span class="line">            &#125;</span><br><span class="line">    ]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li><li><p><code>tasks.json</code>：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;2.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;command&quot;</span>: <span class="string">&quot;g++&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;args&quot;</span>: [<span class="string">&quot;-g&quot;</span>,<span class="string">&quot;-std=c++11&quot;</span>,<span class="string">&quot;$&#123;file&#125;&quot;</span>,<span class="string">&quot;-o&quot;</span>,<span class="string">&quot;$&#123;workspaceRoot&#125;\\$&#123;fileBasename&#125;.exe&quot;</span>],</span><br><span class="line">    <span class="attr">&quot;problemMatcher&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;owner&quot;</span>: <span class="string">&quot;cpp&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;fileLocation&quot;</span>: [<span class="string">&quot;relative&quot;</span>, <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span>],</span><br><span class="line">        <span class="attr">&quot;pattern&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;regexp&quot;</span>: <span class="string">&quot;^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;file&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">&quot;line&quot;</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">&quot;column&quot;</span>: <span class="number">3</span>,</span><br><span class="line">            <span class="attr">&quot;severity&quot;</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="attr">&quot;message&quot;</span>: <span class="number">5</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h1><p>按<code>F5</code>或左侧工具栏第四个Debug按钮中的绿色运行按钮即可运行，若有断点则为debug。</p><h1 id="可选安装-code-runner插件"><a class="markdownIt-Anchor" href="#可选安装-code-runner插件"></a> （可选）安装 Code Runner插件</h1><p>Code Runner 可以免除以上三个配置文件的创建，能很方便地运行代码，但是<strong>无法调试</strong>。如果无需调试，可以选择安装此插件：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEC-C/1582035983293.png" alt="1582035983293" /></p><p>按<code>ctrl+,</code>进入设置界面，点击右上角切换到<code>Config</code>文件，添加以下内容：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEC-C/1582035717006.png" alt="1582035717006" /></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Code Runner Config*/</span></span><br><span class="line"><span class="string">&quot;code-runner.clearPreviousOutput&quot;</span>: <span class="literal">true</span>,    <span class="comment">// 运行时清除输出</span></span><br><span class="line"><span class="string">&quot;code-runner.saveAllFilesBeforeRun&quot;</span>: <span class="literal">true</span>,  <span class="comment">// 运行前保存所有文件</span></span><br><span class="line"><span class="string">&quot;code-runner.runInTerminal&quot;</span>: <span class="literal">true</span>,          <span class="comment">// 在terminal中运行，从而可以输入，且不会乱码</span></span><br></pre></td></tr></table></figure><p>完成后，点击右上角三角按钮或右键<code>Run Code</code>即可运行代码。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多VS Code相关配置见<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-VS-Code/">环境搭建 - VS Code</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://www.zhihu.com/question/30315894">Visual Studio Code 如何编写运行 C、C++ 程序？ - 知乎</a></p><p><a href="https://blog.csdn.net/qq_38413498/article/details/88747546">VScode 调试 c++_C/C++_yDarkin-CSDN博客</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> C/C++ </tag>
            
            <tag> 配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code配置MarkDown</title>
      <link href="posts/3ce74ebc/"/>
      <url>posts/3ce74ebc/</url>
      
        <content type="html"><![CDATA[<h1 id="安装插件"><a class="markdownIt-Anchor" href="#安装插件"></a> 安装插件</h1><ul><li>Markdown All in One</li><li>Markdown Preview Enhanced</li></ul><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEMarkDown/1582083185868.png" alt="1582083185868" /></p><h1 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h1><p>创建<code>.md</code>文件，编辑后点击右上角的预览按钮，有两种模式：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEMarkDown/1582083619701.png" alt="1582083619701" /></p><h1 id="可选使用paste-image插入截图"><a class="markdownIt-Anchor" href="#可选使用paste-image插入截图"></a> （可选）使用Paste Image插入截图</h1><p>该插件可以直接将剪贴板中的图片插入Markdown文件，并自动创建文件夹保存该图片，非常方便。</p><ul><li>若为 Linux 系统，安装 <code>sudo apt-get install xclip</code></li><li>安装插件 Paste Image</li><li>默认按下 <code>Ctrl + Alt + v</code>或按<code>Ctrl + Shift + P</code>输入<code>Paste Image</code>即可将截图添加到md文档中</li></ul><p><strong>相关配置</strong></p><ul><li><p>图片保存位置</p><p>图片默认保存在当前文档所在的目录，可以自定义路径，按<code>Ctrl+,</code>进入配置界面并按右上角切换到<code>settings.json</code>文件，添加以下内容（路径改成你期望的图片存放位置）：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Paste Image Config */</span></span><br><span class="line"><span class="string">&quot;pasteImage.path&quot;</span>: <span class="string">&quot;../images/$&#123;currentFileNameWithoutExt&#125;/&quot;</span>,</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：使用<code>../</code>时一定确保回溯到的目录全部在当前工程目录以内，否则创建图片会失败！</p><p><strong>由于不同工程有不同的文件保存逻辑，因此可以在工程文件目录下创建<code>.vscode/settings.json</code>文件，仅针对当前工程生效，如管理我的hexo博客的配置：</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Paste Image Config */</span></span><br><span class="line"><span class="string">&quot;pasteImage.path&quot;</span>: <span class="string">&quot;$&#123;projectRoot&#125;/source/images/$&#123;currentFileNameWithoutExt&#125;&quot;</span>,</span><br><span class="line"><span class="string">&quot;pasteImage.basePath&quot;</span>: <span class="string">&quot;$&#123;projectRoot&#125;/source&quot;</span>,</span><br><span class="line"><span class="string">&quot;pasteImage.forceUnixStyleSeparator&quot;</span>: <span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;pasteImage.prefix&quot;</span>: <span class="string">&quot;/&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>快捷键失效</p><p>如果按<code>Ctrl+Alt+V</code>不可用，请切换成其他快捷键。我甚至无法设置<code>Ctrl+Alt+V</code>快捷键，猜测与全局快捷键冲突。按<code>File -&gt; Preferences -&gt; Keyboard Shortcuts</code>：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEMarkDown/1582086079086.png" alt="1582086079086" /></p><p>搜索 Paste Image 并修改快捷键，我修改为<code>Ctrl + Alt + P</code>：</p><p><img src="/images/VS-Code%E9%85%8D%E7%BD%AEMarkDown/1582086134268.png" alt="1582086134268" /></p></li></ul><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多VS Code相关配置见<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-VS-Code/">环境搭建 - VS Code</a></p><h2 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h2><p><a href="https://blog.csdn.net/javahighness/article/details/90454136">使用Paste Image插件来方便的给Markdown添加截图的功能_开发工具_JAVA_HIGHNESS的专栏-CSDN博客</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> Hexo </tag>
            
            <tag> 配置 </tag>
            
            <tag> MarkDown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code右键添加Open with Code</title>
      <link href="posts/4c8a04c2/"/>
      <url>posts/4c8a04c2/</url>
      
        <content type="html"><![CDATA[<p>新建脚本<code>vsCodeOpenFolder.reg</code>输入以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\VSCode]</span><br><span class="line">@=&quot;Open with Code&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\VSCode\command]</span><br><span class="line">@=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot; \&quot;%1\&quot;&quot;</span><br><span class="line"></span><br><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\VSCode]</span><br><span class="line">@=&quot;Open with Code&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\shell\VSCode\command]</span><br><span class="line">@=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot; \&quot;%V\&quot;&quot;</span><br><span class="line"></span><br><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\VSCode]</span><br><span class="line">@=&quot;Open with Code&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe&quot;</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\Directory\Background\shell\VSCode\command]</span><br><span class="line">@=&quot;\&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe\&quot; \&quot;%V\&quot;&quot;</span><br></pre></td></tr></table></figure><p>替换其中相关路径为<code>VS Code</code>安装路径，双击运行即可。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多VS Code相关配置见<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-VS-Code/">环境搭建 - VS Code</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> 菜单栏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code设置代理</title>
      <link href="posts/cb8e1f52/"/>
      <url>posts/cb8e1f52/</url>
      
        <content type="html"><![CDATA[<p>按<code>Ctrl+,</code>打开设置，搜索<code>Http: Proxy</code>，填入代理地址，如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:1082</span><br></pre></td></tr></table></figure><p><strong>注意，端口不一定是1080，打开浏览器，查看代理端口。</strong></p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>更多VS Code相关配置见<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-VS-Code/">环境搭建 - VS Code</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - VS Code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> 代理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo使用katex渲染公式</title>
      <link href="posts/95c5c5d2/"/>
      <url>posts/95c5c5d2/</url>
      
        <content type="html"><![CDATA[<p>首先禁用MathJax（如果你配置过 MathJax 的话），然后修改<code>butterfly.yml</code>（若使用其他主题则修改对应<code>_config.yml</code>文件），以便加载katex.min.css:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># true 表示每一页都加载katex.js</span></span><br><span class="line">  <span class="comment"># false 需要时加载，须在使用的Markdown Front-matter 加上 katex: true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide_scrollbar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>由于不再需要添加<code>katex.min.js</code>来渲染数学方程。相应的需要卸载之前 hexo 的 markdown 渲染器以及<code>hexo-math</code>，然后安装新的<code>hexo-renderer-markdown-it-plus</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 替换 `hexo-renderer-kramed` 或者 `hexo-renderer-marked` 等hexo的markdown渲染器</span></span><br><span class="line"><span class="comment"># 可以在你的package.json里找到hexo的markdwon渲染器，并将其卸载</span></span><br><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">npm un hexo-renderer-kramed --save</span><br><span class="line"><span class="comment"># 卸载 `hexo-math`</span></span><br><span class="line">npm un hexo-math --save</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后安装 `hexo-renderer-markdown-it-plus`</span></span><br><span class="line">npm i @upupming/hexo-renderer-markdown-it-plus --save</span><br></pre></td></tr></table></figure><p>可以通过 <code>@neilsustc/markdown-it-katex</code>控制 KaTeX 的设置，所有可配置的选项参见 <a href="https://katex.org/docs/options.html%E3%80%82">https://katex.org/docs/options.html。</a> 如想要禁用掉 KaTeX 在命令行上输出的宂长的警告信息，你可以在根目录的 _config.yml 中使用下面的配置将 strict 设置为 false:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">markdown_it_plus:</span><br><span class="line">  plugins:</span><br><span class="line">    - plugin:</span><br><span class="line">      name: &#x27;@neilsustc/markdown-it-katex&#x27;</span><br><span class="line">      enable: true</span><br><span class="line">      options:</span><br><span class="line">        strict: false</span><br></pre></td></tr></table></figure><p>当然，你还可以利用这个特性来定义一些自己常用的 <code>macros</code>。</p><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://jerryc.me/posts/21cfbf15/#KaTeX">hexo-theme-butterfly安裝文檔 | JerryC</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 博客 </tag>
            
            <tag> katex公式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MobaXterm生成ssh_key并导出</title>
      <link href="posts/496913e0/"/>
      <url>posts/496913e0/</url>
      
        <content type="html"><![CDATA[<h1 id="生成密钥"><a class="markdownIt-Anchor" href="#生成密钥"></a> 生成密钥</h1><p>打开菜单<code>Tools -&gt; MobaKeyGen(SSH key generator)</code>：</p><p><img src="/images/Problem-MobaXterm%E7%94%9F%E6%88%90ssh-key%E5%B9%B6%E5%AF%BC%E5%87%BA/%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9.png" alt="菜单选项" /></p><p>选择<code>RSA</code>和<code>2048</code>参数：</p><p><img src="/images/Problem-MobaXterm%E7%94%9F%E6%88%90ssh-key%E5%B9%B6%E5%AF%BC%E5%87%BA/%E5%8F%82%E6%95%B0%E9%80%89%E6%8B%A9.png" alt="参数选择" /></p><h1 id="导出密钥"><a class="markdownIt-Anchor" href="#导出密钥"></a> 导出密钥</h1><p>不要通过点击上图中的<code>Save public key</code>和<code>Save private key</code>来导出密钥，这样导出的密钥文件并不规范，不能被其他软件识别。</p><ul><li><p>导出私钥</p><p>点击菜单栏的<code>Conversions -&gt; Export OpenSSH key</code>：</p><p><img src="/images/Problem-MobaXterm%E7%94%9F%E6%88%90ssh-key%E5%B9%B6%E5%AF%BC%E5%87%BA/%E5%AF%BC%E5%87%BA%E7%A7%81%E9%92%A5.png" alt="导出私钥" /></p></li><li><p>导出公钥</p><p>手动复制公钥部分保存至<code>ssh-key.pub</code>文件：</p><p><img src="/images/Problem-MobaXterm%E7%94%9F%E6%88%90ssh-key%E5%B9%B6%E5%AF%BC%E5%87%BA/%E5%85%AC%E9%92%A5%E9%83%A8%E5%88%86.png" alt="公钥部分" /></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MobaXterm </tag>
            
            <tag> ssh密钥 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo的Url格式优化</title>
      <link href="posts/9e1df0ba/"/>
      <url>posts/9e1df0ba/</url>
      
        <content type="html"><![CDATA[<p>Hexo默认根据配置文件<code>_config.yml</code>里的<code>permalink: :year/:month/:day/:title/</code>生成链接，这种url链接里有年月日分隔符，且有中文出现，会造成很多问题。</p><p>使用 Hexo-abbrlink 插件解决该问题：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cnpm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>修改<code>_config.yml</code>中的<code>permalink</code>字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span></span><br></pre></td></tr></table></figure><p>在<code>_config.yml</code>末尾添加以下字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># abbrlink config</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br></pre></td></tr></table></figure><p>清除缓存，重新生成并启动：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>成功后，网页Url效果如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1:4000/posts/c1d5d64c/</span><br></pre></td></tr></table></figure><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Url格式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo配置butterfly主题</title>
      <link href="posts/fad26ff2/"/>
      <url>posts/fad26ff2/</url>
      
        <content type="html"><![CDATA[<h1 id="准备工作"><a class="markdownIt-Anchor" href="#准备工作"></a> 准备工作</h1><p>完成Hexo环境搭建，参考<a href="/posts/b8f4bd70/" title="Hexo博客搭建">Hexo博客搭建</a>。</p><h1 id="安装butterfly主题"><a class="markdownIt-Anchor" href="#安装butterfly主题"></a> 安装Butterfly主题</h1><h2 id="下载主题"><a class="markdownIt-Anchor" href="#下载主题"></a> 下载主题</h2><p>在终端窗口下，定位到 Hexo 站点目录下。使用 <code>Git</code> checkout 代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br></pre></td></tr></table></figure><p>如果你没有 pug 以及 stylus 的渲染器（默认是没有的），请下载安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cnpm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h2 id="启用主题"><a class="markdownIt-Anchor" href="#启用主题"></a> 启用主题</h2><p>修改站點配置文件<code>_config.yml</code>，把主題改為<code>Butterfly</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">Butterfly</span></span><br></pre></td></tr></table></figure><p>为了主题的平滑升级, 把主题默认配置文件<code>themes/Butterfly/_config.yml</code>复製到 Hexo 工作目录下的<code>themes/source/_data/butterfly.yml</code>，如果<code>source/_data</code>的目录不存在那就创建一个。</p><p>如果创建了<code>butterfly.yml</code>, 它将会替换主题默认配置文件<code>themes/Butterfly/_config.yml</code>里的配置项 (不是合并而是替换), 之后就只需要通过<code>git pull</code>的方式平滑地升级 theme-butterfly了。</p><h2 id="验证主题"><a class="markdownIt-Anchor" href="#验证主题"></a> 验证主题</h2><p>清除 Hexo 的缓存，并启动Hexo：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hHexo clean &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>当命令行输出中提示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p>即可使用浏览器访问 <code>http://localhost:4000</code>，检查站点是否正确运行。</p><p>如果出现以下错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: Cannot find module <span class="string">&#x27;cheerio&#x27;</span></span><br></pre></td></tr></table></figure><p>则运行以下命令安装<code>cheerio</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cnpm install cheerio</span><br></pre></td></tr></table></figure><h1 id="主题配置"><a class="markdownIt-Anchor" href="#主题配置"></a> 主题配置</h1><p><strong>配置文件説明</strong><br />站点配置文件<code>_config.yml</code>是Hexo工作目录下的主配置文件<br /><code>butterfly.yml</code>是 Butterfly 的配置文件。需要手动将主题目录下的<code>_config.yml</code>文件复製到 Hexo 工作目录的<code>source/_data/butterfly.yml</code>中。如果文件或者文件夹不存在，需要手动创建。</p><h2 id="修改首页显示"><a class="markdownIt-Anchor" href="#修改首页显示"></a> 修改首页显示</h2><h3 id="修改导航菜单"><a class="markdownIt-Anchor" href="#修改导航菜单"></a> 修改导航菜单</h3><p>配置<code>butterfly.yml</code>，必须是<code>/xxx/</code>，后面<code>||</code>分开，然后写图标名。菜单名称可自己修改：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标籤:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-folder-open</span></span><br><span class="line"><span class="comment">#  清单||fa fa-heartbeat:</span></span><br><span class="line"><span class="comment">#    - 音乐 || /music/ || fa fa-music</span></span><br><span class="line"><span class="comment">#    - 照片 || /Gallery/ || fa fa-picture-o</span></span><br><span class="line"><span class="comment">#    - 电影 || /movies/ || fa fa-film</span></span><br><span class="line"><span class="comment">#  友链: /link/ || fa fa-link</span></span><br><span class="line"><span class="comment">#  关于: /about/ || fa fa-heart</span></span><br></pre></td></tr></table></figure><h3 id="修改首页背景图片"><a class="markdownIt-Anchor" href="#修改首页背景图片"></a> 修改首页背景图片</h3><p>修改<code>butterfly.yml</code>中的<code>index_img</code>为自己的图片：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_img:</span> <span class="string">/img/top_img/index.jpg</span></span><br><span class="line"><span class="attr">default_top_img:</span> <span class="string">/img/top_img/index.jpg</span></span><br></pre></td></tr></table></figure><p>修改首页子标题，修改<code>subtitle</code>字段：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">subtitle:</span><br><span class="line">  sub:</span><br><span class="line">    - 中文</span><br><span class="line">    - English</span><br></pre></td></tr></table></figure><h3 id="修改标签栏小图标"><a class="markdownIt-Anchor" href="#修改标签栏小图标"></a> 修改标签栏小图标</h3><p>替换<code>/themes/Butterfly/source/img/favicon.ico</code>文件为你的图标。</p><h2 id="配置页面"><a class="markdownIt-Anchor" href="#配置页面"></a> 配置页面</h2><h3 id="修改侧边栏"><a class="markdownIt-Anchor" href="#修改侧边栏"></a> 修改侧边栏</h3><ul><li><p>设置头像</p><p>修改<code>butterfly.yml</code>中的<code>avatar</code>为自己的图片：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span> <span class="string">/img/avatar.jpeg</span></span><br></pre></td></tr></table></figure></li><li><p>社交按钮</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fa fa-github:</span> <span class="string">https://github.com/</span></span><br><span class="line">  <span class="attr">fa fa-envelope:</span> <span class="string">mailto:your_mail@outlook.com</span></span><br><span class="line"><span class="comment">#  fa fa-rss: /atom.xml</span></span><br></pre></td></tr></table></figure><p>不需要的注释掉即可。</p></li><li><p>网页已运行时间</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#网页开通时间</span></span><br><span class="line"><span class="comment">#格式: 月/日/年 时间</span></span><br><span class="line"><span class="comment">#也可以写成 年/月/日 时间</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">start_date:</span> <span class="number">6</span><span class="string">/7/2018</span> <span class="number">00</span><span class="string">:00:00</span>  </span><br></pre></td></tr></table></figure></li></ul><h3 id="footer设置"><a class="markdownIt-Anchor" href="#footer设置"></a> Footer设置</h3><ul><li><p>博客年份<br />配置<code>butterfly.yml</code>的<code>since</code>字段，它用来展示站点起始时间，位于页面的最底部。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">since:</span> <span class="number">2018</span></span><br></pre></td></tr></table></figure></li><li><p>页脚自定义文本<br /><code>footer_custom_text</code>用来在页脚自定义文本,通常可以在这里写声明文本等。支持 HTML。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer_custom_text:</span> <span class="string">Hi,</span> <span class="string">welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">blog!</span></span><br></pre></td></tr></table></figure></li><li><p>ICP<br />对于部分有备案的域名，可以在配置<code>ICP</code>字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ICP:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">http://www.beian.miit.gov.cn/state/outPortal/loginPortal.action</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">粤ICP备xxxx</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">/img/icp.png</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="文章显示"><a class="markdownIt-Anchor" href="#文章显示"></a> 文章显示</h2><h3 id="首页摘要封面图"><a class="markdownIt-Anchor" href="#首页摘要封面图"></a> 首页摘要封面图</h3><p>在目标文档的<code>Front-matter</code>添加<code>cover</code>字段，并填上要显示的图片地址。如果不配置<code>cover</code>,可以设置显示默认的封面.</p><p>配置<code>butterfly.yml</code>的<code>default_cover</code>字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_cover:</span> <span class="string">https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br></pre></td></tr></table></figure><h3 id="代码配置"><a class="markdownIt-Anchor" href="#代码配置"></a> 代码配置</h3><p>取消代码语言显示，修改<code>butterfly.yml</code>中的<code>highlight_lang</code>字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_lang:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h2 id="夜间模式"><a class="markdownIt-Anchor" href="#夜间模式"></a> 夜间模式</h2><p>配置<code>butterfly.yml</code>中的<code>display_mode</code>字段：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">display_mode: dark</span><br></pre></td></tr></table></figure><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://jerryc.me/posts/21cfbf15/">hexo-theme-butterfly安裝文檔 | JerryC</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Surface官方映像恢复系统</title>
      <link href="posts/b46dc81a/"/>
      <url>posts/b46dc81a/</url>
      
        <content type="html"><![CDATA[<p>设备Surface Pro 4，相机始终打不开，即使恢复系统也无济于事。猜测系统文件损坏，甚至影响到恢复分区。尝试使用官方映像恢复成功。</p><h1 id="下载官方恢复映像"><a class="markdownIt-Anchor" href="#下载官方恢复映像"></a> 下载官方恢复映像</h1><ul><li><p>登录可直接选择设备（国内实在太慢，选择手动操作）</p></li><li><p>不登陆则手动选择设备并输入序列号</p><p>在<a href="https://support.microsoft.com/zh-cn/surfacerecoveryimage">surface恢复映像</a>官方网页选择<strong>产品</strong>为Surface Pro 4，<strong>序列号</strong>可在机身上找到，也可以在<code>微软应用商店</code>中下载应用&quot;surface&quot;获得。</p></li></ul><h1 id="创建恢复驱动器"><a class="markdownIt-Anchor" href="#创建恢复驱动器"></a> 创建恢复驱动器</h1><p>在开始菜单输入”恢复驱动器“，选择”创建一个恢复驱动器“，<strong>注意一定将”将系统文件备份到恢复驱动器“取消勾选</strong>。</p><p><img src="/images/%E4%BD%BF%E7%94%A8Surface%E5%AE%98%E6%96%B9%E6%98%A0%E5%83%8F%E6%81%A2%E5%A4%8D%E7%B3%BB%E7%BB%9F/%E5%8F%96%E6%B6%88%E5%8B%BE%E9%80%89.png" alt="取消勾选" /></p><p>选择要创建映像的U盘，<strong>注意U盘会被格式化</strong>，请备份重要数据。等待格式化U盘并创建恢复驱动器成功。</p><h1 id="将恢复映像导入恢复驱动器"><a class="markdownIt-Anchor" href="#将恢复映像导入恢复驱动器"></a> 将恢复映像导入恢复驱动器</h1><p>接下来直接将下载的映像zip文件中的内容解压到U盘即可，注意将zip文件中的内容直接放到U盘根目录，外层不要有文件夹。出现相同文件时选择全部替换。</p><p><strong>注意</strong>：复制结束后，U盘根目录应如下图：</p><p><img src="/images/%E4%BD%BF%E7%94%A8Surface%E5%AE%98%E6%96%B9%E6%98%A0%E5%83%8F%E6%81%A2%E5%A4%8D%E7%B3%BB%E7%BB%9F/%E5%A4%8D%E5%88%B6%E5%90%8E%E6%95%88%E6%9E%9C.png" alt="复制后效果" /></p><p>至此，恢复驱动器创建完成！</p><h1 id="从恢复驱动器恢复surface"><a class="markdownIt-Anchor" href="#从恢复驱动器恢复surface"></a> 从恢复驱动器恢复Surface</h1><p>插入U盘，进入”高级启动“，选择”疑难解答“，然后选择”从驱动器恢复“，然后按照正常恢复系统的方式进行操作即可。</p>]]></content>
      
      
      <categories>
          
          <category> 疑难杂症 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> surface </tag>
            
            <tag> 恢复系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo如何引用自己的文章</title>
      <link href="posts/8404cd56/"/>
      <url>posts/8404cd56/</url>
      
        <content type="html"><![CDATA[<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_link 文章文件名（不要后缀） 文章标题（可选） %&#125;</span><br></pre></td></tr></table></figure><p>如：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_link Hello-World %&#125;</span><br><span class="line">&#123;% post_link Hello-World 你好世界 %&#125;</span><br></pre></td></tr></table></figure><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://segmentfault.com/q/1010000006210048/">hexo如何引用自己的文章？ - SegmentFault 思否</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 引用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo配置NexT主题</title>
      <link href="posts/6f2f62d0/"/>
      <url>posts/6f2f62d0/</url>
      
        <content type="html"><![CDATA[<h1 id="准备工作"><a class="markdownIt-Anchor" href="#准备工作"></a> 准备工作</h1><p>完成Hexo环境搭建，参考<a href="/posts/b8f4bd70/" title="Hexo博客搭建">Hexo博客搭建</a>。</p><h1 id="安装next主题"><a class="markdownIt-Anchor" href="#安装next主题"></a> 安装NexT主题</h1><h2 id="下载主题"><a class="markdownIt-Anchor" href="#下载主题"></a> 下载主题</h2><p>在终端窗口下，定位到 Hexo 站点目录下。使用 <code>Git</code> checkout 代码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> folder</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><h2 id="启用主题"><a class="markdownIt-Anchor" href="#启用主题"></a> 启用主题</h2><p>打开站点配置文件<code>_config.yml</code>， 找到 <code>theme</code> 字段，并将其值更改为 <code>next</code>。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br></pre></td></tr></table></figure><h2 id="验证主题"><a class="markdownIt-Anchor" href="#验证主题"></a> 验证主题</h2><p>清除 Hexo 的缓存：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hHexo clean</span><br></pre></td></tr></table></figure><p>启动 Hexo，并开启调试模式（即加上 <code>--debug</code>）:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s --debug</span><br></pre></td></tr></table></figure><p>在服务启动的过程，注意观察命令行输出是否有任何异常信息， 当命令行输出中提示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p>即可使用浏览器访问 <code>http://localhost:4000</code>，检查站点是否正确运行。</p><h1 id="主题配置"><a class="markdownIt-Anchor" href="#主题配置"></a> 主题配置</h1><h2 id="设置站点信息"><a class="markdownIt-Anchor" href="#设置站点信息"></a> 设置站点信息</h2><p>修改站点配置文件 <code>_config.yml</code> 中的 <code>site</code> 字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">网站标题</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">网站副标题</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">网站描述</span><span class="comment"># 站点描述</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">作者名字</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-Hans</span>  <span class="comment"># 网站使用的语言 简体中文 zh-Hans</span></span><br></pre></td></tr></table></figure><h2 id="选择scheme"><a class="markdownIt-Anchor" href="#选择scheme"></a> 选择Scheme</h2><p>目前 NexT 支持三种 Scheme：</p><ul><li>Muse - 默认 Scheme，这是 NexT 最初的版本，黑白主调，大量留白</li><li>Mist - Muse 的紧凑版本，整洁有序的单栏外观</li><li>Pisces - 双栏 Scheme，小家碧玉似的清新</li></ul><p>通过更改主题配置文件 <code>next/_config.yml</code>切换Scheme，将需用启用的 scheme 前面注释 <code>#</code> 去除：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Pisces</span></span><br></pre></td></tr></table></figure><h2 id="设置菜单"><a class="markdownIt-Anchor" href="#设置菜单"></a> 设置菜单</h2><ul><li><p><strong>设置菜单项和图标</strong></p><p>修改主题配置文件 <code>next/_config.yml</code> 中的 <code>menu</code> 字段，设置格式是：<code>item name: link</code>。其中 <code>item name</code>是一个名称，这个名称并不直接显示在页面上，它将用于匹配图标以及翻译。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: /|| home<span class="comment">#主页</span></span><br><span class="line">  <span class="comment">#about: /about/ || user# 关于页面</span></span><br><span class="line">  tags: /tags/ || tags<span class="comment"># 标签页</span></span><br><span class="line">  categories: /categories/|| th<span class="comment"># 分类页</span></span><br><span class="line">  archives: /archives/|| archive<span class="comment"># 归档页</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure><p>若站点运行在子目录中，将链接前缀的 <code>/</code> 去掉。</p><p><strong><code>||</code>前不能有空格</strong>，后接图标名称 。</p></li><li><p>设置菜单项显示文本</p><p>以简体中文为例，若需要添加一个菜单项，比如 <code>something</code>。那么就需要修改简体中文对应的翻译文件 <code>languages/zh-Hans.yml</code>，在 <code>menu</code> 字段下添加一项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="comment"># ...</span></span><br><span class="line">  <span class="attr">something:</span> <span class="string">有料</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="设置侧边栏"><a class="markdownIt-Anchor" href="#设置侧边栏"></a> 设置侧边栏</h2><p>默认情况下，侧栏仅在文章页面（拥有目录列表）时才显示，并放置于右侧位置。 可以通过修改主题配置文件 <code>next/_config.yml</code> 中的 <code>sidebar</code> 字段来控制侧栏的行为：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">left</span><span class="comment"># left | right</span></span><br><span class="line">  <span class="attr">display:</span> <span class="string">post</span><span class="comment"># post | always | hide | remove</span></span><br></pre></td></tr></table></figure><ul><li><code>post</code> - 默认行为，在文章页面（拥有目录列表）时显示</li><li><code>always</code> - 在所有页面中都显示</li><li><code>hide</code> - 在所有页面中都隐藏（可以手动展开）</li><li><code>remove</code> - 完全移除</li></ul><h2 id="设置首页文章预览"><a class="markdownIt-Anchor" href="#设置首页文章预览"></a> 设置首页文章预览</h2><p>修改主题配置文件 <code>next/_config.yml</code> 中的 <code>sidebar</code> 字段控制首页文章预览：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure><p>将<code>enable</code>设置为<code>true</code>就可以开启首页文章预览了，length是显示预览的长度。在文章中使用<code>&lt;!-- more --&gt;</code>标志来精确控制文章摘要预览的位置。</p><h2 id="设置头像"><a class="markdownIt-Anchor" href="#设置头像"></a> 设置头像</h2><p>修改主题配置文件 <code>next/_config.yml</code> 中的 <code>avatar</code> 字段：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span> <span class="string">/images/avatar.gif</span><span class="comment"># 可以是source/images目录下的文件，也可以是完整的URL</span></span><br></pre></td></tr></table></figure><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://hexo.io/zh-cn/docs/configuration">配置 | Hexo</a></p><p><a href="https://www.jianshu.com/p/d5d3e10576d1">Hexo相关配置和使用</a></p><p><a href="http://theme-next.iissnan.com/getting-started.html">开始使用 - NexT 使用文档</a></p><p><a href="https://hexo.imydl.tech/archives/32043.html">优化了一下 Hexo 的Url格式 | 明月登楼Hexo博客</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客搭建</title>
      <link href="posts/b8f4bd70/"/>
      <url>posts/b8f4bd70/</url>
      
        <content type="html"><![CDATA[<h1 id="hexo简介"><a class="markdownIt-Anchor" href="#hexo简介"></a> Hexo简介</h1><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><p><strong>官方文档</strong>：<a href="https://hexo.io/zh-cn/docs/index.html">https://hexo.io/zh-cn/docs/index.html</a></p><h1 id="环境依赖"><a class="markdownIt-Anchor" href="#环境依赖"></a> 环境依赖</h1><ul><li><a href="http://nodejs.org/">Node.js</a> (Node.js 版本需不低于 8.10，建议使用 Node.js 10.0 及以上版本)</li><li><a href="http://git-scm.com/">Git</a></li></ul><h1 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h1><h2 id="安装git"><a class="markdownIt-Anchor" href="#安装git"></a> 安装Git</h2><ul><li><p>Windows</p><p>下载<a href="https://git-scm.com/downloads">Git</a>并安装</p></li><li><p>Linux</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install git-core</span><br></pre></td></tr></table></figure></li></ul><p>验证安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure><h2 id="安装-nodejs"><a class="markdownIt-Anchor" href="#安装-nodejs"></a> 安装 Node.js</h2><ul><li><p>Windows</p><ul><li>下载<a href="https://nodejs.org/en/">Node.js</a>并安装</li></ul></li><li><p>Linux</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install nodejs</span><br><span class="line">sudo apt install npm</span><br></pre></td></tr></table></figure></li></ul><p>检查是否安装成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><strong>设置国内镜像源</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure><h2 id="安装hexo"><a class="markdownIt-Anchor" href="#安装hexo"></a> 安装Hexo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>检查是否安装成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><h1 id="创建博客"><a class="markdownIt-Anchor" href="#创建博客"></a> 创建博客</h1><p><strong>以后命令皆在<code>Git Bash</code>中运行，部分命令需访问github，因此可能因网络原因失败。</strong></p><p>创建博客目录（其中<code>folder</code>是博客工程目录）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init folder</span><br><span class="line"><span class="built_in">cd</span> folder</span><br><span class="line">sudo npm install --save</span><br></pre></td></tr></table></figure><p>启动服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g<span class="comment"># 生成</span></span><br><span class="line">hexo s<span class="comment"># 启动</span></span><br></pre></td></tr></table></figure><p>在浏览器输入<code>localhost:4000</code>即可看到生成的博客（<strong>若为云服务器，必须在控制台添加防火墙规则</strong>）。</p><h2 id="创建分类页面"><a class="markdownIt-Anchor" href="#创建分类页面"></a> 创建分类页面</h2><p>执行命令，创建分类页面：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><p>得到以下提示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Created: ~/blog/<span class="built_in">source</span>/categories/index.md</span><br></pre></td></tr></table></figure><p>修改该<code>index.md</code>文件，添加<code>type: &quot;categories&quot;</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2020-02-15 19:36:46</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>打开<code>scaffolds/post.md</code>文件，添加<code>categories</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h2 id="创建标签页面"><a class="markdownIt-Anchor" href="#创建标签页面"></a> 创建标签页面</h2><p>执行命令，创建分类页面：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><p>得到以下提示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Created: ~/blog/<span class="built_in">source</span>/tags/index.md</span><br></pre></td></tr></table></figure><p>修改该<code>index.md</code>文件，添加<code>type: &quot;tags&quot;</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2020-02-15 19:41:04</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;tags&quot;</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h2 id="新建文章"><a class="markdownIt-Anchor" href="#新建文章"></a> 新建文章</h2><p>执行以下命令创建一篇新文章：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new title</span><br></pre></td></tr></table></figure><p>系统会在<code>source/_posts/</code>文件夹下生成一个Markdown文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO  Created: ~/blog/<span class="built_in">source</span>/_posts/title.md</span><br></pre></td></tr></table></figure><p>打开该文件，内容如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: title</span><br><span class="line">date: 2020-02-15 19:20:12</span><br><span class="line">categories:</span><br><span class="line"><span class="section">tags:</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>在这之后撰写自己的文章即可，也可以将已经写好的文章添加以上字段后粘贴至<code>source/_posts/</code>文件夹下。</p><h2 id="给文章添加categories和tags属性"><a class="markdownIt-Anchor" href="#给文章添加categories和tags属性"></a> 给文章添加&quot;categories&quot;和&quot;tags&quot;属性</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">搭建Hexo博客</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2017-05-26 12:12:57</span></span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="bullet">-</span> <span class="string">环境搭建</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Hexo</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Hexo</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">博客</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p><strong>注意</strong>：Hexo一篇文章只能属于一个分类。如果在“- 环境搭建”下方添加“- Hexo”，Hexo不会产生两个分类，而是把分类嵌套（即该文章属于 “- 环境搭建”下的 “- Hexo ”分类）。</p><h1 id="指令"><a class="markdownIt-Anchor" href="#指令"></a> 指令</h1><ul><li>init</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init [folder]</span><br></pre></td></tr></table></figure><p>新建一个网站。如果没有设置 <code>folder</code> ，Hexo 默认在目前的文件夹建立网站。</p><ul><li>new</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [layout] title</span><br></pre></td></tr></table></figure><p>新建一篇文章。如果没有设置 <code>layout</code> 的话，默认使用站点配置文件 <code>_config.yml</code>中的 <code>default_layout</code> 参数代替。</p><p>如果标题包含空格，请使用引号括起来。</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;post title with whitespace&quot;</span></span><br></pre></td></tr></table></figure><ul><li><code>-p</code>, <code>--path</code>  自定义新文章的路径</li><li><code>-r</code>, <code>--replace</code>  如果存在同名文章，将其替换</li><li><code>-s</code>, <code>--slug</code>  文章的 Slug，作为新文章的文件名和发布后的 URL</li></ul><ul><li><p>generate</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure><p>生成静态文件。</p><ul><li><code>-d</code>, <code>--deploy</code>  文件生成后立即部署网站</li><li><code>-w</code>, <code>--watch</code>  监视文件变动</li><li><code>-b</code>, <code>--bail</code>  生成过程中如果发生任何未处理的异常则抛出异常</li><li><code>-f</code>, <code>--force</code>  强制重新生成文件</li><li><code>-c</code>, <code>--concurrency</code>  最大同时生成文件的数量，默认无限制</li></ul><p>该命令可以简写为</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></li><li><p>publish</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish [layout] filename</span><br></pre></td></tr></table></figure><p>发表草稿。</p></li><li><p>server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>启动服务器。默认情况下，访问网址为： <code>http://localhost:4000/</code>。</p><ul><li><code>-p</code>, <code>--port</code>  重设端口</li><li><code>-s</code>, <code>--static</code>  只使用静态文件</li><li><code>-l</code>, <code>--log</code>  启动日记记录，使用覆盖记录格式</li></ul></li><li><p>deploy</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>部署网站。</p><ul><li><code>-g</code>, <code>--generate</code>  部署之前预先生成静态文件</li></ul><p>该命令可以简写为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li><p>render</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo render file1 [file2] ...</span><br></pre></td></tr></table></figure><p>渲染文件。</p><ul><li><code>-o</code>, <code>--output</code>  设置输出路径</li></ul></li><li><p>migrate</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo migrate <span class="built_in">type</span></span><br></pre></td></tr></table></figure><p>从其他博客系统 <a href="https://hexo.io/zh-cn/docs/migration">迁移内容</a>。</p></li><li><p>clean</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><p>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。</p><p>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p></li><li><p>list</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo list <span class="built_in">type</span></span><br></pre></td></tr></table></figure><p>列出网站资料。</p></li><li><p>version</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo version</span><br></pre></td></tr></table></figure><p>显示 Hexo 版本。</p></li><li><p>安全模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo --safe</span><br></pre></td></tr></table></figure><p>在安全模式下，不会载入插件和脚本。当您在安装新插件遭遇问题时，可以尝试以安全模式重新执行。</p></li><li><p>调试模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h --debug</span><br></pre></td></tr></table></figure><p>在终端中显示调试信息并记录到 <code>debug.log</code>。</p></li><li><p>简洁模式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo --silent</span><br></pre></td></tr></table></figure><p>隐藏终端信息。</p></li><li><p>显示草稿</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo --draft</span><br></pre></td></tr></table></figure><p>显示 <code>source/_drafts</code> 文件夹中的草稿文章。</p></li></ul><h1 id="更多"><a class="markdownIt-Anchor" href="#更多"></a> 更多</h1><p>参考<a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-Hexo/">环境搭建-Hexo</a></p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><p><a href="https://hexo.io/zh-cn/docs/">文档 | Hexo</a></p><p><a href="https://hexo.io/zh-cn/docs/setup">建站 | Hexo</a></p><p><a href="https://gavincrown.gitee.io/2019/09/18/%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EHexo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">搭建基于Hexo的个人博客</a></p><p><a href="https://blog.csdn.net/sinat_37781304/article/details/82729029">hexo史上最全搭建教程</a></p><p><a href="https://www.jianshu.com/p/343934573342">在windows下安装hexo - 简书</a></p><p><a href="https://www.jianshu.com/p/115594f64b41">npm 和 cnpm</a></p>]]></content>
      
      
      <categories>
          
          <category> 环境搭建 - Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
